(self.webpackChunkkanban=self.webpackChunkkanban||[]).push([[179],{8255:He=>{function Ce(N){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+N+"'");throw c.code="MODULE_NOT_FOUND",c})}Ce.keys=()=>[],Ce.resolve=Ce,Ce.id=8255,He.exports=Ce},7716:(He,Ce,N)=>{"use strict";N.d(Ce,{deG:()=>Zf,tb:()=>rv,AFp:()=>aM,ip1:()=>J0,CZH:()=>Eu,hGG:()=>DP,z2F:()=>dv,sBO:()=>Ww,Sil:()=>ef,_Vd:()=>pu,EJc:()=>tE,SBq:()=>Xo,qLn:()=>y,vpe:()=>na,gxx:()=>Qd,tBr:()=>El,XFs:()=>Qe,OlP:()=>xn,zs3:()=>vn,ZZ4:()=>Sy,aQg:()=>Ty,soG:()=>jm,YKP:()=>uT,v3s:()=>rP,h0i:()=>Ya,PXZ:()=>J1,R0b:()=>_s,FiY:()=>ls,Lbi:()=>X0,g9A:()=>tc,n_E:()=>Wh,Qsj:()=>Bw,FYo:()=>za,JOm:()=>Cr,Tiy:()=>gm,q3G:()=>wn,tp0:()=>cs,EAV:()=>lP,Rgc:()=>vm,dDg:()=>_M,DyG:()=>Xs,q4F:()=>Ey,GfV:()=>$a,s_b:()=>My,ifc:()=>Fe,eFA:()=>Px,G48:()=>uv,Gpc:()=>B,f3M:()=>Xf,X6Q:()=>tf,_c5:()=>_P,VLi:()=>nc,c2e:()=>lM,zSh:()=>Ra,wAp:()=>$e,vHH:()=>ge,EiD:()=>Id,mCW:()=>zc,qzn:()=>Gc,JVY:()=>gb,pB0:()=>np,eBb:()=>Td,L6k:()=>qg,LAX:()=>_b,cg1:()=>lw,Tjo:()=>mP,kL8:()=>cw,yhl:()=>oo,dqk:()=>cn,sIi:()=>At,CqO:()=>Yn,QGY:()=>HC,F4k:()=>TS,RDi:()=>_g,AaK:()=>W,z3N:()=>so,qOj:()=>Ne,TTD:()=>pr,_Bn:()=>by,xp6:()=>Gi,uIk:()=>yC,Gre:()=>lu,ekj:()=>sy,Suo:()=>j0,Xpm:()=>Ki,lG2:()=>zu,Yz7:()=>on,cJS:()=>xt,oAB:()=>ju,Yjl:()=>il,Y36:()=>gh,_UZ:()=>UC,BQk:()=>ey,ynx:()=>Bl,qZA:()=>Va,TgZ:()=>Vl,EpF:()=>yh,n5z:()=>hd,Ikx:()=>cy,LFG:()=>yn,$8M:()=>fd,NdJ:()=>vh,CRH:()=>G0,kcU:()=>qv,O4$:()=>mD,oxw:()=>jC,ALo:()=>BT,lcZ:()=>xm,xi3:()=>F0,Hsn:()=>GC,F$t:()=>Ba,Q6J:()=>VC,VKq:()=>Am,kEZ:()=>A0,l5B:()=>$y,iGM:()=>GT,MAs:()=>q_,CHM:()=>xf,LSH:()=>kd,kYT:()=>Gu,Udp:()=>JC,WFA:()=>bh,d8E:()=>Me,YNc:()=>CC,W1O:()=>Qa,_uU:()=>NS,Oqu:()=>ly,hij:()=>im,Gf:()=>H0});var c=N(9765),X=N(5319),H=N(7574),me=N(6682),oe=N(8819);function J(a){for(let l in a)if(a[l]===J)return l;throw Error("Could not find renamed property on target object.")}function q(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function W(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(W).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function z(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const F=J({__forward_ref__:J});function B(a){return a.__forward_ref__=B,a.toString=function(){return W(this())},a}function j(a){return re(a)?a():a}function re(a){return"function"==typeof a&&a.hasOwnProperty(F)&&a.__forward_ref__===B}class ge extends Error{constructor(l,u){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function _e(a){return"string"==typeof a?a:null==a?"":String(a)}function Re(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():_e(a)}function Yt(a,l){const u=l?` in ${l}`:"";throw new ge("201",`No provider for ${Re(a)} found${u}`)}function tt(a,l){null==a&&function(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function on(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function xt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Di(a){return Xr(a,zs)||Xr(a,$s)}function Xr(a,l){return a.hasOwnProperty(l)?a[l]:null}function So(a){return a&&(a.hasOwnProperty(ha)||a.hasOwnProperty(fa))?a[ha]:null}const zs=J({\u0275prov:J}),ha=J({\u0275inj:J}),$s=J({ngInjectableDef:J}),fa=J({ngInjectorDef:J});var Qe=(()=>((Qe=Qe||{})[Qe.Default=0]="Default",Qe[Qe.Host=1]="Host",Qe[Qe.Self=2]="Self",Qe[Qe.SkipSelf=4]="SkipSelf",Qe[Qe.Optional=8]="Optional",Qe))();let ri;function ts(a){const l=ri;return ri=a,l}function pt(a,l,u){const h=Di(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Qe.Optional?null:void 0!==l?l:void Yt(W(a),"Injector")}function Gt(a){return{toString:a}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),Fe=(()=>((Fe=Fe||{})[Fe.Emulated=0]="Emulated",Fe[Fe.None=2]="None",Fe[Fe.ShadowDom=3]="ShadowDom",Fe))();const st="undefined"!=typeof globalThis&&globalThis,ns="undefined"!=typeof window&&window,To="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ms="undefined"!=typeof global&&global,cn=st||Ms||ns||To,$={},G=[],Q=J({\u0275cmp:J}),Ee=J({\u0275dir:J}),ie=J({\u0275pipe:J}),Ye=J({\u0275mod:J}),_t=J({\u0275loc:J}),Ft=J({\u0275fac:J}),dn=J({__NG_ELEMENT_ID__:J});let bn=0;function Ki(a){return Gt(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||G,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Fe.Emulated,id:"c",styles:a.styles||G,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,g=a.features,b=a.pipes;return h.id+=bn++,h.inputs=vf(a.inputs,u),h.outputs=vf(a.outputs),g&&g.forEach(w=>w(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(si):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(dr):null,h})}function si(a){return mi(a)||function(a){return a[Ee]||null}(a)}function dr(a){return function(a){return a[ie]||null}(a)}const hc={};function ju(a){return Gt(()=>{const l={type:a.type,bootstrap:a.bootstrap||G,declarations:a.declarations||G,imports:a.imports||G,exports:a.exports||G,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(hc[a.id]=a.type),l})}function Gu(a,l){return Gt(()=>{const u=xr(a,!0);u.declarations=l.declarations||G,u.imports=l.imports||G,u.exports=l.exports||G})}function vf(a,l){if(null==a)return $;const u={};for(const h in a)if(a.hasOwnProperty(h)){let m=a[h],g=m;Array.isArray(m)&&(g=m[1],m=m[0]),u[m]=h,l&&(l[m]=g)}return u}const zu=Ki;function il(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function mi(a){return a[Q]||null}function xr(a,l){const u=a[Ye]||null;if(!u&&!0===l)throw new Error(`Type ${W(a)} does not have '\u0275mod' property.`);return u}function rs(a){return Array.isArray(a)&&"object"==typeof a[1]}function Or(a){return Array.isArray(a)&&!0===a[1]}function _c(a){return 0!=(8&a.flags)}function $u(a){return 2==(2&a.flags)}function ol(a){return 1==(1&a.flags)}function Xi(a){return null!==a.template}function Qn(a){return 0!=(512&a[2])}function ko(a,l){return a.hasOwnProperty(Ft)?a[Ft]:null}class gg{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function pr(){return xo}function xo(a){return a.type.prototype.ngOnChanges&&(a.setInput=wf),Vv}function Vv(){const a=Df(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===$)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function wf(a,l,u,h){const m=Df(a)||function(a,l){return a[Ef]=l}(a,{previous:$,current:null}),g=m.current||(m.current={}),b=m.previous,w=this.declaredInputs[u],S=b[w];g[w]=new gg(S&&S.currentValue,l,b===$),a[h]=l}pr.ngInherit=!0;const Ef="__ngSimpleChanges__";function Df(a){return a[Ef]||null}const bc="http://www.w3.org/2000/svg";let wc;function _g(a){wc=a}function mn(a){return!!a.listen}const qs={createRenderer:(a,l)=>void 0!==wc?wc:"undefined"!=typeof document?document:void 0};function gn(a){for(;Array.isArray(a);)a=a[0];return a}function ll(a,l){return gn(l[a])}function Ui(a,l){return gn(l[a.index])}function Ku(a,l){return a.data[l]}function Ro(a,l){return a[l]}function er(a,l){const u=l[a];return rs(u)?u:u[0]}function If(a){return 4==(4&a[2])}function bg(a){return 128==(128&a[2])}function ga(a,l){return null==l?null:a[l]}function Qu(a){a[18]=0}function ul(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const ht={lFrame:Eg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kf(){return ht.bindingsEnabled}function Te(){return ht.lFrame.lView}function It(){return ht.lFrame.tView}function xf(a){return ht.lFrame.contextLView=a,a[8]}function hn(){let a=Rf();for(;null!==a&&64===a.type;)a=a.parent;return a}function Rf(){return ht.lFrame.currentTNode}function Pr(a,l){const u=ht.lFrame;u.currentTNode=a,u.isParent=l}function Xu(){return ht.lFrame.isParent}function dl(){ht.lFrame.isParent=!1}function hl(){return ht.isInCheckNoChangesMode}function ed(a){ht.isInCheckNoChangesMode=a}function jn(){const a=ht.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ws(){return ht.lFrame.bindingIndex++}function gr(a){const l=ht.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function Cg(a,l){const u=ht.lFrame;u.bindingIndex=u.bindingRootIndex=a,Ff(l)}function Ff(a){ht.lFrame.currentDirectiveIndex=a}function Dc(a){const l=ht.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function wg(){return ht.lFrame.currentQueryIndex}function Sc(a){ht.lFrame.currentQueryIndex=a}function Nf(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function nd(a,l,u){if(u&Qe.SkipSelf){let m=l,g=a;for(;!(m=m.parent,null!==m||u&Qe.Host||(m=Nf(g),null===m||(g=g[15],10&m.type))););if(null===m)return!1;l=m,a=g}const h=ht.lFrame=ya();return h.currentTNode=l,h.lView=a,!0}function id(a){const l=ya(),u=a[1];ht.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ya(){const a=ht.lFrame,l=null===a?null:a.child;return null===l?Eg(a):l}function Eg(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Dg(){const a=ht.lFrame;return ht.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const zv=Dg;function Tc(){const a=Dg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Hi(){return ht.lFrame.selectedIndex}function fl(a){ht.lFrame.selectedIndex=a}function Gn(){const a=ht.lFrame;return Ku(a.tView,a.selectedIndex)}function mD(){ht.lFrame.currentNamespace=bc}function qv(){ht.lFrame.currentNamespace=null}function pl(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:A}=g;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),S&&(a.viewHooks||(a.viewHooks=[])).push(-u,S),M&&((a.viewHooks||(a.viewHooks=[])).push(u,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,M)),null!=A&&(a.destroyHooks||(a.destroyHooks=[])).push(u,A)}}function ml(a,l,u){Sg(a,l,3,u)}function rd(a,l,u,h){(3&a[2])===u&&Sg(a,l,u,h)}function Vf(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Sg(a,l,u,h){const g=null!=h?h:-1,b=l.length-1;let w=0;for(let S=void 0!==h?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(w=l[S],null!=h&&w>=h)break}else l[S]<0&&(a[18]+=65536),(w<g||-1==g)&&(Bf(a,u,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Bf(a,l,u,h){const m=u[h]<0,g=u[h+1],w=a[m?-u[h]:u[h]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class sd{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function xs(a,l,u){const h=mn(a);let m=0;for(;m<u.length;){const g=u[m];if("number"==typeof g){if(0!==g)break;m++;const b=u[m++],w=u[m++],S=u[m++];h?a.setAttribute(l,w,S,b):l.setAttributeNS(b,w,S)}else{const b=g,w=u[++m];Rs(b)?h&&a.setProperty(l,b,w):h?a.setAttribute(l,b,w):l.setAttribute(b,w),m++}}return m}function Mg(a){return 3===a||4===a||6===a}function Rs(a){return 64===a.charCodeAt(0)}function Oo(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const m=l[h];"number"==typeof m?u=m:0===u||Ig(a,u,m,null,-1===u||2===u?l[++h]:null)}}return a}function Ig(a,l,u,h,m){let g=0,b=a.length;if(-1===l)b=-1;else for(;g<a.length;){const w=a[g++];if("number"==typeof w){if(w===l){b=-1;break}if(w>l){b=g-1;break}}}for(;g<a.length;){const w=a[g];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==m&&(a[g+1]=m));if(h===a[g+1])return void(a[g+2]=m)}g++,null!==h&&g++,null!==m&&g++}-1!==b&&(a.splice(b,0,l),g=b+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==m&&a.splice(g++,0,m)}function kn(a){return-1!==a}function va(a){return 32767&a}function Ic(a,l){let u=function(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let od=!0;function ad(a){const l=od;return od=a,l}let $f=0;function Ks(a,l){const u=ld(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Ac(h.data,a),Ac(l,null),Ac(h.blueprint,null));const m=gl(a,l),g=a.injectorIndex;if(kn(m)){const b=va(m),w=Ic(m,l),S=w[1].data;for(let M=0;M<8;M++)l[g+M]=w[b+M]|S[b+M]}return l[g+8]=m,g}function Ac(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ld(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function gl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,m=l;for(;null!==m;){const g=m[1],b=g.type;if(h=2===b?g.declTNode:1===b?m[6]:null,null===h)return-1;if(u++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function _r(a,l,u){!function(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(dn)&&(h=u[dn]),null==h&&(h=u[dn]=$f++);const m=255&h;l.data[a+(m>>5)]|=1<<m}(a,l,u)}function _i(a,l,u){if(u&Qe.Optional)return a;Yt(l,"NodeInjector")}function Yf(a,l,u,h){if(u&Qe.Optional&&void 0===h&&(h=null),0==(u&(Qe.Self|Qe.Host))){const m=a[9],g=ts(void 0);try{return m?m.get(l,h,u&Qe.Optional):pt(l,h,u&Qe.Optional)}finally{ts(g)}}return _i(h,l,u)}function cd(a,l,u,h=Qe.Default,m){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(dn)?a[dn]:void 0;return"number"==typeof l?l>=0?255&l:tr:l}(u);if("function"==typeof g){if(!nd(l,a,h))return h&Qe.Host?_i(m,u,h):Yf(l,u,h,m);try{const b=g(h);if(null!=b||h&Qe.Optional)return b;Yt(u)}finally{zv()}}else if("number"==typeof g){let b=null,w=ld(a,l),S=-1,M=h&Qe.Host?l[16][6]:null;for((-1===w||h&Qe.SkipSelf)&&(S=-1===w?gl(a,l):l[w+8],-1!==S&&dd(h,!1)?(b=l[1],w=va(S),l=Ic(S,l)):w=-1);-1!==w;){const A=l[1];if(Jv(g,w,A.data)){const R=Kv(w,l,u,b,h,M);if(R!==Kt)return R}S=l[w+8],-1!==S&&dd(h,l[1].data[w+8]===M)&&Jv(g,w,l)?(b=A,w=va(S),l=Ic(S,l)):w=-1}}}return Yf(l,u,h,m)}const Kt={};function tr(){return new kc(hn(),Te())}function Kv(a,l,u,h,m,g){const b=l[1],w=b.data[a+8],A=_n(w,b,u,null==h?$u(w)&&od:h!=b&&0!=(3&w.type),m&Qe.Host&&g===w);return null!==A?ud(l,b,A,w):Kt}function _n(a,l,u,h,m){const g=a.providerIndexes,b=l.data,w=1048575&g,S=a.directiveStart,A=g>>20,P=m?w+A:a.directiveEnd;for(let U=h?w:w+A;U<P;U++){const Z=b[U];if(U<S&&u===Z||U>=S&&Z.type===u)return U}if(m){const U=b[S];if(U&&Xi(U)&&U.type===u)return S}return null}function ud(a,l,u,h){let m=a[u];const g=l.data;if(function(a){return a instanceof sd}(m)){const b=m;b.resolving&&function(a,l){throw new ge("200",`Circular dependency in DI detected for ${a}`)}(Re(g[u]));const w=ad(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?ts(b.injectImpl):null;nd(a,h,Qe.Default);try{m=a[u]=b.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function(a,l,u){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:g}=l.type.prototype;if(h){const b=xo(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,m),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==S&&ts(S),ad(w),b.resolving=!1,zv()}}return m}function Jv(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function dd(a,l){return!(a&Qe.Self||a&Qe.Host&&l)}class kc{constructor(l,u){this._tNode=l,this._lView=u}get(l,u){return cd(this._tNode,this._lView,l,void 0,u)}}function hd(a){return Gt(()=>{const l=a.prototype.constructor,u=l[Ft]||Qs(l),h=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==h;){const g=m[Ft]||Qs(m);if(g&&g!==u)return g;m=Object.getPrototypeOf(m)}return g=>new g})}function Qs(a){return re(a)?()=>{const l=Qs(j(a));return l&&l()}:ko(a)}function fd(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let m=0;for(;m<h;){const g=u[m];if(Mg(g))break;if(0===g)m+=2;else if("number"==typeof g)for(m++;m<h&&"string"==typeof u[m];)m++;else{if(g===l)return u[m+1];m+=2}}}return null}(hn(),a)}const Os="__parameters__";function as(a,l,u){return Gt(()=>{const h=function(a){return function(...u){if(a){const h=a(...u);for(const m in h)this[m]=h[m]}}}(l);function m(...g){if(this instanceof m)return h.apply(this,g),this;const b=new m(...g);return w.annotation=b,w;function w(S,M,A){const R=S.hasOwnProperty(Os)?S[Os]:Object.defineProperty(S,Os,{value:[]})[Os];for(;R.length<=A;)R.push(null);return(R[A]=R[A]||[]).push(b),S}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class xn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=on({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zf=new xn("AnalyzeForEntryComponents"),Xs=Function;function Br(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Br(h,l)):l!==a&&l.push(h)}return l}function Ur(a,l){a.forEach(u=>Array.isArray(u)?Ur(u,l):l(u))}function eo(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function ba(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ca(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function ai(a,l,u){let h=vr(a,l);return h>=0?a[1|h]=u:(h=~h,function(a,l,u,h){let m=a.length;if(m==l)a.push(u,h);else if(1===m)a.push(h,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>l;)a[m]=a[m-2],m--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Kf(a,l){const u=vr(a,l);if(u>=0)return a[1|u]}function vr(a,l){return function(a,l,u){let h=0,m=a.length>>u;for(;m!==h;){const g=h+(m-h>>1),b=a[g<<u];if(l===b)return g<<u;b>l?m=g:h=g+1}return~(m<<u)}(a,l,1)}const No={},Qf="__NG_DI_FLAG__",Ps="ngTempTokenPath",Bg=/\n/gm,ji="__source",no=J({provide:String,useValue:J});let Da;function Sa(a){const l=Da;return Da=a,l}function Jf(a,l=Qe.Default){if(void 0===Da)throw new Error("inject() must be called from an injection context");return null===Da?pt(a,void 0,l):Da.get(a,l&Qe.Optional?null:void 0,l)}function yn(a,l=Qe.Default){return(ri||Jf)(j(a),l)}const Xf=yn;function io(a){const l=[];for(let u=0;u<a.length;u++){const h=j(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let m,g=Qe.Default;for(let b=0;b<h.length;b++){const w=h[b],S=bd(w);"number"==typeof S?-1===S?m=w.token:g|=S:m=w}l.push(yn(m,g))}else l.push(yn(h))}return l}function Nc(a,l){return a[Qf]=l,a.prototype[Qf]=l,a}function bd(a){return a[Qf]}function Lc(a,l,u,h){const m=a[Ps];throw l[ji]&&m.unshift(l[ji]),a.message=function(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=W(l);if(Array.isArray(l))m=l.map(W).join(" -> ");else if("object"==typeof l){let g=[];for(let b in l)if(l.hasOwnProperty(b)){let w=l[b];g.push(b+":"+("string"==typeof w?JSON.stringify(w):W(w)))}m=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${m}]: ${a.replace(Bg,"\n  ")}`}("\n"+a.message,m,u,h),a.ngTokenPath=m,a[Ps]=null,a}const El=Nc(as("Inject",a=>({token:a})),-1),ls=Nc(as("Optional"),8),cs=Nc(as("SkipSelf"),4);let Uc;function Bo(a){var l;return(null===(l=function(){if(void 0===Uc&&(Uc=null,cn.trustedTypes))try{Uc=cn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Uc}())||void 0===l?void 0:l.createHTML(a))||a}class ro{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class hb extends ro{getTypeName(){return"HTML"}}class fb extends ro{getTypeName(){return"Style"}}class pb extends ro{getTypeName(){return"Script"}}class mb extends ro{getTypeName(){return"URL"}}class Yg extends ro{getTypeName(){return"ResourceURL"}}function so(a){return a instanceof ro?a.changingThisBreaksApplicationSecurity:a}function Gc(a,l){const u=oo(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function oo(a){return a instanceof ro&&a.getTypeName()||null}function gb(a){return new hb(a)}function qg(a){return new fb(a)}function Td(a){return new pb(a)}function _b(a){return new mb(a)}function np(a){return new Yg(a)}class Wg{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Bo(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ip{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Bo(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Bo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let m=u.length-1;0<m;m--){const b=u.item(m).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const rp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,sp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zc(a){return(a=String(a)).match(rp)||a.match(sp)?a:"unsafe:"+a}function Gr(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function $c(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const op=Gr("area,br,col,hr,img,wbr"),Ta=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qg=Gr("rp,rt"),Ml=$c(op,$c(Ta,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$c(Qg,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$c(Qg,Ta)),Jg=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yi=Gr("srcset"),Xg=$c(Jg,yi,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cp=Gr("script,style,template");class vb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Ml.hasOwnProperty(u))return this.sanitizedSomething=!0,!cp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let m=0;m<h.length;m++){const g=h.item(m),b=g.name,w=b.toLowerCase();if(!Xg.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let S=g.value;Jg[w]&&(S=zc(S)),yi[w]&&(a=S,S=(a=String(a)).split(",").map(l=>zc(l.trim())).join(", ")),this.buf.push(" ",b,'="',up(S),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Ml.hasOwnProperty(u)&&!op.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(up(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const e_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Md=/([^\#-~ |!])/g;function up(a){return a.replace(/&/g,"&amp;").replace(e_,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Md,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ma;function Id(a,l){let u=null;try{Ma=Ma||function(a){const l=new ip(a);return function(){try{return!!(new window.DOMParser).parseFromString(Bo(""),"text/html")}catch(a){return!1}}()?new Wg(l):l}(a);let h=l?String(l):"";u=Ma.getInertBodyElement(h);let m=5,g=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=g,g=u.innerHTML,u=Ma.getInertBodyElement(h)}while(h!==g);return Bo((new vb).sanitizeChildren(Ad(u)||u))}finally{if(u){const h=Ad(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Ad(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function kd(a){const l=function(){const a=Te();return a&&a[12]}();return l?l.sanitize(wn.URL,a)||"":Gc(a,"URL")?so(a):zc(_e(a))}const pp="__ngContext__";function Ti(a,l){a[pp]=l}function Qc(a){const l=function(a){return a[pp]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Jc(a){return a.ngOriginalError}function E(a,...l){a.error(...l)}class y{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=this._findContext(l),m=(a=l)&&a.ngErrorLogger||E;var a;m(this._console,"ERROR",l),u&&m(this._console,"ORIGINAL ERROR",u),h&&m(this._console,"ERROR CONTEXT",h)}_findContext(l){return l?l.ngDebugContext||this._findContext(Jc(l)):null}_findOriginalError(l){let u=l&&Jc(l);for(;u&&Jc(u);)u=Jc(u);return u||null}}const ln=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(cn))();function zr(a){return a instanceof Function?a():a}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function _p(a,l){return undefined(a,l)}function yp(a){const l=a[3];return Or(l)?l[3]:l}function Tb(a){return qt(a[13])}function Mb(a){return qt(a[4])}function qt(a){for(;null!==a&&!Or(a);)a=a[4];return a}function Bd(a,l,u,h,m){if(null!=h){let g,b=!1;Or(h)?g=h:rs(h)&&(b=!0,h=h[0]);const w=gn(h);0===a&&null!==u?null==m?SD(l,u,w):tu(l,u,w,m||null,!0):1===a&&null!==u?tu(l,u,w,m||null,!0):2===a?function(a,l,u){const h=li(a,l);h&&function(a,l,u,h){mn(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,w,b):3===a&&l.destroyNode(w),null!=g&&function(a,l,u,h,m){const g=u[7];g!==gn(u)&&Bd(l,a,h,g,m);for(let w=10;w<u.length;w++){const S=u[w];bi(S[1],S,a,l,h,g)}}(l,a,g,u,m)}}function vp(a,l,u){return mn(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function a_(a,l){const u=a[9],h=u.indexOf(l),m=l[3];1024&l[2]&&(l[2]&=-1025,ul(m,-1)),u.splice(h,1)}function yt(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const m=h[17];null!==m&&m!==a&&a_(m,h),l>0&&(a[u-1][4]=h[4]);const g=ba(a,10+l);!function(a,l){bi(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function bp(a,l){if(!(256&l[2])){const u=l[11];mn(u)&&u.destroyNode&&bi(a,l,u,3,null,null),function(a){let l=a[13];if(!l)return Cp(a[1],a);for(;l;){let u=null;if(rs(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)rs(l)&&Cp(l[1],l),l=l[3];null===l&&(l=a),rs(l)&&Cp(l[1],l),u=l&&l[4]}l=u}}(l)}}function Cp(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const m=l[u[h]];if(!(m instanceof sd)){const g=u[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const w=m[g[b]],S=g[b+1];try{S.call(w)}finally{}}else try{g.call(m)}finally{}}}}(a,l),function(a,l){const u=a.cleanup,h=l[7];let m=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const b=u[g+1],w="function"==typeof b?b(l):gn(l[b]),S=h[m=u[g+2]],M=u[g+3];"boolean"==typeof M?w.removeEventListener(u[g],S,M):M>=0?h[m=M]():h[m=-M].unsubscribe(),g+=2}else{const b=h[m=u[g+1]];u[g].call(b)}if(null!==h){for(let g=m+1;g<h.length;g++)h[g]();l[7]=null}}(a,l),1===l[1].type&&mn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&Or(l[3])){u!==l[3]&&a_(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function l_(a,l,u){return function(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const m=a.data[h.directiveStart].encapsulation;if(m===Fe.None||m===Fe.Emulated)return null}return Ui(h,u)}(a,l.parent,u)}function tu(a,l,u,h,m){mn(a)?a.insertBefore(l,u,h,m):l.insertBefore(u,h,m)}function SD(a,l,u){mn(a)?a.appendChild(l,u):l.appendChild(u)}function Ai(a,l,u,h,m){null!==h?tu(a,l,u,h,m):SD(a,l,u)}function li(a,l){return mn(a)?a.parentNode(l):l.parentNode}function TD(a,l,u){return Ib(a,l,u)}let Ib=function(a,l,u){return 40&a.type?Ui(a,u):null};function Ep(a,l,u,h){const m=l_(a,h,l),g=l[11],w=TD(h.parent||l[6],h,l);if(null!=m)if(Array.isArray(u))for(let S=0;S<u.length;S++)Ai(g,m,u[S],w,!1);else Ai(g,m,u,w,!1)}function Ud(a,l){if(null!==l){const u=l.type;if(3&u)return Ui(l,a);if(4&u)return d_(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Ud(a,h);{const m=a[l.index];return Or(m)?d_(-1,m):gn(m)}}if(32&u)return _p(l,a)()||gn(a[l.index]);{const h=Dp(a,l);return null!==h?Array.isArray(h)?h[0]:Ud(yp(a[16]),h):Ud(a,l.next)}}return null}function Dp(a,l){return null!==l?a[16][6].projection[l.projection]:null}function d_(a,l){const u=10+a+1;if(u<l.length){const h=l[u],m=h[1].firstChild;if(null!==m)return Ud(h,m)}return l[7]}function Sp(a,l,u,h,m,g,b){for(;null!=u;){const w=h[u.index],S=u.type;if(b&&0===l&&(w&&Ti(gn(w),h),u.flags|=4),64!=(64&u.flags))if(8&S)Sp(a,l,u.child,h,m,g,!1),Bd(l,a,m,w,g);else if(32&S){const M=_p(u,h);let A;for(;A=M();)Bd(l,a,m,A,g);Bd(l,a,m,w,g)}else 16&S?Ab(a,l,h,u,m,g):Bd(l,a,m,w,g);u=b?u.projectionNext:u.next}}function bi(a,l,u,h,m,g){Sp(u,h,a.firstChild,l,m,g,!1)}function Ab(a,l,u,h,m,g){const b=u[16],S=b[6].projection[h.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)Bd(l,a,m,S[M],g);else Sp(a,l,S,b[3],m,g,!0)}function xb(a,l,u){mn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function h_(a,l,u){mn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function f_(a,l,u){let h=a.length;for(;;){const m=a.indexOf(l,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const g=l.length;if(m+g===h||a.charCodeAt(m+g)<=32)return m}u=m+1}}const xD="ng-template";function Hd(a,l,u){let h=0;for(;h<a.length;){let m=a[h++];if(u&&"class"===m){if(m=a[h],-1!==f_(m.toLowerCase(),l,0))return!0}else if(1===m){for(;h<a.length&&"string"==typeof(m=a[h++]);)if(m.toLowerCase()===l)return!0;return!1}}return!1}function Rb(a){return 4===a.type&&a.value!==xD}function Ob(a,l,u){return l===(4!==a.type||u?a.value:xD)}function RD(a,l,u){let h=4;const m=a.attrs||[],g=function(a){for(let l=0;l<a.length;l++)if(Mg(a[l]))return l;return a.length}(m);let b=!1;for(let w=0;w<l.length;w++){const S=l[w];if("number"!=typeof S){if(!b)if(4&h){if(h=2|1&h,""!==S&&!Ob(a,S,u)||""===S&&1===l.length){if(lo(h))return!1;b=!0}}else{const M=8&h?S:l[++w];if(8&h&&null!==a.attrs){if(!Hd(a.attrs,M,u)){if(lo(h))return!1;b=!0}continue}const R=OD(8&h?"class":S,m,Rb(a),u);if(-1===R){if(lo(h))return!1;b=!0;continue}if(""!==M){let P;P=R>g?"":m[R+1].toLowerCase();const U=8&h?P:null;if(U&&-1!==f_(U,M,0)||2&h&&M!==P){if(lo(h))return!1;b=!0}}}}else{if(!b&&!lo(h)&&!lo(S))return!1;if(b&&lo(S))continue;b=!1,h=S|1&h}}return lo(h)||b}function lo(a){return 0==(1&a)}function OD(a,l,u,h){if(null===l)return-1;let m=0;if(h||!u){let g=!1;for(;m<l.length;){const b=l[m];if(b===a)return m;if(3===b||6===b)g=!0;else{if(1===b||2===b){let w=l[++m];for(;"string"==typeof w;)w=l[++m];continue}if(4===b)break;if(0===b){m+=4;continue}}m+=g?1:2}return-1}return function(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Tp(a,l,u=!1){for(let h=0;h<l.length;h++)if(RD(a,l[h],u))return!0;return!1}function tA(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let m=0;m<a.length;m++)if(a[m]!==h[m])continue e;return!0}}return!1}function PD(a,l){return a?":not("+l.trim()+")":l}function Lb(a){let l=a[0],u=1,h=2,m="",g=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const w=a[++u];m+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?m+="."+b:4&h&&(m+=" "+b);else""!==m&&!lo(b)&&(l+=PD(g,m),m=""),h=b,g=g||!lo(h);u++}return""!==m&&(l+=PD(g,m)),l}const Et={};function Gi(a){jd(It(),Te(),Hi()+a,hl())}function jd(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&ml(l,g,u)}else{const g=a.preOrderHooks;null!==g&&rd(l,g,0,u)}fl(u)}function p_(a,l){return a<<17|l<<2}function wr(a){return a>>17&32767}function Gd(a){return 2|a}function Ns(a){return(131068&a)>>2}function Mp(a,l){return-131069&a|l<<2}function Ip(a){return 1|a}function xl(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h],g=u[h+1];if(-1!==g){const b=a.data[g];Sc(m),b.contentQueries(2,l[g],g)}}}function zd(a,l,u,h,m,g,b,w,S,M){const A=l.blueprint.slice();return A[0]=m,A[2]=140|h,Qu(A),A[3]=A[15]=a,A[8]=u,A[10]=b||a&&a[10],A[11]=w||a&&a[11],A[12]=S||a&&a[12]||null,A[9]=M||a&&a[9]||null,A[6]=g,A[16]=2==l.type?a[16]:A,A}function Ho(a,l,u,h,m){let g=a.data[l];if(null===g)g=function(a,l,u,h,m){const g=Rf(),b=Xu(),S=a.data[l]=function(a,l,u,h,m,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,u,l,h,m);return null===a.firstChild&&(a.firstChild=S),null!==g&&(b?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(a,l,u,h,m),ht.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=m;const b=function(){const a=ht.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return Pr(g,!0),g}function ci(a,l,u,h){if(0===u)return-1;const m=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return m}function $d(a,l,u){id(l);try{const h=a.viewQuery;null!==h&&nC(1,h,u);const m=a.template;null!==m&&$b(a,l,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&xl(a,l),a.staticViewQueries&&nC(2,a.viewQuery,u);const g=a.components;null!==g&&function(a,l){for(let u=0;u<l.length;u++)mA(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Tc()}}function jo(a,l,u,h){const m=l[2];if(256==(256&m))return;id(l);const g=hl();try{Qu(l),function(a){ht.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&$b(a,l,u,2,h);const b=3==(3&m);if(!g)if(b){const M=a.preOrderCheckHooks;null!==M&&ml(l,M,null)}else{const M=a.preOrderHooks;null!==M&&rd(l,M,0,null),Vf(l,0)}if(function(a){for(let l=Tb(a);null!==l;l=Mb(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const m=u[h],g=m[3];0==(1024&m[2])&&ul(g,1),m[2]|=1024}}}(l),function(a){for(let l=Tb(a);null!==l;l=Mb(l))for(let u=10;u<l.length;u++){const h=l[u],m=h[1];bg(h)&&jo(m,h,m.template,h[8])}}(l),null!==a.contentQueries&&xl(a,l),!g)if(b){const M=a.contentCheckHooks;null!==M&&ml(l,M)}else{const M=a.contentHooks;null!==M&&rd(l,M,1),Vf(l,1)}!function(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const m=u[h];if(m<0)fl(~m);else{const g=m,b=u[++h],w=u[++h];Cg(b,g),w(2,l[g])}}}finally{fl(-1)}}(a,l);const w=a.components;null!==w&&function(a,l){for(let u=0;u<l.length;u++)pA(a,l[u])}(l,w);const S=a.viewQuery;if(null!==S&&nC(2,S,h),!g)if(b){const M=a.viewCheckHooks;null!==M&&ml(l,M)}else{const M=a.viewHooks;null!==M&&rd(l,M,2),Vf(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ul(l[3],-1))}finally{Tc()}}function b_(a,l,u,h){const m=l[10],g=!hl(),b=If(l);try{g&&!b&&m.begin&&m.begin(),b&&$d(a,l,h),jo(a,l,u,h)}finally{g&&!b&&m.end&&m.end()}}function $b(a,l,u,h,m){const g=Hi(),b=2&h;try{fl(-1),b&&l.length>20&&jd(a,l,20,hl()),u(h,m)}finally{fl(g)}}function C_(a,l,u){if(_c(l)){const m=l.directiveEnd;for(let g=l.directiveStart;g<m;g++){const b=a.data[g];b.contentQueries&&b.contentQueries(1,u[g],g)}}}function w_(a,l,u){!kf()||(function(a,l,u,h){const m=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Ks(u,l),Ti(h,l);const b=u.initialInputs;for(let w=m;w<g;w++){const S=a.data[w],M=Xi(S);M&&k_(l,u,S);const A=ud(l,a,w,u);Ti(A,l),null!==b&&On(0,w-m,A,S,0,b),M&&(er(u.index,l)[8]=A)}}(a,l,u,Ui(u,l)),128==(128&u.flags)&&function(a,l,u){const h=u.directiveStart,m=u.directiveEnd,b=u.index,w=ht.lFrame.currentDirectiveIndex;try{fl(b);for(let S=h;S<m;S++){const M=a.data[S],A=l[S];Ff(S),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&A_(M,A)}}finally{fl(-1),Ff(w)}}(a,l,u))}function E_(a,l,u=Ui){const h=l.localNames;if(null!==h){let m=l.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],w=-1===b?u(l,a):a[b];a[m++]=w}}}function Yd(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=qd(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function qd(a,l,u,h,m,g,b,w,S,M){const A=20+h,R=A+m,P=function(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:Et);return u}(A,R),U="function"==typeof M?M():M;return P[1]={type:a,blueprint:P,template:u,queries:null,viewQuery:w,declTNode:l,data:P.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:U,incompleteFirstPass:!1}}function Zb(a,l,u,h){const m=JD(l);null===u?m.push(h):(m.push(u),a.firstCreatePass&&iC(a).push(h,m.length-1))}function S_(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const m=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,m):u[h]=[l,m]}return u}function $r(a,l,u,h,m,g,b,w){const S=Ui(l,u);let A,M=l.inputs;!w&&null!=M&&(A=M[h])?(L_(a,u,A,h,m),$u(l)&&function(a,l){const u=er(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),m=null!=b?b(m,l.value||"",h):m,mn(g)?g.setProperty(S,h,m):Rs(h)||(S.setProperty?S.setProperty(h,m):S[h]=m))}function xa(a,l,u,h){let m=!1;if(kf()){const g=function(a,l,u){const h=a.directiveRegistry;let m=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];Tp(u,b.selectors,!1)&&(m||(m=[]),_r(Ks(u,l),a,b.type),Xi(b)?(Xb(a,u),m.unshift(b)):m.push(b))}return m}(a,l,u),b=null===h?null:{"":-1};if(null!==g){m=!0,Go(u,a.data.length,g.length);for(let A=0;A<g.length;A++){const R=g[A];R.providersResolver&&R.providersResolver(R)}let w=!1,S=!1,M=ci(a,l,g.length,null);for(let A=0;A<g.length;A++){const R=g[A];u.mergedAttrs=Oo(u.mergedAttrs,R.hostAttrs),Np(a,u,l,M,R),ru(M,R,b),null!==R.contentQueries&&(u.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=128);const P=R.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!S&&(P.ngOnChanges||P.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),S=!0),M++}!function(a,l){const h=l.directiveEnd,m=a.data,g=l.attrs,b=[];let w=null,S=null;for(let M=l.directiveStart;M<h;M++){const A=m[M],R=A.inputs,P=null===g||Rb(l)?null:R_(R,g);b.push(P),w=S_(R,M,w),S=S_(A.outputs,M,S)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=w,l.outputs=S}(a,u)}b&&function(a,l,u){if(l){const h=a.localNames=[];for(let m=0;m<l.length;m+=2){const g=u[l[m+1]];if(null==g)throw new ge("301",`Export of name '${l[m+1]}' not found!`);h.push(l[m],g)}}}(u,h,b)}return u.mergedAttrs=Oo(u.mergedAttrs,u.attrs),m}function I_(a,l,u,h,m,g){const b=g.hostBindings;if(b){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const S=~l.index;(function(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(w)!=S&&w.push(S),w.push(h,m,b)}}function A_(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Xb(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function ru(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;Xi(l)&&(u[""]=a)}}function Go(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Np(a,l,u,h,m){a.data[h]=m;const g=m.factory||(m.factory=ko(m.type)),b=new sd(g,Xi(m),null);a.blueprint[h]=b,u[h]=b,I_(a,l,0,h,ci(a,u,m.hostVars,Et),m)}function k_(a,l,u){const h=Ui(l,a),m=Yd(u),g=a[10],b=P_(a,zd(a,m,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));a[l.index]=b}function us(a,l,u,h,m,g){const b=Ui(a,l);!function(a,l,u,h,m,g,b){if(null==g)mn(a)?a.removeAttribute(l,m,u):l.removeAttribute(m);else{const w=null==b?_e(g):b(g,h||"",m);mn(a)?a.setAttribute(l,m,w,u):u?l.setAttributeNS(u,m,w):l.setAttribute(m,w)}}(l[11],b,g,a.value,u,h,m)}function On(a,l,u,h,m,g){const b=g[l];if(null!==b){const w=h.setInput;for(let S=0;S<b.length;){const M=b[S++],A=b[S++],R=b[S++];null!==w?h.setInput(u,R,M,A):u[A]=R}}}function R_(a,l){let u=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,a[m],l[h+1])),h+=2}else h+=2;else h+=4}return u}function WD(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function pA(a,l){const u=er(l,a);if(bg(u)){const h=u[1];80&u[2]?jo(h,u,h.template,u[8]):u[5]>0&&O_(u)}}function O_(a){for(let h=Tb(a);null!==h;h=Mb(h))for(let m=10;m<h.length;m++){const g=h[m];if(1024&g[2]){const b=g[1];jo(b,g,b.template,g[8])}else g[5]>0&&O_(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const m=er(u[h],a);bg(m)&&m[5]>0&&O_(m)}}function mA(a,l){const u=er(l,a),h=u[1];(function(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),$d(h,u,u[8])}function P_(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function eC(a){for(;a;){a[2]|=64;const l=yp(a);if(Qn(a)&&!l)return a;a=l}return null}function F_(a,l,u){const h=l[10];h.begin&&h.begin();try{jo(a,l,a.template,u)}catch(m){throw N_(l,m),m}finally{h.end&&h.end()}}function tC(a){!function(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=Qc(u),m=h[1];b_(m,h,m.template,u)}}(a[8])}function nC(a,l,u){Sc(0),l(a,u)}const QD=(()=>Promise.resolve(null))();function JD(a){return a[7]||(a[7]=[])}function iC(a){return a.cleanup||(a.cleanup=[])}function rC(a,l,u){return(null===a||Xi(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function N_(a,l){const u=a[9],h=u?u.get(y,null):null;h&&h.handleError(l)}function L_(a,l,u,h,m){for(let g=0;g<u.length;){const b=u[g++],w=u[g++],S=l[b],M=a.data[b];null!==M.setInput?M.setInput(S,m,h,w):S[w]=m}}function $o(a,l,u){const h=ll(l,a);!function(a,l,u){mn(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Up(a,l,u){let h=u?a.styles:null,m=u?a.classes:null,g=0;if(null!==l)for(let b=0;b<l.length;b++){const w=l[b];"number"==typeof w?g=w:1==g?m=z(m,w):2==g&&(h=z(h,w+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=m:a.classesWithoutHost=m}const Qd=new xn("INJECTOR",-1);class Hp{get(l,u=No){if(u===No){const h=new Error(`NullInjectorError: No provider for ${W(l)}!`);throw h.name="NullInjectorError",h}return u}}const Ra=new xn("Set Injector scope."),Rl={},oC={};let V_;function Jd(){return void 0===V_&&(V_=new Hp),V_}function XD(a,l=null,u=null,h){return new ui(a,u,l||Jd(),h)}class ui{constructor(l,u,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Ur(u,w=>this.processProvider(w,l,u)),Ur([l],w=>this.processInjectorType(w,[],g)),this.records.set(Qd,Xd(void 0,this));const b=this.records.get(Ra);this.scope=null!=b?b.value:null,this.source=m||("object"==typeof l?null:W(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=No,h=Qe.Default){this.assertNotDestroyed();const m=Sa(this),g=ts(void 0);try{if(!(h&Qe.SkipSelf)){let w=this.records.get(l);if(void 0===w){const S=("function"==typeof(a=l)||"object"==typeof a&&a instanceof xn)&&Di(l);w=S&&this.injectableDefInScope(S)?Xd(B_(l),Rl):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(h&Qe.Self?Jd():this.parent).get(l,u=h&Qe.Optional&&u===No?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Ps]=b[Ps]||[]).unshift(W(l)),m)throw b;return Lc(b,l,"R3InjectorError",this.source)}throw b}finally{ts(g),Sa(m)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,m)=>l.push(W(m))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,h){if(!(l=j(l)))return!1;let m=So(l);const g=null==m&&l.ngModule||void 0,b=void 0===g?l:g,w=-1!==h.indexOf(b);if(void 0!==g&&(m=So(g)),null==m)return!1;if(null!=m.imports&&!w){let A;h.push(b);try{Ur(m.imports,R=>{this.processInjectorType(R,u,h)&&(void 0===A&&(A=[]),A.push(R))})}finally{}if(void 0!==A)for(let R=0;R<A.length;R++){const{ngModule:P,providers:U}=A[R];Ur(U,Z=>this.processProvider(Z,P,U||G))}}this.injectorDefTypes.add(b);const S=ko(b)||(()=>new b);this.records.set(b,Xd(S,Rl));const M=m.providers;if(null!=M&&!w){const A=l;Ur(M,R=>this.processProvider(R,A,M))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let m=Oa(l=j(l))?l:j(l&&l.provide);const g=aC(a=l)?Xd(void 0,a.useValue):Xd(eS(a),Rl);var a;if(Oa(l)||!0!==l.multi)this.records.get(m);else{let b=this.records.get(m);b||(b=Xd(void 0,Rl,!0),b.factory=()=>io(b.multi),this.records.set(m,b)),m=l,b.multi.push(l)}this.records.set(m,g)}hydrate(l,u){return u.value===Rl&&(u.value=oC,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const u=j(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function B_(a){const l=Di(a),u=null!==l?l.factory:ko(a);if(null!==u)return u;if(a instanceof xn)throw new Error(`Token ${W(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=Ca(l,"?");throw new Error(`Can't resolve all parameters for ${W(a)}: (${h.join(", ")}).`)}const u=function(a){const l=a&&(a[zs]||a[$s]);if(l){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function eS(a,l,u){let h;if(Oa(a)){const m=j(a);return ko(m)||B_(m)}if(aC(a))h=()=>j(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...io(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>yn(j(a.useExisting));else{const m=j(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return ko(m)||B_(m);h=()=>new m(...io(a.deps))}return h}function Xd(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function aC(a){return null!==a&&"object"==typeof a&&no in a}function Oa(a){return"function"==typeof a}const lC=function(a,l,u){return function(a,l=null,u=null,h){const m=XD(a,l,u,h);return m._resolveInjectorDefTypes(),m}({name:u},l,a,u)};let vn=(()=>{class a{static create(u,h){return Array.isArray(u)?lC(u,h,""):lC(u.providers,u.parent,u.name||"")}}return a.THROW_IF_NOT_FOUND=No,a.NULL=new Hp,a.\u0275prov=on({token:a,providedIn:"any",factory:()=>yn(Qd)}),a.__NG_ELEMENT_ID__=-1,a})();function Xe(a,l){pl(Qc(a)[1],hn())}function Ne(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let m;if(Xi(a))m=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");m=l.\u0275dir}if(m){if(u){h.push(m);const b=a;b.inputs=Ie(a.inputs),b.declaredInputs=Ie(a.declaredInputs),b.outputs=Ie(a.outputs);const w=m.hostBindings;w&&SA(a,w);const S=m.viewQuery,M=m.contentQueries;if(S&&Oi(a,S),M&&pS(a,M),q(a.inputs,m.inputs),q(a.declaredInputs,m.declaredInputs),q(a.outputs,m.outputs),Xi(m)&&m.data.animation){const A=a.data;A.animation=(A.animation||[]).concat(m.data.animation)}}const g=m.features;if(g)for(let b=0;b<g.length;b++){const w=g[b];w&&w.ngInherit&&w(a),w===Ne&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const m=a[h];m.hostVars=l+=m.hostVars,m.hostAttrs=Oo(m.hostAttrs,u=Oo(u,m.hostAttrs))}}(h)}function Ie(a){return a===$?{}:a===G?[]:a}function Oi(a,l){const u=a.viewQuery;a.viewQuery=u?(h,m)=>{l(h,m),u(h,m)}:l}function pS(a,l){const u=a.contentQueries;a.contentQueries=u?(h,m,g)=>{l(h,m,g),u(h,m,g)}:l}function SA(a,l){const u=a.hostBindings;a.hostBindings=u?(h,m)=>{l(h,m),u(h,m)}:l}let Y_=null;function Pi(){if(!Y_){const a=cn.Symbol;if(a&&a.iterator)Y_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Y_=h)}}}return Y_}class Ls{constructor(l){this.wrapped=l}static wrap(l){return new Ls(l)}static unwrap(l){return Ls.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof Ls}}function At(a){return!!di(a)&&(Array.isArray(a)||!(a instanceof Map)&&Pi()in a)}function di(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function lt(a,l,u){return a[l]=u}function zn(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Ol(a,l,u,h){const m=zn(a,l,u);return zn(a,l+1,h)||m}function yC(a,l,u,h){const m=Te();return zn(m,Ws(),l)&&(It(),us(Gn(),m,a,l,u,h)),yC}function ho(a,l,u,h){return zn(a,Ws(),u)?l+_e(u)+h:Et}function CC(a,l,u,h,m,g,b,w){const S=Te(),M=It(),A=a+20,R=M.firstCreatePass?function(a,l,u,h,m,g,b,w,S){const M=l.consts,A=Ho(l,a,4,b||null,ga(M,w));xa(l,u,A,ga(M,S)),pl(l,A);const R=A.tViews=qd(2,A,h,m,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,A),R.queries=l.queries.embeddedTView(A)),A}(A,M,S,l,u,h,m,g,b):M.data[A];Pr(R,!1);const P=S[11].createComment("");Ep(M,S,P,R),Ti(P,S),P_(S,S[A]=WD(P,S,P,R)),ol(R)&&w_(M,S,R),null!=b&&E_(S,R,w)}function q_(a){return Ro(ht.lFrame.contextLView,20+a)}function gh(a,l=Qe.Default){const u=Te();return null===u?yn(a,l):cd(hn(),u,j(a),l)}function VC(a,l,u){const h=Te();return zn(h,Ws(),l)&&$r(It(),Gn(),h,a,l,h[11],u,!1),VC}function BC(a,l,u,h,m){const b=m?"class":"style";L_(a,u,l.inputs[b],b,h)}function Vl(a,l,u,h){const m=Te(),g=It(),b=20+a,w=m[11],S=m[b]=vp(w,l,ht.lFrame.currentNamespace),M=g.firstCreatePass?function(a,l,u,h,m,g,b){const w=l.consts,M=Ho(l,a,2,m,ga(w,g));return xa(l,u,M,ga(w,b)),null!==M.attrs&&Up(M,M.attrs,!1),null!==M.mergedAttrs&&Up(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(b,g,m,0,l,u,h):g.data[b];Pr(M,!0);const A=M.mergedAttrs;null!==A&&xs(w,S,A);const R=M.classes;null!==R&&h_(w,S,R);const P=M.styles;null!==P&&xb(w,S,P),64!=(64&M.flags)&&Ep(g,m,S,M),0===ht.lFrame.elementDepthCount&&Ti(S,m),ht.lFrame.elementDepthCount++,ol(M)&&(w_(g,m,M),C_(g,M,m)),null!==h&&E_(m,M)}function Va(){let a=hn();Xu()?dl():(a=a.parent,Pr(a,!1));const l=a;ht.lFrame.elementDepthCount--;const u=It();u.firstCreatePass&&(pl(u,a),_c(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&BC(u,l,Te(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&BC(u,l,Te(),l.stylesWithoutHost,!1)}function UC(a,l,u,h){Vl(a,l,u,h),Va()}function Bl(a,l,u){const h=Te(),m=It(),g=a+20,b=m.firstCreatePass?function(a,l,u,h,m){const g=l.consts,b=ga(g,h),w=Ho(l,a,8,"ng-container",b);return null!==b&&Up(w,b,!0),xa(l,u,w,ga(g,m)),null!==l.queries&&l.queries.elementStart(l,w),w}(g,m,h,l,u):m.data[g];Pr(b,!0);const w=h[g]=h[11].createComment("");Ep(m,h,w,b),Ti(w,h),ol(b)&&(w_(m,h,b),C_(m,b,h)),null!=u&&E_(h,b)}function ey(){let a=hn();const l=It();Xu()?dl():(a=a.parent,Pr(a,!1)),l.firstCreatePass&&(pl(l,a),_c(a)&&l.queries.elementEnd(a))}function yh(){return Te()}function HC(a){return!!a&&"function"==typeof a.then}function TS(a){return!!a&&"function"==typeof a.subscribe}const Yn=TS;function vh(a,l,u,h){const m=Te(),g=It(),b=hn();return ty(g,m,m[11],b,a,l,!!u,h),vh}function bh(a,l){const u=hn(),h=Te(),m=It();return ty(m,h,rC(Dc(m.data),u,h),u,a,l,!1),bh}function ty(a,l,u,h,m,g,b,w){const S=ol(h),A=a.firstCreatePass&&iC(a),R=l[8],P=JD(l);let U=!0;if(3&h.type||w){const te=Ui(h,l),Ae=w?w(te):te,be=P.length,et=w?mt=>w(gn(mt[h.index])):h.index;if(mn(u)){let mt=null;if(!w&&S&&(mt=function(a,l,u,h){const m=a.cleanup;if(null!=m)for(let g=0;g<m.length-1;g+=2){const b=m[g];if(b===u&&m[g+1]===h){const w=l[7],S=m[g+2];return w.length>S?w[S]:null}"string"==typeof b&&(g+=2)}return null}(a,l,m,h.index)),null!==mt)(mt.__ngLastListenerFn__||mt).__ngNextListenerFn__=g,mt.__ngLastListenerFn__=g,U=!1;else{g=ny(h,l,R,g,!1);const Lt=u.listen(Ae,m,g);P.push(g,Lt),A&&A.push(m,et,be,be+1)}}else g=ny(h,l,R,g,!0),Ae.addEventListener(m,g,b),P.push(g),A&&A.push(m,et,be,b)}else g=ny(h,l,R,g,!1);const Z=h.outputs;let ne;if(U&&null!==Z&&(ne=Z[m])){const te=ne.length;if(te)for(let Ae=0;Ae<te;Ae+=2){const Ei=l[ne[Ae]][ne[Ae+1]].subscribe(g),Gs=P.length;P.push(g,Ei),A&&A.push(m,h.index,Gs,-(Gs+1))}}}function MS(a,l,u,h){try{return!1!==u(h)}catch(m){return N_(a,m),!1}}function ny(a,l,u,h,m){return function g(b){if(b===Function)return h;const w=2&a.flags?er(a.index,l):l;0==(32&l[2])&&eC(w);let S=MS(l,0,h,b),M=g.__ngNextListenerFn__;for(;M;)S=MS(l,0,M,b)&&S,M=M.__ngNextListenerFn__;return m&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function jC(a=1){return function(a){return(ht.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,ht.lFrame.contextLView))[8]}(a)}function Kp(a,l){let u=null;const h=function(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let m=0;m<l.length;m++){const g=l[m];if("*"!==g){if(null===h?Tp(a,g,!0):tA(h,g))return m}else u=m}return u}function Ba(a){const l=Te()[16][6];if(!l.projection){const h=l.projection=Ca(a?a.length:1,null),m=h.slice();let g=l.child;for(;null!==g;){const b=a?Kp(g,a):0;null!==b&&(m[b]?m[b].projectionNext=g:h[b]=g,m[b]=g),g=g.next}}}function GC(a,l=0,u){const h=Te(),m=It(),g=Ho(m,20+a,16,null,u||null);null===g.projection&&(g.projection=l),dl(),64!=(64&g.flags)&&function(a,l,u){Ab(l[11],0,l,u,l_(a,u,l),TD(u.parent||l[6],u,l))}(m,h,g)}function ZC(a,l,u,h,m){const g=a[u+1],b=null===l;let w=h?wr(g):Ns(g),S=!1;for(;0!==w&&(!1===S||b);){const A=a[w+1];NA(a[w],l)&&(S=!0,a[w+1]=h?Ip(A):Gd(A)),w=h?wr(A):Ns(A)}S&&(a[u+1]=h?Gd(g):Ip(g))}function NA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&vr(a,l)>=0}const rn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AS(a){return a.substring(rn.key,rn.keyEnd)}function KC(a,l){const u=rn.textEnd;return u===l?-1:(l=rn.keyEnd=function(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,rn.key=l,u),Ua(a,l,u))}function Ua(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function JC(a,l,u){return Er(a,l,u,!1),JC}function sy(a,l){return Er(a,l,null,!0),sy}function Yo(a,l){for(let u=function(a){return function(a){rn.key=0,rn.keyEnd=0,rn.value=0,rn.valueEnd=0,rn.textEnd=a.length}(a),KC(a,Ua(a,0,rn.textEnd))}(l);u>=0;u=KC(l,u))ai(a,AS(l),!0)}function Er(a,l,u,h){const m=Te(),g=It(),b=gr(2);g.firstUpdatePass&&Ci(g,a,b,h),l!==Et&&zn(m,b,l)&&tw(g,g.data[Hi()],m,m[11],a,m[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=W(so(a)))),a}(l,u),h,b)}function RS(a,l){return l>=a.expandoStartIndex}function Ci(a,l,u,h){const m=a.data;if(null===m[u+1]){const g=m[Hi()],b=RS(a,u);nw(g,h)&&null===l&&!b&&(l=!1),l=function(a,l,u,h){const m=Dc(a);let g=h?l.residualClasses:l.residualStyles;if(null===m)0===(h?l.classBindings:l.styleBindings)&&(u=wh(u=tm(null,a,l,u,h),l.attrs,h),g=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==m)if(u=tm(m,a,l,u,h),null===g){let S=function(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Ns(h))return a[wr(h)]}(a,l,h);void 0!==S&&Array.isArray(S)&&(S=tm(null,a,l,S[1],h),S=wh(S,l.attrs,h),function(a,l,u,h){a[wr(u?l.classBindings:l.styleBindings)]=h}(a,l,h,S))}else g=function(a,l,u){let h;const m=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<m;g++)h=wh(h,a[g].hostAttrs,u);return wh(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(m,g,l,h),function(a,l,u,h,m,g){let b=g?l.classBindings:l.styleBindings,w=wr(b),S=Ns(b);a[h]=u;let A,M=!1;if(Array.isArray(u)){const R=u;A=R[1],(null===A||vr(R,A)>0)&&(M=!0)}else A=u;if(m)if(0!==S){const P=wr(a[w+1]);a[h+1]=p_(P,w),0!==P&&(a[P+1]=Mp(a[P+1],h)),a[w+1]=function(a,l){return 131071&a|l<<17}(a[w+1],h)}else a[h+1]=p_(w,0),0!==w&&(a[w+1]=Mp(a[w+1],h)),w=h;else a[h+1]=p_(S,0),0===w?w=h:a[S+1]=Mp(a[S+1],h),S=h;M&&(a[h+1]=Gd(a[h+1])),ZC(a,A,h,!0),ZC(a,A,h,!1),function(a,l,u,h,m){const g=m?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&vr(g,l)>=0&&(u[h+1]=Ip(u[h+1]))}(l,A,a,h,g),b=p_(w,S),g?l.classBindings=b:l.styleBindings=b}(m,g,l,u,b,h)}}function tm(a,l,u,h,m){let g=null;const b=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<b&&(g=l[w],h=wh(h,g.hostAttrs,m),g!==a);)w++;return null!==a&&(u.directiveStylingLast=w),h}function wh(a,l,u){const h=u?1:2;let m=-1;if(null!==l)for(let g=0;g<l.length;g++){const b=l[g];"number"==typeof b?m=b:m===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ai(a,b,!!u||l[++g]))}return void 0===a?null:a}function tw(a,l,u,h,m,g,b,w){if(!(3&l.type))return;const S=a.data,M=S[w+1];oy(function(a){return 1==(1&a)}(M)?FS(S,l,u,m,Ns(M),b):void 0)||(oy(g)||function(a){return 2==(2&a)}(M)&&(g=FS(S,null,u,m,w,b)),function(a,l,u,h,m){const g=mn(a);if(l)m?g?a.addClass(u,h):u.classList.add(h):g?a.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:Cr.DashCase;if(null==m)g?a.removeStyle(u,h,b):u.style.removeProperty(h);else{const w="string"==typeof m&&m.endsWith("!important");w&&(m=m.slice(0,-10),b|=Cr.Important),g?a.setStyle(u,h,m,b):u.style.setProperty(h,m,w?"important":"")}}}(h,b,ll(Hi(),u),m,g))}function FS(a,l,u,h,m,g){const b=null===l;let w;for(;m>0;){const S=a[m],M=Array.isArray(S),A=M?S[1]:S,R=null===A;let P=u[m+1];P===Et&&(P=R?G:void 0);let U=R?Kf(P,h):A===h?P:void 0;if(M&&!oy(U)&&(U=Kf(S,h)),oy(U)&&(w=U,b))return w;const Z=a[m+1];m=b?wr(Z):Ns(Z)}if(null!==l){let S=g?l.residualClasses:l.residualStyles;null!=S&&(w=Kf(S,h))}return w}function oy(a){return void 0!==a}function nw(a,l){return 0!=(a.flags&(l?16:32))}function NS(a,l=""){const u=Te(),h=It(),m=a+20,g=h.firstCreatePass?Ho(h,m,1,l,null):h.data[m],b=u[m]=function(a,l){return mn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);Ep(h,u,b,g),Pr(g,!1)}function ly(a){return im("",a,""),ly}function im(a,l,u){const h=Te(),m=ho(h,a,l,u);return m!==Et&&$o(h,Hi(),m),im}function lu(a,l,u){!function(a,l,u,h){const m=It(),g=gr(2);m.firstUpdatePass&&Ci(m,null,g,h);const b=Te();if(u!==Et&&zn(b,g,u)){const w=m.data[Hi()];if(nw(w,h)&&!RS(m,g)){let S=h?w.classesWithoutHost:w.stylesWithoutHost;null!==S&&(u=z(S,u||"")),BC(m,w,b,u,h)}else!function(a,l,u,h,m,g,b,w){m===Et&&(m=G);let S=0,M=0,A=0<m.length?m[0]:null,R=0<g.length?g[0]:null;for(;null!==A||null!==R;){const P=S<m.length?m[S+1]:void 0,U=M<g.length?g[M+1]:void 0;let ne,Z=null;A===R?(S+=2,M+=2,P!==U&&(Z=R,ne=U)):null===R||null!==A&&A<R?(S+=2,Z=A):(M+=2,Z=R,ne=U),null!==Z&&tw(a,l,u,h,Z,ne,b,w),A=S<m.length?m[S]:null,R=M<g.length?g[M]:null}}(m,w,b,b[11],b[g+1],b[g+1]=function(a,l,u){if(null==u||""===u)return G;const h=[],m=so(u);if(Array.isArray(m))for(let g=0;g<m.length;g++)a(h,m[g],!0);else if("object"==typeof m)for(const g in m)m.hasOwnProperty(g)&&a(h,g,m[g]);else"string"==typeof m&&l(h,m);return h}(a,l,u),h,g)}}(ai,Yo,ho(Te(),a,l,u),!0)}function cy(a,l,u){const h=Te();return zn(h,Ws(),l)&&$r(It(),Gn(),h,a,l,h[11],u,!0),cy}function Me(a,l,u){const h=Te();if(zn(h,Ws(),l)){const g=It(),b=Gn();$r(g,b,h,a,l,rC(Dc(g.data),b,h),u,!0)}return Me}const Ko=void 0;var WA=["en",[["a","p"],["AM","PM"],Ko],[["AM","PM"],Ko,Ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ko,"{1} 'at' {0}",Ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Qo={};function lw(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=uy(l);if(u)return u;const h=l.split("-")[0];if(u=uy(h),u)return u;if("en"===h)return WA;throw new Error(`Missing locale data for the locale "${a}".`)}function cw(a){return lw(a)[$e.PluralCase]}function uy(a){return a in Qo||(Qo[a]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[a]),Qo[a]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const rm="en-US";let du=rm;function Gl(a){tt(a,"Expected localeId to be defined"),"string"==typeof a&&(du=a.toLowerCase().replace(/_/g,"-"))}function gy(a,l,u,h,m){if(a=j(a),Array.isArray(a))for(let g=0;g<a.length;g++)gy(a[g],l,u,h,m);else{const g=It(),b=Te();let w=Oa(a)?a:j(a.provide),S=eS(a);const M=hn(),A=1048575&M.providerIndexes,R=M.directiveStart,P=M.providerIndexes>>20;if(Oa(a)||!a.multi){const U=new sd(S,m,gh),Z=xh(w,l,m?A:A+P,R);-1===Z?(_r(Ks(M,b),g,w),_y(g,a,l.length),l.push(w),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(U),b.push(U)):(u[Z]=U,b[Z]=U)}else{const U=xh(w,l,A+P,R),Z=xh(w,l,A,A+P),ne=U>=0&&u[U],te=Z>=0&&u[Z];if(m&&!te||!m&&!ne){_r(Ks(M,b),g,w);const Ae=function(a,l,u,h,m){const g=new sd(a,u,gh);return g.multi=[],g.index=l,g.componentProviders=0,yy(g,m,h&&!u),g}(m?vy:pm,u.length,m,h,S);!m&&te&&(u[Z].providerFactory=Ae),_y(g,a,l.length,0),l.push(w),M.directiveStart++,M.directiveEnd++,m&&(M.providerIndexes+=1048576),u.push(Ae),b.push(Ae)}else _y(g,a,U>-1?U:Z,yy(u[m?Z:U],S,!m&&h));!m&&h&&te&&u[Z].componentProviders++}}}function _y(a,l,u,h){const m=Oa(l);if(m||function(a){return!!a.useClass}(l)){const b=(l.useClass||l).prototype.ngOnDestroy;if(b){const w=a.destroyHooks||(a.destroyHooks=[]);if(!m&&l.multi){const S=w.indexOf(u);-1===S?w.push(u,[h,b]):w[S+1].push(h,b)}else w.push(u,b)}}}function yy(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function xh(a,l,u,h){for(let m=u;m<h;m++)if(l[m]===a)return m;return-1}function pm(a,l,u,h){return mm(this.multi,[])}function vy(a,l,u,h){const m=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=ud(u,u[1],this.providerFactory.index,h);g=w.slice(0,b),mm(m,g);for(let S=b;S<w.length;S++)g.push(w[S])}else g=[],mm(m,g);return g}function mm(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function by(a,l=[]){return u=>{u.providersResolver=(h,m)=>function(a,l,u){const h=It();if(h.firstCreatePass){const m=Xi(a);gy(u,h.data,h.blueprint,m,!0),gy(l,h.data,h.blueprint,m,!1)}}(h,m?m(a):a,l)}}class tT{}const nT="ngComponent";class mk{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${W(a)}. Did you add it to @NgModule.entryComponents?`);return l[nT]=a,l}(l)}}let pu=(()=>{class a{}return a.NULL=new mk,a})();function Rh(...a){}function Oh(a,l){return new Xo(Ui(a,l))}const _k=function(){return Oh(hn(),Te())};let Xo=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=_k,a})();function Ph(a){return a instanceof Xo?a.nativeElement:a}class za{}let Bw=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>Uw(),a})();const Uw=function(){const a=Te(),u=er(hn().index,a);return function(a){return a[11]}(rs(u)?u:a)};let gm=(()=>{class a{}return a.\u0275prov=on({token:a,providedIn:"root",factory:()=>null}),a})();class $a{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ey=new $a("12.2.6");class oT{constructor(){}supports(l){return At(l)}create(l){return new Gw(l)}}const jw=(a,l)=>l;class Gw{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||jw}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,m=0,g=null;for(;u||h;){const b=!h||u&&u.currentIndex<Dy(h,m,g)?u:h,w=Dy(b,m,g),S=b.currentIndex;if(b===h)m--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)m++;else{g||(g=[]);const M=w-m,A=S-m;if(M!=A){for(let P=0;P<M;P++){const U=P<g.length?g[P]:g[P]=0,Z=U+P;A<=Z&&Z<M&&(g[P]=U+1)}g[b.previousIndex]=A-M}}w!==S&&l(b,w,S)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!At(l))throw new Error(`Error trying to diff '${W(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let m,g,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)g=l[w],b=this._trackByFn(w,g),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,g,b,w)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,b,w),h=!0),u=u._next}else m=0,function(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Pi()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,w=>{b=this._trackByFn(m,w),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,w,b,m)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,b,m),h=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,m){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,m)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,m)):l=this._addAfter(new yk(u,h),g,m),l}_verifyReinsertion(l,u,h,m){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,m):l.currentIndex!=m&&(l.currentIndex=m,this._addToMoves(l,m)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const m=l._prevRemoved,g=l._nextRemoved;return null===m?this._removalsHead=g:m._nextRemoved=g,null===g?this._removalsTail=m:g._prevRemoved=m,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const m=null===u?this._itHead:u._next;return l._next=m,l._prev=u,null===m?this._itTail=l:m._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new _m),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _m),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class yk{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zw{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class _m{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new zw,this.map.set(u,h)),h.add(l)}get(l,u){const m=this.map.get(l);return m?m.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dy(a,l,u){const h=a.previousIndex;if(null===h)return h;let m=0;return u&&h<u.length&&(m=u[h]),h+l+m}class $w{constructor(){}supports(l){return l instanceof Map||di(l)}create(){return new Fh}}class Fh{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||di(l)))throw new Error(`Error trying to diff '${W(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(m,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const m=this._records.get(l);this._maybeAddToChanges(m,u);const g=m._prev,b=m._next;return g&&(g._next=b),b&&(b._prev=g),m._next=null,m._prev=null,m}const h=new Yw(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class Yw{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aT(){return new Sy([new oT])}let Sy=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||aT()),deps:[[a,new cs,new ls]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=on({token:a,providedIn:"root",factory:aT}),a})();function qw(){return new Ty([new $w])}let Ty=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||qw()),deps:[[a,new cs,new ls]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=on({token:a,providedIn:"root",factory:qw}),a})();function Nh(a,l,u,h,m=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(gn(g)),Or(g))for(let w=10;w<g.length;w++){const S=g[w],M=S[1].firstChild;null!==M&&Nh(S[1],S,M,h)}const b=u.type;if(8&b)Nh(a,l,u.child,h);else if(32&b){const w=_p(u,l);let S;for(;S=w();)h.push(S)}else if(16&b){const w=Dp(l,u);if(Array.isArray(w))h.push(...w);else{const S=yp(l[16]);Nh(S[1],S,w,h,!0)}}u=m?u.projectionNext:u.next}return h}class ym{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Nh(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Or(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(yt(l,h),ba(u,h))}this._attachedToViewContainer=!1}bp(this._lView[1],this._lView)}onDestroy(l){Zb(this._lView[1],this._lView,null,l)}markForCheck(){eC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){F_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,u){ed(!0);try{F_(a,l,u)}finally{ed(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,bi(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class Zw extends ym{constructor(l){super(l),this._view=l}detectChanges(){tC(this._view)}checkNoChanges(){!function(a){ed(!0);try{tC(a)}finally{ed(!1)}}(this._view)}get context(){return null}}const bk=function(a){return function(a,l,u){if($u(a)&&!u){const h=er(a.index,l);return new ym(h,h)}return 47&a.type?new ym(l[16],l):null}(hn(),Te(),16==(16&a))};let Ww=(()=>{class a{}return a.__NG_ELEMENT_ID__=bk,a})();const Lh=[new $w],Jw=new Sy([new oT]),Vh=new Ty(Lh),Uh=function(){return Hh(hn(),Te())};let vm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Uh,a})();const wk=vm,Xw=class extends wk{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=zd(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),$d(u,h,l),new ym(h)}};function Hh(a,l){return 4&a.type?new Xw(l,a,Oh(a,l)):null}class Ya{}class uT{}const t0=function(){return s0(hn(),Te())};let My=(()=>{class a{}return a.__NG_ELEMENT_ID__=t0,a})();const Dk=My,n0=class extends Dk{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Oh(this._hostTNode,this._hostLView)}get injector(){return new kc(this._hostTNode,this._hostLView)}get parentInjector(){const l=gl(this._hostTNode,this._hostLView);if(kn(l)){const u=Ic(l,this._hostLView),h=va(l);return new kc(u[1].data[h+8],u)}return new kc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=r0(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const m=l.createEmbeddedView(u||{});return this.insert(m,h),m}createComponent(l,u,h,m,g){const b=h||this.parentInjector;if(!g&&null==l.ngModule&&b){const S=b.get(Ya,null);S&&(g=S)}const w=l.create(b,m,void 0,g);return this.insert(w.hostView,u),w}insert(l,u){const h=l._lView,m=h[1];if(Or(h[3])){const A=this.indexOf(l);if(-1!==A)this.detach(A);else{const R=h[3],P=new n0(R,R[6],R[3]);P.detach(P.indexOf(l))}}const g=this._adjustIndex(u),b=this._lContainer;!function(a,l,u,h){const m=10+h,g=u.length;h>0&&(u[m-1][4]=l),h<g-10?(l[4]=u[m],eo(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const w=l[19];null!==w&&w.insertView(a),l[2]|=128}(m,h,b,g);const w=d_(g,b),S=h[11],M=li(S,b[7]);return null!==M&&function(a,l,u,h,m,g){h[0]=m,h[6]=l,bi(a,h,u,1,m,g)}(m,b[6],S,h,M,w),l.attachToViewContainerRef(),eo(Iy(b),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=r0(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=yt(this._lContainer,u);h&&(ba(Iy(this._lContainer),u),bp(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=yt(this._lContainer,u);return h&&null!=ba(Iy(this._lContainer),u)?new ym(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function r0(a){return a[8]}function Iy(a){return a[8]||(a[8]=[])}function s0(a,l){let u;const h=l[a.index];if(Or(h))u=h;else{let m;if(8&a.type)m=gn(h);else{const g=l[11];m=g.createComment("");const b=Ui(a,l);tu(g,li(g,b),m,function(a,l){return mn(a)?a.nextSibling(l):l.nextSibling}(g,b),!1)}l[a.index]=u=WD(h,l,m,a),P_(l,u)}return new n0(u,a,l)}const Im={};class PT extends pu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=mi(l);return new NT(u,this.ngModule)}}function FT(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const A1=new xn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ln});class NT extends tT{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(Lb).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return FT(this.componentDef.inputs)}get outputs(){return FT(this.componentDef.outputs)}create(l,u,h,m){const g=(m=m||this.ngModule)?function(a,l){return{get:(u,h,m)=>{const g=a.get(u,Im,m);return g!==Im||h===Im?g:l.get(u,h,m)}}}(l,m.injector):l,b=g.get(za,qs),w=g.get(gm,null),S=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",A=h?function(a,l,u){if(mn(a))return a.selectRootElement(l,u===Fe.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(S,h,this.componentDef.encapsulation):vp(b.createRenderer(null,this.componentDef),M,function(a){const l=a.toLowerCase();return"svg"===l?bc:"math"===l?"http://www.w3.org/1998/MathML/":null}(M)),R=this.componentDef.onPush?576:528,P=function(a,l){return{components:[],scheduler:a||ln,clean:QD,playerHandler:l||null,flags:0}}(),U=qd(0,null,null,1,0,null,null,null,null,null),Z=zd(null,U,P,R,null,null,b,S,w,g);let ne,te;id(Z);try{const Ae=function(a,l,u,h,m,g){const b=u[1];u[20]=a;const S=Ho(b,20,2,"#host",null),M=S.mergedAttrs=l.hostAttrs;null!==M&&(Up(S,M,!0),null!==a&&(xs(m,a,M),null!==S.classes&&h_(m,a,S.classes),null!==S.styles&&xb(m,a,S.styles)));const A=h.createRenderer(a,l),R=zd(u,Yd(l),null,l.onPush?64:16,u[20],S,h,A,g||null,null);return b.firstCreatePass&&(_r(Ks(S,u),b,l.type),Xb(b,S),Go(S,u.length,1)),P_(u,R),u[20]=R}(A,this.componentDef,Z,b,S);if(A)if(h)xs(S,A,["ng-version",Ey.full]);else{const{attrs:be,classes:et}=function(a){const l=[],u=[];let h=1,m=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===m?""!==g&&l.push(g,a[++h]):8===m&&u.push(g);else{if(!lo(m))break;m=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);be&&xs(S,A,be),et&&et.length>0&&h_(S,A,et.join(" "))}if(te=Ku(U,20),void 0!==u){const be=te.projection=[];for(let et=0;et<this.ngContentSelectors.length;et++){const mt=u[et];be.push(null!=mt?Array.from(mt):null)}}ne=function(a,l,u,h,m){const g=u[1],b=function(a,l,u){const h=hn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Np(a,h,l,ci(a,l,1,null),u));const m=ud(l,a,h.directiveStart,h);Ti(m,l);const g=Ui(h,l);return g&&Ti(g,l),m}(g,u,l);if(h.components.push(b),a[8]=b,m&&m.forEach(S=>S(b,l)),l.contentQueries){const S=hn();l.contentQueries(1,b,S.directiveStart)}const w=hn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(fl(w.index),I_(u[1],w,0,w.directiveStart,w.directiveEnd,l),A_(l,b)),b}(Ae,this.componentDef,Z,P,[Xe]),$d(U,Z,null)}finally{Tc()}return new k1(this.componentType,ne,Oh(te,Z),Z,te)}}class k1 extends class{}{constructor(l,u,h,m,g){super(),this.location=h,this._rootLView=m,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new Zw(m),this.componentType=l}get injector(){return new kc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Hs=new Map;class zy extends Ya{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new PT(this);const h=xr(l),m=l[_t]||null;m&&Gl(m),this._bootstrapComponents=zr(h.bootstrap),this._r3Injector=XD(l,u,[{provide:Ya,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],W(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=vn.THROW_IF_NOT_FOUND,h=Qe.Default){return l===vn||l===Ya||l===Qd?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class I0 extends uT{constructor(l){super(),this.moduleType=l,null!==xr(l)&&function(a){const l=new Set;!function u(h){const m=xr(h,!0),g=m.id;null!==g&&(function(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${W(l)} vs ${W(l.name)}`)}(g,Hs.get(g),h),Hs.set(g,h));const b=zr(m.imports);for(const w of b)l.has(w)||(l.add(w),u(w))}(a)}(l)}create(l){return new zy(this.moduleType,l)}}function Am(a,l,u,h){return Ql(Te(),jn(),a,l,u,h)}function A0(a,l,u,h,m,g){return function(a,l,u,h,m,g,b,w){const S=l+u;return function(a,l,u,h,m){const g=Ol(a,l,u,h);return zn(a,l+2,m)||g}(a,S,m,g,b)?lt(a,S+3,w?h.call(w,m,g,b):h(m,g,b)):Zh(a,S+3)}(Te(),jn(),a,l,u,h,m,g)}function $y(a,l,u,h,m,g,b){return function(a,l,u,h,m,g,b,w,S){const M=l+u;return function(a,l,u,h,m,g){const b=Ol(a,l,u,h);return Ol(a,l+2,m,g)||b}(a,M,m,g,b,w)?lt(a,M+4,S?h.call(S,m,g,b,w):h(m,g,b,w)):Zh(a,M+4)}(Te(),jn(),a,l,u,h,m,g,b)}function Zh(a,l){const u=a[l];return u===Et?void 0:u}function Ql(a,l,u,h,m,g){const b=l+u;return zn(a,b,m)?lt(a,b+1,g?h.call(g,m):h(m)):Zh(a,b+1)}function BT(a,l){const u=It();let h;const m=a+20;u.firstCreatePass?(h=function(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}throw new ge("302",`The pipe '${a}' could not be found!`)}(l,u.pipeRegistry),u.data[m]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,h.onDestroy)):h=u.data[m];const g=h.factory||(h.factory=ko(h.type)),b=ts(gh);try{const w=ad(!1),S=g();return ad(w),function(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Te(),m,S),S}finally{ts(b)}}function xm(a,l,u){const h=a+20,m=Te(),g=Ro(m,h);return ms(m,bo(m,h)?Ql(m,jn(),l,g.transform,u,g):g.transform(u))}function F0(a,l,u,h){const m=a+20,g=Te(),b=Ro(g,m);return ms(g,bo(g,m)?function(a,l,u,h,m,g,b){const w=l+u;return Ol(a,w,m,g)?lt(a,w+2,b?h.call(b,m,g):h(m,g)):Zh(a,w+2)}(g,jn(),l,b.transform,u,h,b):b.transform(u,h))}function bo(a,l){return a[1].data[l].pure}function ms(a,l){return Ls.isWrapped(l)&&(l=Ls.unwrap(l),a[ht.lFrame.bindingIndex]=Et),l}function ta(a){return l=>{setTimeout(a,void 0,l)}}const na=class extends c.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var m,g,b;let w=l,S=u||(()=>null),M=h;if(l&&"object"==typeof l){const R=l;w=null===(m=R.next)||void 0===m?void 0:m.bind(R),S=null===(g=R.error)||void 0===g?void 0:g.bind(R),M=null===(b=R.complete)||void 0===b?void 0:b.bind(R)}this.__isAsync&&(S=ta(S),w&&(w=ta(w)),M&&(M=ta(M)));const A=super.subscribe({next:w,error:S,complete:M});return l instanceof X.w&&l.add(A),A}};function UT(){return this._results[Pi()]()}class Wh{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Pi(),h=Wh.prototype;h[u]||(h[u]=UT)}get changes(){return this._changes||(this._changes=new na)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const m=Br(l);(this._changesDetected=!function(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let m=a[h],g=l[h];if(u&&(m=u(m),g=u(g)),g!==m)return!1}return!0}(h._results,m,u))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class N0{constructor(l){this.queryList=l,this.matches=null}clone(){return new N0(this.queryList)}setDirty(){this.queryList.setDirty()}}class L0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,m=[];for(let g=0;g<h;g++){const b=u.getByIndex(g);m.push(this.queries[b.indexInDeclarationView].clone())}return new L0(m)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==z0(l,u).matches&&this.queries[u].setDirty()}}class HT{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class Wy{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const m=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,m);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new Wy(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class V0{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new V0(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const g=h[m];this.matchTNodeWithReadOption(l,u,Qk(u,g)),this.matchTNodeWithReadOption(l,u,_n(u,l,g,!1,!1))}else h===vm?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,_n(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===Xo||m===My||m===vm&&4&u.type)this.addMatch(u.index,-2);else{const g=_n(u,l,m,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Qk(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Jk(a,l,u,h){return-1===u?function(a,l){return 11&a.type?Oh(a,l):4&a.type?Hh(a,l):null}(l,a):-2===u?function(a,l,u){return u===Xo?Oh(l,a):u===vm?Hh(l,a):u===My?s0(l,a):void 0}(a,l,h):ud(a,a[1],u,l)}function B0(a,l,u,h){const m=l[19].queries[h];if(null===m.matches){const g=a.data,b=u.matches,w=[];for(let S=0;S<b.length;S+=2){const M=b[S];w.push(M<0?null:Jk(l,g[M],b[S+1],u.metadata.read))}m.matches=w}return m.matches}function U0(a,l,u,h){const m=a.queries.getByIndex(u),g=m.matches;if(null!==g){const b=B0(a,l,m,u);for(let w=0;w<g.length;w+=2){const S=g[w];if(S>0)h.push(b[w/2]);else{const M=g[w+1],A=l[-S];for(let R=10;R<A.length;R++){const P=A[R];P[17]===P[3]&&U0(P[1],P,M,h)}if(null!==A[9]){const R=A[9];for(let P=0;P<R.length;P++){const U=R[P];U0(U[1],U,M,h)}}}}}return h}function GT(a){const l=Te(),u=It(),h=wg();Sc(h+1);const m=z0(u,h);if(a.dirty&&If(l)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const g=m.crossesNgTemplate?U0(u,l,h,[]):B0(u,l,m,h);a.reset(g,Ph),a.notifyOnChanges()}return!0}return!1}function H0(a,l,u){const h=It();h.firstCreatePass&&(Fm(h,new HT(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Ky(h,Te(),l)}function j0(a,l,u,h){const m=It();if(m.firstCreatePass){const g=hn();Fm(m,new HT(l,u,h),g.index),function(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}Ky(m,Te(),u)}function G0(){return a=Te(),l=wg(),a[19].queries[l].queryList;var a,l}function Ky(a,l,u){const h=new Wh(4==(4&u));Zb(a,l,h,h.destroy),null===l[19]&&(l[19]=new L0),l[19].queries.push(new N0(h))}function Fm(a,l,u){null===a.queries&&(a.queries=new Wy),a.queries.track(new V0(l,u))}function z0(a,l){return a.queries.getByIndex(l)}function Qa(a,l){return Hh(a,l)}const J0=new xn("Application Initializer");let Eu=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Rh,this.reject=Rh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const g=this.appInits[m]();if(HC(g))u.push(g);else if(Yn(g)){const b=new Promise((w,S)=>{g.subscribe({complete:w,error:S})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(yn(J0,8))},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();const aM=new xn("AppId"),gx={provide:aM,useFactory:function(){return`${iv()}${iv()}${iv()}`},deps:[]};function iv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tc=new xn("Platform Initializer"),X0=new xn("Platform ID"),rv=new xn("appBootstrapListener");let lM=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();const jm=new xn("LocaleId"),tE=new xn("DefaultCurrencyCode");class Cx{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}const nE=function(a){return new I0(a)},iE=nE,Dx=function(a){return Promise.resolve(nE(a))},dM=function(a){const l=nE(a),h=zr(xr(a).declarations).reduce((m,g)=>{const b=mi(g);return b&&m.push(new NT(b)),m},[]);return new Cx(l,h)},hM=dM,Mx=function(a){return Promise.resolve(dM(a))};let ef=(()=>{class a{constructor(){this.compileModuleSync=iE,this.compileModuleAsync=Dx,this.compileModuleAndAllComponentsSync=hM,this.compileModuleAndAllComponentsAsync=Mx}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();const Ax=(()=>Promise.resolve(0))();function sv(a){"undefined"==typeof Zone?Ax.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class _s{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&u,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let a=cn.requestAnimationFrame,l=cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(cn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,mM(a),a.isCheckStableRunning=!0,pM(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),mM(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,m,g,b,w)=>{try{return vs(a),u.invokeTask(m,g,b,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),gM(a)}},onInvoke:(u,h,m,g,b,w,S)=>{try{return vs(a),u.invoke(m,g,b,w,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),gM(a)}},onHasTask:(u,h,m,g)=>{u.hasTask(m,g),h===m&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,mM(a),pM(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,m,g)=>(u.handleError(m,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,m){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+m,l,ys,Rh,Rh);try{return g.runTask(b,u,h)}finally{g.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const ys={};function pM(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function mM(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function vs(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function gM(a){a._nesting--,pM(a)}class kx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,m){return l.apply(u,h)}}let _M=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),sv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(yn(_s))},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})(),xx=(()=>{class a{constructor(){this._applications=new Map,bs.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return bs.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();class q1{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function nc(a){bs=a}let bs=new q1,lv=!0,cv=!1;function tf(){return cv=!0,lv}function uv(){if(cv)throw new Error("Cannot enable prod mode after platform setup.");lv=!1}let qi;const Ox=new xn("AllowMultipleToken");class J1{constructor(l,u){this.name=l,this.token=u}}function Px(a,l,u=[]){const h=`Platform: ${l}`,m=new xn(h);return(g=[])=>{let b=Fx();if(!b||b.injector.get(Ox,!1))if(a)a(u.concat(g).concat({provide:m,useValue:!0}));else{const w=u.concat(g).concat({provide:m,useValue:!0},{provide:Ra,useValue:"platform"});!function(a){if(qi&&!qi.destroyed&&!qi.injector.get(Ox,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qi=a.get(yM);const l=a.get(tc,null);l&&l.forEach(u=>u())}(vn.create({providers:w,name:h}))}return function(a){const l=Fx();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(m)}}function Fx(){return qi&&!qi.destroyed?qi:null}let yM=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const w=function(a,l){let u;return u="noop"===a?new kx:("zone.js"===a?void 0:a)||new _s({enableLongStackTrace:tf(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),S=[{provide:_s,useValue:w}];return w.run(()=>{const M=vn.create({providers:S,parent:this.injector,name:u.moduleType.name}),A=u.create(M),R=A.injector.get(y,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const P=w.onError.subscribe({next:U=>{R.handleError(U)}});A.onDestroy(()=>{hv(this._modules,A),P.unsubscribe()})}),function(a,l,u){try{const h=u();return HC(h)?h.catch(m=>{throw l.runOutsideAngular(()=>a.handleError(m)),m}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(R,w,()=>{const P=A.injector.get(Eu);return P.runInitializers(),P.donePromise.then(()=>(Gl(A.injector.get(jm,rm)||rm),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,h=[]){const m=Nx({},h);return function(a,l,u){const h=new I0(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,m))}_moduleDoBootstrap(u){const h=u.injector.get(dv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${W(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(yn(vn))},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();function Nx(a,l){return Array.isArray(l)?l.reduce(Nx,a):Object.assign(Object.assign({},a),l)}let dv=(()=>{class a{constructor(u,h,m,g,b){this._zone=u,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=g,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new H.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),S=new H.y(M=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),sv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{A.unsubscribe(),R.unsubscribe()}});this.isStable=(0,me.T)(w,S.pipe((0,oe.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=u instanceof tT?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const g=function(a){return a.isBoundToModule}(m)?void 0:this._injector.get(Ya),w=m.create(vn.NULL,[],h||m.selector,g),S=w.location.nativeElement,M=w.injector.get(_M,null),A=M&&w.injector.get(xx);return M&&A&&A.registerApplication(S,M),w.onDestroy(()=>{this.detachView(w.hostView),hv(this.components,w),A&&A.unregisterApplication(S)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;hv(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(rv,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(yn(_s),yn(vn),yn(y),yn(pu),yn(Eu))},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();function hv(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}class rP{}class oP{}const aP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let lP=(()=>{class a{constructor(u,h){this._compiler=u,this._config=h||aP}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[h,m]=u.split("#");return void 0===m&&(m="default"),N(8255)(h).then(g=>g[m]).then(g=>Ux(g,h,m)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[h,m]=u.split("#"),g="NgFactory";return void 0===m&&(m="default",g=""),N(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(b=>b[m+g]).then(b=>Ux(b,h,m))}}return a.\u0275fac=function(u){return new(u||a)(yn(ef),yn(oP,8))},a.\u0275prov=on({token:a,factory:a.\u0275fac}),a})();function Ux(a,l,u){if(!a)throw new Error(`Cannot find '${u}' in '${l}'`);return a}const mP=function(a){return null},_P=Px(null,"core",[{provide:X0,useValue:"unknown"},{provide:yM,deps:[vn]},{provide:xx,deps:[]},{provide:lM,deps:[]}]),wP=[{provide:dv,useClass:dv,deps:[_s,vn,y,pu,Eu]},{provide:A1,deps:[_s],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:Eu,useClass:Eu,deps:[[new ls,J0]]},{provide:ef,useClass:ef,deps:[]},gx,{provide:Sy,useFactory:function(){return Jw},deps:[]},{provide:Ty,useFactory:function(){return Vh},deps:[]},{provide:jm,useFactory:function(a){return Gl(a=a||"undefined"!=typeof $localize&&$localize.locale||rm),a},deps:[[new El(jm),new ls,new cs]]},{provide:tE,useValue:"USD"}];let DP=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(yn(dv))},a.\u0275mod=ju({type:a}),a.\u0275inj=xt({providers:wP}),a})()},8939:(He,Ce,N)=>{"use strict";N.d(Ce,{hO:()=>re,xv:()=>z,Dh:()=>W,GT:()=>J,on:()=>F,pX:()=>oe});var c=N(7716),X=N(7841),H=N(9126);He=N.hmd(He);const me=["ngOnDestroy"],oe=(le,ge,ce,Se={})=>new Proxy(le,{get:(_e,Re)=>ce.runOutsideAngular(()=>{var at;if(le[Re])return(null===(at=null==Se?void 0:Se.spy)||void 0===at?void 0:at.get)&&Se.spy.get(Re,le[Re]),le[Re];if(me.indexOf(Re)>-1)return()=>{};const gt=ge.toPromise().then(ut=>{const Yt=ut&&ut[Re];return"function"==typeof Yt?Yt.bind(ut):Yt&&Yt.then?Yt.then(kt=>ce.run(()=>kt)):ce.run(()=>Yt)});return new Proxy(()=>{},{get:(ut,Yt)=>gt[Yt],apply:(ut,Yt,kt)=>gt.then(Ht=>{var De;const ae=Ht&&Ht(...kt);return(null===(De=null==Se?void 0:Se.spy)||void 0===De?void 0:De.apply)&&Se.spy.apply(Re,kt,ae),ae})})})}),J=(le,ge)=>{ge.forEach(ce=>{Object.getOwnPropertyNames(ce.prototype||ce).forEach(Se=>{Object.defineProperty(le.prototype,Se,Object.getOwnPropertyDescriptor(ce.prototype||ce,Se))})})};class q{constructor(ge){return ge}}const W=new c.OlP("angularfire2.app.options"),z=new c.OlP("angularfire2.app.name");function F(le,ge,ce){const _e="object"==typeof ce&&ce||{};_e.name=_e.name||"string"==typeof ce&&ce||"[DEFAULT]";const at=X.Z.apps.filter(gt=>gt&&gt.name===_e.name)[0]||ge.runOutsideAngular(()=>X.Z.initializeApp(le,_e));try{JSON.stringify(le)!==JSON.stringify(at.options)&&B("error",`${at.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(gt){}return new q(at)}const B=(le,...ge)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[le](...ge)},j={provide:q,useFactory:F,deps:[W,c.R0b,[new c.FiY,z]]};let re=(()=>{class le{constructor(ce){X.Z.registerVersion("angularfire",H.q4.full,"core"),X.Z.registerVersion("angularfire",H.q4.full,"app-compat"),X.Z.registerVersion("angular",c.q4F.full,ce.toString())}static initializeApp(ce,Se){return{ngModule:le,providers:[{provide:W,useValue:ce},{provide:z,useValue:Se}]}}}return le.\u0275fac=function(ce){return new(ce||le)(c.LFG(c.Lbi))},le.\u0275mod=c.oAB({type:le}),le.\u0275inj=c.cJS({providers:[j]}),le})()},9126:(He,Ce,N)=>{"use strict";N.d(Ce,{q4:()=>F,iC:()=>ae,HU:()=>gt,cc:()=>re});var c=N(7716);(0,N(5452).registerVersion)("firebase","9.1.0","app");var oe=N(7771),J=N(3637),q=N(3342),W=N(9673),z=N(9746);He=N.hmd(He);const F=new c.GfV("7.0.4"),B=!!He.hot,j=(he,...ee)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[he](...ee)};function re(he,ee,Oe,Ze,St){const[,it,tt]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===he)||[];if(it)return function(he,ee){try{return he.toString()===ee.toString()}catch(Oe){return he===ee}}(St,tt)||(j("error",`${ee} was already initialized on the ${Oe} Firebase App with different settings.${B?" You may need to reload as Firebase is not HMR aware.":""}`),j("warn",{is:St,was:tt})),it;{const dt=Ze();return globalThis.\u0275AngularfireInstanceCache.push([he,dt,St]),dt}}function _e(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Re{constructor(ee,Oe=oe.N){this.zone=ee,this.delegate=Oe}now(){return this.delegate.now()}schedule(ee,Oe,Ze){const St=this.zone;return this.delegate.schedule(function(tt){St.runGuarded(()=>{ee.apply(this,[tt])})},Oe,Ze)}}class at{constructor(ee){this.zone=ee,this.task=null}call(ee,Oe){const Ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_e,{},_e,_e)),Oe.pipe((0,q.b)({next:Ze,complete:Ze,error:Ze})).subscribe(ee).add(Ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gt=(()=>{class he{constructor(Oe){this.ngZone=Oe,this.outsideAngular=Oe.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=Oe.run(()=>new Re(Zone.current,J.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return he.\u0275fac=function(Oe){return new(Oe||he)(c.LFG(c.R0b))},he.\u0275prov=c.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();function ut(){const he=globalThis.\u0275AngularFireScheduler;if(!he)throw new Error("AngularFireModule has not been provided");return he}function ae(he){return ut(),function(he){return function(Oe){return(Oe=Oe.lift(new at(he.ngZone))).pipe((0,W.R)(he.outsideAngular),(0,z.QV)(he.insideAngular))}}(ut())(he)}},4486:(He,Ce,N)=>{"use strict";N.d(Ce,{Z:()=>ge});var c=N(3854),X=N(6034),H=N(5452),me=N(5601);class oe{constructor(Se,_e){this._delegate=Se,this.firebase=_e,(0,H._addComponent)(Se,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Se,_e=H._DEFAULT_ENTRY_NAME){var Re;this._delegate.checkDestroyed();const at=this._delegate.container.getProvider(Se);return!at.isInitialized()&&"EXPLICIT"===(null===(Re=at.getComponent())||void 0===Re?void 0:Re.instantiationMode)&&at.initialize(),at.getImmediate({identifier:_e})}_removeServiceInstance(Se,_e=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(_e)}_addComponent(Se){(0,H._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,H._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function z(){const ce=function(ce){const Se={},_e={__esModule:!0,initializeApp:function(Ht,De={}){const ae=H.initializeApp(Ht,De);if((0,c.r3)(Se,ae.name))return Se[ae.name];const ue=new ce(ae,_e);return Se[ae.name]=ue,ue},app:at,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function(Ht){const De=Ht.name,ae=De.replace("-compat","");if(H._registerComponent(Ht)&&"PUBLIC"===Ht.type){const ue=(ye=at())=>{if("function"!=typeof ye[ae])throw q.create("invalid-app-argument",{appName:De});return ye[ae]()};void 0!==Ht.serviceProps&&(0,c.ZB)(ue,Ht.serviceProps),_e[ae]=ue,ce.prototype[ae]=function(...ye){return this._getService.bind(this,De).apply(this,Ht.multipleInstances?ye:[])}}return"PUBLIC"===Ht.type?_e[ae]:null},removeApp:function(Ht){delete Se[Ht]},useAsService:function(Ht,De){return"serverAuth"===De?null:De},modularAPIs:H}};function at(Ht){if(!(0,c.r3)(Se,Ht=Ht||H._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:Ht});return Se[Ht]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(Se).map(Ht=>Se[Ht])}}),at.App=ce,_e}(oe);return ce.INTERNAL=Object.assign(Object.assign({},ce.INTERNAL),{createFirebaseNamespace:z,extendNamespace:function(_e){(0,c.ZB)(ce,_e)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ce}(),B=new me.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ce=self.firebase.SDK_VERSION;ce&&ce.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ge=F;(0,H.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(He,Ce,N)=>{"use strict";N.r(Ce),N.d(Ce,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>Ar,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>In,_addOrOverwriteComponent:()=>Jr,_apps:()=>tt,_clearComponents:()=>xt,_components:()=>dt,_getProvider:()=>on,_registerComponent:()=>Ir,_removeServiceInstance:()=>fn,deleteApp:()=>$s,getApp:()=>zs,getApps:()=>ha,initializeApp:()=>So,onLog:()=>ri,registerVersion:()=>Qe,setLogLevel:()=>es});var c=N(8239),X=N(6034),H=N(5601),me=N(3854);class oe{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function(pt){const rt=pt.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(Gt)){const Bt=Gt.getImmediate();return`${Bt.library}/${Bt.version}`}return null}).filter(Gt=>Gt).join(" ")}}const q="@firebase/app",z=new H.Yd("@firebase/app"),St="[DEFAULT]",it={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,dt=new Map;function In(pt,rt){try{pt.container.addComponent(rt)}catch(Gt){z.debug(`Component ${rt.name} failed to register with FirebaseApp ${pt.name}`,Gt)}}function Jr(pt,rt){pt.container.addOrOverwriteComponent(rt)}function Ir(pt){const rt=pt.name;if(dt.has(rt))return z.debug(`There were multiple attempts to register component ${rt}.`),!1;dt.set(rt,pt);for(const Gt of tt.values())In(Gt,pt);return!0}function on(pt,rt){return pt.container.getProvider(rt)}function fn(pt,rt,Gt=St){on(pt,rt).clearInstance(Gt)}function xt(){dt.clear()}const Xr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class da{constructor(rt,Gt,Bt){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=Bt,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const Ar="9.1.0";function So(pt,rt={}){"object"!=typeof rt&&(rt={name:rt});const Gt=Object.assign({name:St,automaticDataCollectionEnabled:!1},rt),Bt=Gt.name;if("string"!=typeof Bt||!Bt)throw Xr.create("bad-app-name",{appName:String(Bt)});const Bi=tt.get(Bt);if(Bi){if((0,me.vZ)(pt,Bi.options)&&(0,me.vZ)(Gt,Bi.config))return Bi;throw Xr.create("duplicate-app",{appName:Bt})}const tn=new X.H0(Bt);for(const st of dt.values())tn.addComponent(st);const Fe=new da(pt,Gt,tn);return tt.set(Bt,Fe),Fe}function zs(pt=St){const rt=tt.get(pt);if(!rt)throw Xr.create("no-app",{appName:pt});return rt}function ha(){return Array.from(tt.values())}function $s(pt){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(pt){const rt=pt.name;tt.has(rt)&&(tt.delete(rt),yield Promise.all(pt.container.getProviders().map(Gt=>Gt.delete())),pt.isDeleted=!0)})).apply(this,arguments)}function Qe(pt,rt,Gt){var Bt;let Bi=null!==(Bt=it[pt])&&void 0!==Bt?Bt:pt;Gt&&(Bi+=`-${Gt}`);const tn=Bi.match(/\s|\//),Fe=rt.match(/\s|\//);if(tn||Fe){const st=[`Unable to register library "${Bi}" with version "${rt}":`];return tn&&st.push(`library name "${Bi}" contains illegal characters (whitespace or "/")`),tn&&Fe&&st.push("and"),Fe&&st.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void z.warn(st.join(" "))}Ir(new X.wA(`${Bi}-version`,()=>({library:Bi,version:rt}),"VERSION"))}function ri(pt,rt){if(null!==pt&&"function"!=typeof pt)throw Xr.create("invalid-log-argument");(0,H.Am)(pt,rt)}function es(pt){(0,H.Ub)(pt)}Ir(new X.wA("platform-logger",rt=>new oe(rt),"PRIVATE")),Qe(q,"0.7.1",undefined),Qe("fire-js","")},6034:(He,Ce,N)=>{"use strict";N.d(Ce,{wA:()=>H,H0:()=>W});var c=N(4762),X=N(3854),H=function(){function z(F,B,j){this.name=F,this.instanceFactory=B,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return z.prototype.setInstantiationMode=function(F){return this.instantiationMode=F,this},z.prototype.setMultipleInstances=function(F){return this.multipleInstances=F,this},z.prototype.setServiceProps=function(F){return this.serviceProps=F,this},z.prototype.setInstanceCreatedCallback=function(F){return this.onInstanceCreated=F,this},z}(),me="[DEFAULT]",oe=function(){function z(F,B){this.name=F,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return z.prototype.get=function(F){var B=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(B)){var j=new X.BH;if(this.instancesDeferred.set(B,j),this.isInitialized(B)||this.shouldAutoInitialize())try{var re=this.getOrInitializeService({instanceIdentifier:B});re&&j.resolve(re)}catch(le){}}return this.instancesDeferred.get(B).promise},z.prototype.getImmediate=function(F){var B,j=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),re=null!==(B=null==F?void 0:F.optional)&&void 0!==B&&B;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(re)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(le){if(re)return null;throw le}},z.prototype.getComponent=function(){return this.component},z.prototype.setComponent=function(F){var B,j;if(F.name!==this.name)throw Error("Mismatching Component "+F.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=F,this.shouldAutoInitialize()){if(function(z){return"EAGER"===z.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:me})}catch(at){}try{for(var re=(0,c.XA)(this.instancesDeferred.entries()),le=re.next();!le.done;le=re.next()){var ge=(0,c.CR)(le.value,2),Se=ge[1],_e=this.normalizeInstanceIdentifier(ge[0]);try{var Re=this.getOrInitializeService({instanceIdentifier:_e});Se.resolve(Re)}catch(at){}}}catch(at){B={error:at}}finally{try{le&&!le.done&&(j=re.return)&&j.call(re)}finally{if(B)throw B.error}}}},z.prototype.clearInstance=function(F){void 0===F&&(F=me),this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)},z.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var F;return(0,c.Jh)(this,function(B){switch(B.label){case 0:return F=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(F.filter(function(j){return"INTERNAL"in j}).map(function(j){return j.INTERNAL.delete()}))),(0,c.CR)(F.filter(function(j){return"_delete"in j}).map(function(j){return j._delete()}))))];case 1:return B.sent(),[2]}})})},z.prototype.isComponentSet=function(){return null!=this.component},z.prototype.isInitialized=function(F){return void 0===F&&(F=me),this.instances.has(F)},z.prototype.getOptions=function(F){return void 0===F&&(F=me),this.instancesOptions.get(F)||{}},z.prototype.initialize=function(F){var B,j;void 0===F&&(F={});var re=F.options,le=void 0===re?{}:re,ge=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(ge))throw Error(this.name+"("+ge+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ce=this.getOrInitializeService({instanceIdentifier:ge,options:le});try{for(var Se=(0,c.XA)(this.instancesDeferred.entries()),_e=Se.next();!_e.done;_e=Se.next()){var Re=(0,c.CR)(_e.value,2),gt=Re[1];ge===this.normalizeInstanceIdentifier(Re[0])&&gt.resolve(ce)}}catch(Yt){B={error:Yt}}finally{try{_e&&!_e.done&&(j=Se.return)&&j.call(Se)}finally{if(B)throw B.error}}return ce},z.prototype.onInit=function(F,B){var j,re=this.normalizeInstanceIdentifier(B),le=null!==(j=this.onInitCallbacks.get(re))&&void 0!==j?j:new Set;le.add(F),this.onInitCallbacks.set(re,le);var ge=this.instances.get(re);return ge&&F(ge,re),function(){le.delete(F)}},z.prototype.invokeOnInitCallbacks=function(F,B){var j,re,le=this.onInitCallbacks.get(B);if(le)try{for(var ge=(0,c.XA)(le),ce=ge.next();!ce.done;ce=ge.next()){var Se=ce.value;try{Se(F,B)}catch(_e){}}}catch(_e){j={error:_e}}finally{try{ce&&!ce.done&&(re=ge.return)&&re.call(ge)}finally{if(j)throw j.error}}},z.prototype.getOrInitializeService=function(F){var B=F.instanceIdentifier,j=F.options,re=void 0===j?{}:j,le=this.instances.get(B);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:J(B),options:re}),this.instances.set(B,le),this.instancesOptions.set(B,re),this.invokeOnInitCallbacks(le,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,le)}catch(ge){}return le||null},z.prototype.normalizeInstanceIdentifier=function(F){return void 0===F&&(F=me),this.component?this.component.multipleInstances?F:me:F},z.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},z}();function J(z){return z===me?void 0:z}var W=function(){function z(F){this.name=F,this.providers=new Map}return z.prototype.addComponent=function(F){var B=this.getProvider(F.name);if(B.isComponentSet())throw new Error("Component "+F.name+" has already been registered with "+this.name);B.setComponent(F)},z.prototype.addOrOverwriteComponent=function(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)},z.prototype.getProvider=function(F){if(this.providers.has(F))return this.providers.get(F);var B=new oe(F,this);return this.providers.set(F,B),B},z.prototype.getProviders=function(){return Array.from(this.providers.values())},z}()},5601:(He,Ce,N)=>{"use strict";N.d(Ce,{in:()=>X,Yd:()=>q,Ub:()=>W,Am:()=>z});const c=[];var X=(()=>{return(F=X||(X={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",X;var F})();const H={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},me=X.INFO,oe={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},J=(F,B,...j)=>{if(B<F.logLevel)return;const re=(new Date).toISOString(),le=oe[B];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[le](`[${re}]  ${F.name}:`,...j)};class q{constructor(B){this.name=B,this._logLevel=me,this._logHandler=J,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in X))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?H[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...B),this._logHandler(this,X.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...B),this._logHandler(this,X.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,X.INFO,...B),this._logHandler(this,X.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,X.WARN,...B),this._logHandler(this,X.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...B),this._logHandler(this,X.ERROR,...B)}}function W(F){c.forEach(B=>{B.setLogLevel(F)})}function z(F,B){for(const j of c){let re=null;B&&B.level&&(re=H[B.level]),j.userLogHandler=null===F?null:(le,ge,...ce)=>{const Se=ce.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(Re){return null}}).filter(_e=>_e).join(" ");ge>=(null!=re?re:le.logLevel)&&F({level:X[ge].toLowerCase(),message:Se,args:ce,type:le.name})}}}},3854:(He,Ce,N)=>{"use strict";N.d(Ce,{BH:()=>re,LL:()=>ee,ZR:()=>he,tV:()=>z,r3:()=>on,Sg:()=>le,ne:()=>$s,vZ:()=>Xr,ZB:()=>B,pd:()=>zs,m9:()=>nl,z$:()=>ge,jU:()=>_e,ru:()=>Re,d:()=>gt,xb:()=>xt,w1:()=>ut,hl:()=>De,uI:()=>ce,UG:()=>Se,b$:()=>at,G6:()=>Ht,Mn:()=>Yt,xO:()=>Ar,zd:()=>So});const me=function($){const G=[];let Q=0;for(let Ee=0;Ee<$.length;Ee++){let ie=$.charCodeAt(Ee);ie<128?G[Q++]=ie:ie<2048?(G[Q++]=ie>>6|192,G[Q++]=63&ie|128):55296==(64512&ie)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(ie=65536+((1023&ie)<<10)+(1023&$.charCodeAt(++Ee)),G[Q++]=ie>>18|240,G[Q++]=ie>>12&63|128,G[Q++]=ie>>6&63|128,G[Q++]=63&ie|128):(G[Q++]=ie>>12|224,G[Q++]=ie>>6&63|128,G[Q++]=63&ie|128)}return G},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,G){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let ie=0;ie<$.length;ie+=3){const Ye=$[ie],_t=ie+1<$.length,Ft=_t?$[ie+1]:0,dn=ie+2<$.length,bn=dn?$[ie+2]:0;let si=(15&Ft)<<2|bn>>6,dr=63&bn;dn||(dr=64,_t||(si=64)),Ee.push(Q[Ye>>2],Q[(3&Ye)<<4|Ft>>4],Q[si],Q[dr])}return Ee.join("")},encodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa($):this.encodeByteArray(me($),G)},decodeString($,G){return this.HAS_NATIVE_SUPPORT&&!G?atob($):function($){const G=[];let Q=0,Ee=0;for(;Q<$.length;){const ie=$[Q++];if(ie<128)G[Ee++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const Ye=$[Q++];G[Ee++]=String.fromCharCode((31&ie)<<6|63&Ye)}else if(ie>239&&ie<365){const dn=((7&ie)<<18|(63&$[Q++])<<12|(63&$[Q++])<<6|63&$[Q++])-65536;G[Ee++]=String.fromCharCode(55296+(dn>>10)),G[Ee++]=String.fromCharCode(56320+(1023&dn))}else{const Ye=$[Q++],_t=$[Q++];G[Ee++]=String.fromCharCode((15&ie)<<12|(63&Ye)<<6|63&_t)}}return G.join("")}(this.decodeStringToByteArray($,G))},decodeStringToByteArray($,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let ie=0;ie<$.length;){const Ye=Q[$.charAt(ie++)],Ft=ie<$.length?Q[$.charAt(ie)]:0;++ie;const bn=ie<$.length?Q[$.charAt(ie)]:64;++ie;const Ot=ie<$.length?Q[$.charAt(ie)]:64;if(++ie,null==Ye||null==Ft||null==bn||null==Ot)throw Error();Ee.push(Ye<<2|Ft>>4),64!==bn&&(Ee.push(Ft<<4&240|bn>>2),64!==Ot&&Ee.push(bn<<6&192|Ot))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},W=function($){return function($){const G=me($);return J.encodeByteArray(G,!0)}($).replace(/\./g,"")},z=function($){try{return J.decodeString($,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function B($,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return G}for(const Q in G)!G.hasOwnProperty(Q)||!j(Q)||($[Q]=B($[Q],G[Q]));return $}function j($){return"__proto__"!==$}class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,Ee)=>{Q?this.reject(Q):this.resolve(Ee),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,Ee))}}}function le($,G){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=G||"demo-project",ie=$.iat||0,Ye=$.sub||$.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const _t=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:ie,exp:ie+3600,auth_time:ie,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},$);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(_t)),""].join(".")}function ge(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function _e(){return"object"==typeof self&&self.self===self}function Re(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function at(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function gt(){return ge().indexOf("Electron/")>=0}function ut(){const $=ge();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Yt(){return ge().indexOf("MSAppHost/")>=0}function Ht(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){return"object"==typeof indexedDB}class he extends Error{constructor(G,Q,Ee){super(Q),this.code=G,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ee.prototype.create)}}class ee{constructor(G,Q,Ee){this.service=G,this.serviceName=Q,this.errors=Ee}create(G,...Q){const Ee=Q[0]||{},ie=`${this.service}/${G}`,Ye=this.errors[G],_t=Ye?function($,G){return $.replace(Ze,(Q,Ee)=>{const ie=G[Ee];return null!=ie?String(ie):`<${Ee}?>`})}(Ye,Ee):"Error";return new he(ie,`${this.serviceName}: ${_t} (${ie}).`,Ee)}}const Ze=/\{\$([^}]+)}/g;function on($,G){return Object.prototype.hasOwnProperty.call($,G)}function xt($){for(const G in $)if(Object.prototype.hasOwnProperty.call($,G))return!1;return!0}function Xr($,G){if($===G)return!0;const Q=Object.keys($),Ee=Object.keys(G);for(const ie of Q){if(!Ee.includes(ie))return!1;const Ye=$[ie],_t=G[ie];if(da(Ye)&&da(_t)){if(!Xr(Ye,_t))return!1}else if(Ye!==_t)return!1}for(const ie of Ee)if(!Q.includes(ie))return!1;return!0}function da($){return null!==$&&"object"==typeof $}function Ar($){const G=[];for(const[Q,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(ie=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(ie))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent(Ee));return G.length?"&"+G.join("&"):""}function So($){const G={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[ie,Ye]=Ee.split("=");G[decodeURIComponent(ie)]=decodeURIComponent(Ye)}}),G}function zs($){const G=$.indexOf("?");if(!G)return"";const Q=$.indexOf("#",G);return $.substring(G,Q>0?Q:void 0)}function $s($,G){const Q=new fa($,G);return Q.subscribe.bind(Q)}class fa{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch(Ee=>{this.error(Ee)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,Ee){let ie;if(void 0===G&&void 0===Q&&void 0===Ee)throw new Error("Missing Observer.");ie=function($,G){if("object"!=typeof $||null===$)return!1;for(const Q of["next","error","complete"])if(Q in $&&"function"==typeof $[Q])return!0;return!1}(G)?G:{next:G,error:Q,complete:Ee},void 0===ie.next&&(ie.next=es),void 0===ie.error&&(ie.error=es),void 0===ie.complete&&(ie.complete=es);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch(_t){}}),this.observers.push(ie),Ye}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function es(){}function nl($){return $&&$._delegate?$._delegate:$}},7841:(He,Ce,N)=>{"use strict";N.d(Ce,{Z:()=>c.Z});var c=N(4486);c.Z.registerVersion("firebase","9.1.0","app-compat")},670:(He,Ce,N)=>{"use strict";N.r(Ce);var c=N(8239),X=N(4486),H=N(3854),me=N(5452),oe=N(4762),J=N(5601),q=N(6034);const ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ce=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new J.Yd("@firebase/auth");function at(E,...y){Re.logLevel<=J.in.ERROR&&Re.error(`Auth (${me.SDK_VERSION}): ${E}`,...y)}function gt(E,...y){throw Ht(E,...y)}function ut(E,...y){return Ht(E,...y)}function Yt(E,y,v){const D=Object.assign(Object.assign({},ce()),{[y]:v});return new H.LL("auth","Firebase",D).create(y,{appName:E.name})}function kt(E,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&gt(E,"argument-error"),Yt(E,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ht(E,...y){if("string"!=typeof E){const v=y[0],D=[...y.slice(1)];return D[0]&&(D[0].appName=E.name),E._errorFactory.create(v,...D)}return Se.create(E,...y)}function De(E,y,...v){if(!E)throw Ht(y,...v)}function ae(E){const y="INTERNAL ASSERTION FAILED: "+E;throw at(y),new Error(y)}function ue(E,y){E||ae(y)}const ye=new Map;function de(E){ue(E instanceof Function,"Expected a class definition");let y=ye.get(E);return y?(ue(y instanceof E,"Instance stored in cache mismatched with class"),y):(y=new E,ye.set(E,y),y)}function Oe(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ze(){return"http:"===St()||"https:"===St()}function St(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class dt{constructor(y,v){this.shortDelay=y,this.longDelay=v,ue(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ze()||(0,H.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function In(E,y){ue(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class Jr{static initialize(y,v,D){this.fetchImpl=y,v&&(this.headersImpl=v),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ir={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new dt(3e4,6e4);function fn(E,y){return E.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:E.tenantId}):y}function xt(E,y,v,D){return Di.apply(this,arguments)}function Di(){return(Di=(0,c.Z)(function*(E,y,v,D,k={}){return Xr(E,k,()=>{let O={},K={};D&&("GET"===y?K=D:O={body:JSON.stringify(D)});const pe=(0,H.xO)(Object.assign({key:E.config.apiKey},K)).slice(1),ke=new(Jr.headers());return ke.set("Content-Type","application/json"),ke.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&ke.set("X-Firebase-Locale",E.languageCode),Jr.fetch()(zs(E,E.config.apiHost,v,pe),Object.assign({method:y,headers:ke,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function Xr(E,y,v){return da.apply(this,arguments)}function da(){return(da=(0,c.Z)(function*(E,y,v){E._canInitEmulator=!1;const D=Object.assign(Object.assign({},Ir),y);try{const k=new ha(E),O=yield Promise.race([v(),k.promise]);k.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw $s(E,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const pe=O.ok?K.errorMessage:K.error.message,[ke,ze]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw $s(E,"credential-already-in-use",K);if("EMAIL_EXISTS"===ke)throw $s(E,"email-already-in-use",K);const ft=D[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw Yt(E,ft,ze);gt(E,ft)}}catch(k){if(k instanceof H.ZR)throw k;gt(E,"network-request-failed")}})).apply(this,arguments)}function Ar(E,y,v,D){return So.apply(this,arguments)}function So(){return(So=(0,c.Z)(function*(E,y,v,D,k={}){const O=yield xt(E,y,v,D,k);return"mfaPendingCredential"in O&&gt(E,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function zs(E,y,v,D){const k=`${y}${v}?${D}`;return E.config.emulator?In(E.config,k):`${E.config.apiScheme}://${k}`}class ha{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,D)=>{this.timer=setTimeout(()=>D(ut(this.auth,"timeout")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $s(E,y,v){const D={appName:E.name};v.email&&(D.email=v.email),v.phoneNumber&&(D.phoneNumber=v.phoneNumber);const k=ut(E,y,D);return k.customData._tokenResponse=v,k}function Qe(){return(Qe=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function ri(E,y){return es.apply(this,arguments)}function es(){return(es=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ts(E,y){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function rt(E){if(E)try{const y=new Date(Number(E));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Bi(){return(Bi=(0,c.Z)(function*(E,y=!1){const v=(0,H.m9)(E),D=yield v.getIdToken(y),k=Fe(D);De(k&&k.exp&&k.auth_time&&k.iat,v.auth,"internal-error");const O="object"==typeof k.firebase?k.firebase:void 0,K=null==O?void 0:O.sign_in_provider;return{claims:k,token:D,authTime:rt(tn(k.auth_time)),issuedAtTime:rt(tn(k.iat)),expirationTime:rt(tn(k.exp)),signInProvider:K||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function tn(E){return 1e3*Number(E)}function Fe(E){const[y,v,D]=E.split(".");if(void 0===y||void 0===v||void 0===D)return at("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,H.tV)(v);return k?JSON.parse(k):(at("Failed to decode base64 JWT payload"),null)}catch(k){return at("Caught error parsing JWT payload as JSON",k),null}}function ns(E,y){return To.apply(this,arguments)}function To(){return(To=(0,c.Z)(function*(E,y,v=!1){if(v)return y;try{return yield y}catch(D){throw D instanceof H.ZR&&Ms(D)&&E.auth.currentUser===E&&(yield E.auth.signOut()),D}})).apply(this,arguments)}function Ms({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class cn{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const k=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const D=this.getInterval(y);this.timerId=setTimeout((0,c.Z)(function*(){yield v.iteration()}),D)}iteration(){var y=this;return(0,c.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&y.schedule(!0))}y.schedule()})()}}class ur{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=rt(this.lastLoginAt),this.creationTime=rt(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nl(E){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*(E){var y;const v=E.auth,D=yield E.getIdToken(),k=yield ns(E,ts(v,{idToken:D}));De(null==k?void 0:k.users.length,v,"internal-error");const O=k.users[0];E._notifyReloadListener(O);const K=(null===(y=O.providerUserInfo)||void 0===y?void 0:y.length)?ie(O.providerUserInfo):[],pe=Ee(E.providerData,K),ft=!!E.isAnonymous&&!(E.email&&O.passwordHash||(null==pe?void 0:pe.length)),ot={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new ur(O.createdAt,O.lastLoginAt),isAnonymous:ft};Object.assign(E,ot)})).apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(E){const y=(0,H.m9)(E);yield nl(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ee(E,y){return[...E.filter(D=>!y.some(k=>k.providerId===D.providerId)),...y]}function ie(E){return E.map(y=>{var{providerId:v}=y,D=(0,oe._T)(y,["providerId"]);return{providerId:v,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function _t(){return(_t=(0,c.Z)(function*(E,y){const v=yield Xr(E,{},()=>{const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:k,apiKey:O}=E.config,K=zs(E,k,"/v1/token",`key=${O}`);return Jr.fetch()(K,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Ft{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){De(y.idToken,"internal-error"),De(void 0!==y.idToken,"internal-error"),De(void 0!==y.refreshToken,"internal-error");const v="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(E){const y=Fe(E);return De(y,"internal-error"),De(void 0!==y.exp,"internal-error"),De(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var D=this;return(0,c.Z)(function*(){return De(!D.accessToken||D.refreshToken,y,"user-token-expired"),v||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(y,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var D=this;return(0,c.Z)(function*(){const{accessToken:k,refreshToken:O,expiresIn:K}=yield function(E,y){return _t.apply(this,arguments)}(y,v);D.updateTokensAndExpiration(k,O,Number(K))})()}updateTokensAndExpiration(y,v,D){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(y,v){const{refreshToken:D,accessToken:k,expirationTime:O}=v,K=new Ft;return D&&(De("string"==typeof D,"internal-error",{appName:y}),K.refreshToken=D),k&&(De("string"==typeof k,"internal-error",{appName:y}),K.accessToken=k),O&&(De("number"==typeof O,"internal-error",{appName:y}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new Ft,this.toJSON())}_performRefresh(){return ae("not implemented")}}function dn(E,y){De("string"==typeof E||void 0===E,"internal-error",{appName:y})}class bn{constructor(y){var{uid:v,auth:D,stsTokenManager:k}=y,O=(0,oe._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new cn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=D,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new ur(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,c.Z)(function*(){const D=yield ns(v,v.stsTokenManager.getToken(v.auth,y));return De(D,v.auth,"internal-error"),v.accessToken!==D&&(v.accessToken=D,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),D})()}getIdTokenResult(y){return function(E){return Bi.apply(this,arguments)}(this,y)}reload(){return function(E){return Q.apply(this,arguments)}(this)}_assign(y){this!==y&&(De(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new bn(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var D=this;return(0,c.Z)(function*(){let k=!1;y.idToken&&y.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(y),k=!0),v&&(yield nl(D)),yield D.auth._persistUserIfCurrent(D),k&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var y=this;return(0,c.Z)(function*(){const v=yield y.getIdToken();return yield ns(y,function(E,y){return Qe.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var D,k,O,K,pe,ke,ze,ft;const ot=null!==(D=v.displayName)&&void 0!==D?D:void 0,nn=null!==(k=v.email)&&void 0!==k?k:void 0,Mi=null!==(O=v.phoneNumber)&&void 0!==O?O:void 0,ln=null!==(K=v.photoURL)&&void 0!==K?K:void 0,En=null!==(pe=v.tenantId)&&void 0!==pe?pe:void 0,Ue=null!==(ke=v._redirectEventId)&&void 0!==ke?ke:void 0,Jn=null!==(ze=v.createdAt)&&void 0!==ze?ze:void 0,Fs=null!==(ft=v.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:zr,emailVerified:Fd,isAnonymous:Nd,providerData:Qt,stsTokenManager:Ii}=v;De(zr&&Ii,y,"internal-error");const Cr=Ft.fromJSON(this.name,Ii);De("string"==typeof zr,y,"internal-error"),dn(ot,y.name),dn(nn,y.name),De("boolean"==typeof Fd,y,"internal-error"),De("boolean"==typeof Nd,y,"internal-error"),dn(Mi,y.name),dn(ln,y.name),dn(En,y.name),dn(Ue,y.name),dn(Jn,y.name),dn(Fs,y.name);const Xc=new bn({uid:zr,auth:y,email:nn,emailVerified:Fd,displayName:ot,isAnonymous:Nd,photoURL:ln,phoneNumber:Mi,tenantId:En,stsTokenManager:Cr,createdAt:Jn,lastLoginAt:Fs});return Qt&&Array.isArray(Qt)&&(Xc.providerData=Qt.map(_p=>Object.assign({},_p))),Ue&&(Xc._redirectEventId=Ue),Xc}static _fromIdTokenResponse(y,v,D=!1){return(0,c.Z)(function*(){const k=new Ft;k.updateFromServerResponse(v);const O=new bn({uid:v.localId,auth:y,stsTokenManager:k,isAnonymous:D});return yield nl(O),O})()}}const Ot=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(v,D){var k=this;return(0,c.Z)(function*(){k.storage[v]=D})()}_get(v){var D=this;return(0,c.Z)(function*(){const k=D.storage[v];return void 0===k?null:k})()}_remove(v){var D=this;return(0,c.Z)(function*(){delete D.storage[v]})()}_addListener(v,D){}_removeListener(v,D){}}return E.type="NONE",E})();function si(E,y,v){return`firebase:${E}:${y}:${v}`}class dr{constructor(y,v,D){this.persistence=y,this.auth=v,this.userKey=D;const{config:k,name:O}=this.auth;this.fullUserKey=si(this.userKey,k.apiKey,O),this.fullPersistenceKey=si("persistence",k.apiKey,O),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,c.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?bn._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,c.Z)(function*(){if(v.persistence===y)return;const D=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,D?v.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,D="authUser"){return(0,c.Z)(function*(){if(!v.length)return new dr(de(Ot),y,D);const k=(yield Promise.all(v.map(function(){var ze=(0,c.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let O=k[0]||de(Ot);const K=si(D,y.config.apiKey,y.name);let pe=null;for(const ze of v)try{const ft=yield ze._get(K);if(ft){const ot=bn._fromJSON(y,ft);ze!==O&&(pe=ot),O=ze;break}}catch(ft){}const ke=k.filter(ze=>ze._shouldAllowMigration);return O._shouldAllowMigration&&ke.length?(O=ke[0],pe&&(yield O._set(K,pe.toJSON())),yield Promise.all(v.map(function(){var ze=(0,c.Z)(function*(ft){if(ft!==O)try{yield ft._remove(K)}catch(ot){}});return function(ft){return ze.apply(this,arguments)}}())),new dr(O,y,D)):new dr(O,y,D)})()}}function hc(E){const y=E.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(zu(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(ju(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(mi(y))return"Blackberry";if(kr(y))return"Webos";if(Gu(y))return"Safari";if((y.includes("chrome/")||vf(y))&&!y.includes("edge/"))return"Chrome";if(il(y))return"Android";{const D=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function ju(E=(0,H.z$)()){return/firefox\//i.test(E)}function Gu(E=(0,H.z$)()){const y=E.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function vf(E=(0,H.z$)()){return/crios\//i.test(E)}function zu(E=(0,H.z$)()){return/iemobile/i.test(E)}function il(E=(0,H.z$)()){return/android/i.test(E)}function mi(E=(0,H.z$)()){return/blackberry/i.test(E)}function kr(E=(0,H.z$)()){return/webos/i.test(E)}function Si(E=(0,H.z$)()){return/iphone|ipad|ipod/i.test(E)}function Ve(E=(0,H.z$)()){return Si(E)||il(E)||kr(E)||mi(E)||/windows phone/i.test(E)||zu(E)}function an(E,y=[]){let v;switch(E){case"Browser":v=hc((0,H.z$)());break;case"Worker":v=`${hc((0,H.z$)())}-${E}`;break;default:v=E}const D=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${me.SDK_VERSION}/${D}`}class hr{constructor(y,v){this.app=y,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(y,v){var D=this;return v&&(this._popupRedirectResolver=de(v)),this._initializationPromise=this.queue((0,c.Z)(function*(){var k;D._deleted||(D.persistenceManager=yield dr.create(D,y),!D._deleted&&((null===(k=D._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(v),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,c.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v)}})()}initializeCurrentUser(y){var v=this;return(0,c.Z)(function*(){var D;let k=yield v.assertedPersistence.getCurrentUser();if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const O=null===(D=v.redirectUser)||void 0===D?void 0:D._redirectEventId,K=null==k?void 0:k._redirectEventId,pe=yield v.tryRedirectSignIn(y);(!O||O===K)&&(null==pe?void 0:pe.user)&&(k=pe.user)}return k?k._redirectEventId?(De(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===k._redirectEventId?v.directlySetCurrentUser(k):v.reloadAndSetCurrentUserOrClear(k)):v.reloadAndSetCurrentUserOrClear(k):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var v=this;return(0,c.Z)(function*(){let D=null;try{D=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch(k){yield v._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,c.Z)(function*(){try{yield nl(y)}catch(D){if("auth/network-request-failed"!==D.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var y=this;return(0,c.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,c.Z)(function*(){const D=y?(0,H.m9)(y):null;return D&&De(D.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(D&&D._clone(v))})()}_updateCurrentUser(y){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return y&&De(v.tenantId===y.tenantId,v,"tenant-id-mismatch"),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(y),v.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,c.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var v=this;return this.queue((0,c.Z)(function*(){yield v.assertedPersistence.setPersistence(de(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new H.LL("auth","Firebase",y())}onAuthStateChanged(y,v,D){return this.registerStateListener(this.authStateSubscription,y,v,D)}onIdTokenChanged(y,v,D){return this.registerStateListener(this.idTokenSubscription,y,v,D)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var D=this;return(0,c.Z)(function*(){const k=yield D.getOrInitRedirectPersistenceManager(v);return null===y?k.removeCurrentUser():k.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,c.Z)(function*(){if(!v.redirectPersistenceManager){const D=y&&de(y)||v._popupRedirectResolver;De(D,v,"argument-error"),v.redirectPersistenceManager=yield dr.create(v,[de(D._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,c.Z)(function*(){var D,k;return v._isInitialized&&(yield v.queue((0,c.Z)(function*(){}))),(null===(D=v._currentUser)||void 0===D?void 0:D._redirectEventId)===y?v._currentUser:(null===(k=v.redirectUser)||void 0===k?void 0:k._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,c.Z)(function*(){if(y===v.currentUser)return v.queue((0,c.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,D,k){if(this._deleted)return()=>{};const O="function"==typeof v?v:v.next.bind(v),K=this._isInitialized?Promise.resolve():this._initializationPromise;return De(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof v?y.addObserver(v,D,k):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,c.Z)(function*(){v.currentUser&&v.currentUser!==y&&(v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh()),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=an(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function pn(E){return(0,H.m9)(E)}class Kn{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,H.ne)(v=>this.observer=v)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function An(E){const y=E.indexOf(":");return y<0?"":E.substr(0,y+1)}function pa(E){if(!E)return null;const y=Number(E);return isNaN(y)?null:y}class Rr{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return ae("not implemented")}_getIdTokenResponse(y){return ae("not implemented")}_linkToIdToken(y,v){return ae("not implemented")}_getReauthenticationResolver(y){return ae("not implemented")}}function Mo(E,y){return pc.apply(this,arguments)}function pc(){return(pc=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:resetPassword",fn(E,y))})).apply(this,arguments)}function rl(E,y){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function fr(E,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:update",fn(E,y))})).apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithPassword",fn(E,y))})).apply(this,arguments)}function mc(E,y){return bf.apply(this,arguments)}function bf(){return(bf=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:sendOobCode",fn(E,y))})).apply(this,arguments)}function oi(E,y){return gc.apply(this,arguments)}function gc(){return(gc=(0,c.Z)(function*(E,y){return mc(E,y)})).apply(this,arguments)}function sl(E,y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(E,y){return mc(E,y)})).apply(this,arguments)}function Ji(E,y){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(E,y){return mc(E,y)})).apply(this,arguments)}function dg(E,y){return rs.apply(this,arguments)}function rs(){return(rs=(0,c.Z)(function*(E,y){return mc(E,y)})).apply(this,arguments)}function _c(){return(_c=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithEmailLink",fn(E,y))})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithEmailLink",fn(E,y))})).apply(this,arguments)}class Xi extends Rr{constructor(y,v,D,k=null){super("password",D),this._email=y,this._password=v,this._tenantId=k}static _fromEmailAndPassword(y,v){return new Xi(y,v,"password")}static _fromEmailAndCode(y,v,D=null){return new Xi(y,v,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return function(E,y){return Nt.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,y){return _c.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:gt(y,"internal-error")}})()}_linkToIdToken(y,v){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return rl(y,{idToken:v,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(E,y){return ol.apply(this,arguments)}(y,{idToken:v,email:D._email,oobCode:D._password});default:gt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Qn(E,y){return hg.apply(this,arguments)}function hg(){return(hg=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithIdp",fn(E,y))})).apply(this,arguments)}class Is extends Rr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new Is(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):gt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:k}=v,O=(0,oe._T)(v,["providerId","signInMethod"]);if(!D||!k)return null;const K=new Is(D,k);return Object.assign(K,O),K}_getIdTokenResponse(y){return Qn(y,this.buildRequest())}_linkToIdToken(y,v){const D=this.buildRequest();return D.idToken=v,Qn(y,D)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Qn(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,H.xO)(v)}return y}}function oD(E,y){return yc.apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:sendVerificationCode",fn(E,y))})).apply(this,arguments)}function fg(){return(fg=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithPhoneNumber",fn(E,y))})).apply(this,arguments)}function pg(){return(pg=(0,c.Z)(function*(E,y){const v=yield Ar(E,"POST","/v1/accounts:signInWithPhoneNumber",fn(E,y));if(v.temporaryProof)throw $s(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Lv={USER_NOT_FOUND:"user-not-found"};function mg(){return(mg=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithPhoneNumber",fn(E,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Lv)})).apply(this,arguments)}class al extends Rr{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new al({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new al({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function(E,y){return fg.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function(E,y){return pg.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(E,y){return mg.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:D,verificationCode:k}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:D,code:k}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:D,phoneNumber:k,temporaryProof:O}=y;return D||v||k||O?new al({verificationId:v,verificationCode:D,phoneNumber:k,temporaryProof:O}):null}}class Yu{constructor(y){var v,D,k,O,K,pe;const ke=(0,H.zd)((0,H.pd)(y)),ze=null!==(v=ke.apiKey)&&void 0!==v?v:null,ft=null!==(D=ke.oobCode)&&void 0!==D?D:null,ot=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ke.mode)&&void 0!==k?k:null);De(ze&&ft&&ot,"argument-error"),this.apiKey=ze,this.operation=ot,this.code=ft,this.continueUrl=null!==(O=ke.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=ke.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(pe=ke.tenantId)&&void 0!==pe?pe:null}static parseLink(y){const v=function(E){const y=(0,H.zd)((0,H.pd)(E)).link,v=y?(0,H.zd)((0,H.pd)(y)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(E)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||v||y||E}(y);try{return new Yu(v)}catch(D){return null}}}let qu=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,D){return Xi._fromEmailAndPassword(v,D)}static credentialWithLink(v,D){const k=Yu.parseLink(D);return De(k,"argument-error"),Xi._fromEmailAndCode(v,k.code,k.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class As{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class vc extends As{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class ma extends vc{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return De("providerId"in v&&"signInMethod"in v,"argument-error"),Is._fromParams(v)}credential(y){return this._credential(y)}_credential(y){return De(y.idToken||y.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return ma.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return ma.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:D,oauthTokenSecret:k,pendingToken:O,nonce:K,providerId:pe}=y;if(!D&&!k&&!v&&!O||!pe)return null;try{return new ma(pe)._credential({idToken:v,accessToken:D,rawNonce:K,pendingToken:O})}catch(ke){return null}}}let Cf=(()=>{class E extends vc{constructor(){super("facebook.com")}static credential(v){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(D){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ko=(()=>{class E extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(v,D){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:D})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:D,oauthAccessToken:k}=v;if(!D&&!k)return null;try{return E.credential(D,k)}catch(O){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),gg=(()=>{class E extends vc{constructor(){super("github.com")}static credential(v){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(D){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class xo extends Rr{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Qn(y,this.buildRequest())}_linkToIdToken(y,v){const D=this.buildRequest();return D.idToken=v,Qn(y,D)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Qn(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:k,pendingToken:O}=v;return D&&k&&O&&D===k?new xo(D,O):null}static _create(y,v){return new xo(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Ef=(()=>{class E extends vc{constructor(){super("twitter.com")}static credential(v,D){return Is._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:D})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:D,oauthTokenSecret:k}=v;if(!D||!k)return null;try{return E.credential(D,k)}catch(O){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Df(E,y){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signUp",fn(E,y))})).apply(this,arguments)}class mr{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,D,k=!1){return(0,c.Z)(function*(){const O=yield bn._fromIdTokenResponse(y,D,k),K=Bv(D);return new mr({user:O,providerId:K,_tokenResponse:D,operationType:v})})()}static _forOperation(y,v,D){return(0,c.Z)(function*(){yield y._updateTokensIfNecessary(D,!0);const k=Bv(D);return new mr({user:y,providerId:k,_tokenResponse:D,operationType:v})})()}}function Bv(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function bc(){return(bc=(0,c.Z)(function*(E){var y;const v=pn(E);if(yield v._initializationPromise,null===(y=v.currentUser)||void 0===y?void 0:y.isAnonymous)return new mr({user:v.currentUser,providerId:null,operationType:"signIn"});const D=yield Df(v,{returnSecureToken:!0}),k=yield mr._fromIdTokenResponse(v,"signIn",D,!0);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class Cc extends H.ZR{constructor(y,v,D,k){var O;super(v.code,v.message),this.operationType=D,this.user=k,this.name="FirebaseError",Object.setPrototypeOf(this,Cc.prototype),this.appName=y.name,this.code=v.code,this.tenantId=null!==(O=y.tenantId)&&void 0!==O?O:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(y,v,D,k){return new Cc(y,v,D,k)}}function wc(E,y,v,D){return("reauthenticate"===y?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Cc._fromErrorAndOperation(E,O,y,D):O})}function _g(E){return new Set(E.map(({providerId:y})=>y).filter(y=>!!y))}function Sf(){return(Sf=(0,c.Z)(function*(E,y){const v=(0,H.m9)(E);yield qs(!0,v,y);const{providerUserInfo:D}=yield ri(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),k=_g(D||[]);return v.providerData=v.providerData.filter(O=>k.has(O.providerId)),k.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function mn(E,y){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,c.Z)(function*(E,y,v=!1){const D=yield ns(E,y._linkToIdToken(E.auth,yield E.getIdToken()),v);return mr._forOperation(E,"link",D)})).apply(this,arguments)}function qs(E,y,v){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,c.Z)(function*(E,y,v){yield nl(y);const k=!1===E?"provider-already-linked":"no-such-provider";De(_g(y.providerData).has(v)===E,y.auth,k)})).apply(this,arguments)}function gn(E,y){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,c.Z)(function*(E,y,v=!1){const{auth:D}=E,k="reauthenticate";try{const O=yield ns(E,wc(D,k,y,E),v);De(O.idToken,D,"internal-error");const K=Fe(O.idToken);De(K,D,"internal-error");const{sub:pe}=K;return De(E.uid===pe,D,"user-mismatch"),mr._forOperation(E,k,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&gt(D,"user-mismatch"),O}})).apply(this,arguments)}function vg(E,y){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(E,y,v=!1){const D="signIn",k=yield wc(E,D,y),O=yield mr._fromIdTokenResponse(E,D,k);return v||(yield E._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Ui(E,y){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(E,y){return vg(pn(E),y)})).apply(this,arguments)}function Ku(E,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(E,y){const v=(0,H.m9)(E);return yield qs(!1,v,y.providerId),mn(v,y)})).apply(this,arguments)}function er(E,y){return If.apply(this,arguments)}function If(){return(If=(0,c.Z)(function*(E,y){return gn((0,H.m9)(E),y)})).apply(this,arguments)}function bg(E,y){return cl.apply(this,arguments)}function cl(){return(cl=(0,c.Z)(function*(E,y){return Ar(E,"POST","/v1/accounts:signInWithCustomToken",fn(E,y))})).apply(this,arguments)}function Qu(){return(Qu=(0,c.Z)(function*(E,y){const v=pn(E),D=yield bg(v,{token:y,returnSecureToken:!0}),k=yield mr._fromIdTokenResponse(v,"signIn",D);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}class ul{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?ht._fromServerResponse(y,v):gt(y,"internal-error")}}class ht extends ul{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new ht(v)}}function Ju(E,y,v){var D;De((null===(D=v.url)||void 0===D?void 0:D.length)>0,E,"invalid-continue-uri"),De(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(De(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),y.iosBundleId=v.iOS.bundleId),v.android&&(De(v.android.packageName.length>0,E,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function Af(){return(Af=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E),k={requestType:"PASSWORD_RESET",email:y};v&&Ju(D,k,v),yield sl(D,k)})).apply(this,arguments)}function kf(){return(kf=(0,c.Z)(function*(E,y,v){yield Mo((0,H.m9)(E),{oobCode:y,newPassword:v})})).apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(E,y){yield fr((0,H.m9)(E),{oobCode:y})})).apply(this,arguments)}function Te(E,y){return It.apply(this,arguments)}function It(){return(It=(0,c.Z)(function*(E,y){const v=(0,H.m9)(E),D=yield Mo(v,{oobCode:y}),k=D.requestType;switch(De(k,v,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(D.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(D.mfaInfo,v,"internal-error");default:De(D.email,v,"internal-error")}let O=null;return D.mfaInfo&&(O=ul._fromServerResponse(pn(v),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:O},operation:k}})).apply(this,arguments)}function hn(){return(hn=(0,c.Z)(function*(E,y){const{data:v}=yield Te((0,H.m9)(E),y);return v.email})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(E,y,v){const D=pn(E),k=yield Df(D,{returnSecureToken:!0,email:y,password:v}),O=yield mr._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(O.user),O})).apply(this,arguments)}function dl(){return(dl=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E),k={requestType:"EMAIL_SIGNIN",email:y};De(v.handleCodeInApp,D,"argument-error"),v&&Ju(D,k,v),yield Ji(D,k)})).apply(this,arguments)}function hl(){return(hl=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E),k=qu.credentialWithLink(y,v||Oe());return De(k._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ui(D,k)})).apply(this,arguments)}function ed(E,y){return jn.apply(this,arguments)}function jn(){return(jn=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:createAuthUri",fn(E,y))})).apply(this,arguments)}function Of(){return(Of=(0,c.Z)(function*(E,y){const D={identifier:y,continueUri:Ze()?Oe():"http://localhost"},{signinMethods:k}=yield ed((0,H.m9)(E),D);return k||[]})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(E,y){const v=(0,H.m9)(E),k={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};y&&Ju(v.auth,k,y);const{email:O}=yield oi(v.auth,k);O!==E.email&&(yield E.reload())})).apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:y};v&&Ju(D.auth,O,v);const{email:K}=yield dg(D.auth,O);K!==E.email&&(yield E.reload())})).apply(this,arguments)}function Cg(E,y){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,c.Z)(function*(E,y){return xt(E,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(E,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const D=(0,H.m9)(E),O={idToken:yield D.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},K=yield ns(D,Cg(D.auth,O));D.displayName=K.displayName||null,D.photoURL=K.photoUrl||null;const pe=D.providerData.find(({providerId:ke})=>"password"===ke);pe&&(pe.displayName=D.displayName,pe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(K)})).apply(this,arguments)}function Nf(E,y,v){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(E,y,v){const{auth:D}=E,O={idToken:yield E.getIdToken(),returnSecureToken:!0};y&&(O.email=y),v&&(O.password=v);const K=yield ns(E,rl(D,O));yield E._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class ya{constructor(y,v,D={}){this.isNewUser=y,this.providerId=v,this.profile=D}}class Eg extends ya{constructor(y,v,D,k){super(y,v,D),this.username=k}}class Dg extends ya{constructor(y,v){super(y,"facebook.com",v)}}class zv extends Eg{constructor(y,v){super(y,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Tc extends ya{constructor(y,v){super(y,"google.com",v)}}class $v extends Eg{constructor(y,v,D){super(y,"twitter.com",v,D)}}function Yv(E){const{user:y,_tokenResponse:v}=E;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var y,v;if(!E)return null;const{providerId:D}=E,k=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},O=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!D&&(null==E?void 0:E.idToken)){const K=null===(v=null===(y=Fe(E.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(K)return new ya(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!D)return null;switch(D){case"facebook.com":return new Dg(O,k);case"github.com":return new zv(O,k);case"google.com":return new Tc(O,k);case"twitter.com":return new $v(O,k,E.screenName||null);case"custom":case"anonymous":return new ya(O,null);default:return new ya(O,D,k)}}(v)}class Fr{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new Fr("enroll",y)}static _fromMfaPendingCredential(y){return new Fr("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,D;if(null==y?void 0:y.multiFactorSession){if(null===(v=y.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return Fr._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(D=y.multiFactorSession)||void 0===D?void 0:D.idToken)return Fr._fromIdtoken(y.multiFactorSession.idToken)}return null}}class pl{constructor(y,v,D){this.session=y,this.hints=v,this.signInResolver=D}static _fromError(y,v){const D=pn(y),k=(v.serverResponse.mfaInfo||[]).map(K=>ul._fromServerResponse(D,K));De(v.serverResponse.mfaPendingCredential,D,"internal-error");const O=Fr._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new pl(O,k,function(){var K=(0,c.Z)(function*(pe){const ke=yield pe._process(D,O);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const ze=Object.assign(Object.assign({},v.serverResponse),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(v.operationType){case"signIn":const ft=yield mr._fromIdTokenResponse(D,v.operationType,ze);return yield D._updateCurrentUser(ft.user),ft;case"reauthenticate":return De(v.user,D,"internal-error"),mr._forOperation(v.user,v.operationType,ze);default:gt(D,"internal-error")}});return function(pe){return K.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,c.Z)(function*(){return v.signInResolver(y)})()}}function rd(E,y){return xt(E,"POST","/v2/accounts/mfaEnrollment:start",fn(E,y))}class Bf{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(D=>ul._fromServerResponse(y.auth,D)))})}static _fromUser(y){return new Bf(y)}getSession(){var y=this;return(0,c.Z)(function*(){return Fr._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var D=this;return(0,c.Z)(function*(){const k=y,O=yield D.getSession(),K=yield ns(D.user,k._process(D.user.auth,O,v));return yield D.user._updateTokensIfNecessary(K),D.user.reload()})()}unenroll(y){var v=this;return(0,c.Z)(function*(){const D="string"==typeof y?y:y.uid,k=yield v.user.getIdToken(),O=yield ns(v.user,function(E,y){return xt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",fn(E,y))}(v.user.auth,{idToken:k,mfaEnrollmentId:D}));v.enrolledFactors=v.enrolledFactors.filter(({uid:K})=>K!==D),yield v.user._updateTokensIfNecessary(O);try{yield v.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const ks=new WeakMap,Uf="__sak";class Tg{constructor(y,v){this.storage=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const Gf=(()=>{class E extends Tg{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(v,D)=>this.onStorageEvent(v,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,H.z$)();return Gu(E)||Si(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Ve(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const D of Object.keys(this.listeners)){const k=this.storage.getItem(D),O=this.localCache[D];k!==O&&v(D,O,k)}}onStorageEvent(v,D=!1){if(!v.key)return void this.forAllChangedKeys((pe,ke,ze)=>{this.notifyListeners(pe,ze)});const k=v.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(k);if(v.newValue!==pe)null!==v.newValue?this.storage.setItem(k,v.newValue):this.storage.removeItem(k);else if(this.localCache[k]===v.newValue&&!D)return}const O=()=>{const pe=this.storage.getItem(k);!D&&this.localCache[k]===pe||this.notifyListeners(k,pe)},K=this.storage.getItem(k);(0,H.w1)()&&10===document.documentMode&&K!==v.newValue&&v.newValue!==v.oldValue?setTimeout(O,10):O()}notifyListeners(v,D){this.localCache[v]=D;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,D,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:D,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,D){var k=()=>super._set,O=this;return(0,c.Z)(function*(){yield k().call(O,v,D),O.localCache[v]=JSON.stringify(D)})()}_get(v){var D=()=>super._get,k=this;return(0,c.Z)(function*(){const O=yield D().call(k,v);return k.localCache[v]=JSON.stringify(O),O})()}_remove(v){var D=()=>super._remove,k=this;return(0,c.Z)(function*(){yield D().call(k,v),delete k.localCache[v]})()}}return E.type="LOCAL",E})(),xs=(()=>{class E extends Tg{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,D){}_removeListener(v,D){}}return E.type="SESSION",E})();let Rs=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const D=this.receivers.find(O=>O.isListeningto(v));if(D)return D;const k=new E(v);return this.receivers.push(k),k}isListeningto(v){return this.eventTarget===v}handleEvent(v){var D=this;return(0,c.Z)(function*(){const k=v,{eventId:O,eventType:K,data:pe}=k.data,ke=D.handlersMap[K];if(!(null==ke?void 0:ke.size))return;k.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const ze=Array.from(ke).map(function(){var ot=(0,c.Z)(function*(nn){return nn(k.origin,pe)});return function(nn){return ot.apply(this,arguments)}}()),ft=yield function(E){return Promise.all(E.map(function(){var y=(0,c.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(D){return{fulfilled:!1,reason:D}}});return function(v){return y.apply(this,arguments)}}()))}(ze);k.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:ft})})()}_subscribe(v,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(D)}_unsubscribe(v,D){this.handlersMap[v]&&D&&this.handlersMap[v].delete(D),(!D||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Oo(E="",y=10){let v="";for(let D=0;D<y;D++)v+=Math.floor(10*Math.random());return E+v}class Ig{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,D=50){var k=this;return(0,c.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,pe;return new Promise((ke,ze)=>{const ft=Oo("",20);O.port1.start();const ot=setTimeout(()=>{ze(new Error("unsupported_event"))},D);pe={messageChannel:O,onMessage(nn){const Mi=nn;if(Mi.data.eventId===ft)switch(Mi.data.status){case"ack":clearTimeout(ot),K=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),ke(Mi.data.response);break;default:clearTimeout(ot),clearTimeout(K),ze(new Error("invalid_response"))}}},k.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),k.target.postMessage({eventType:y,eventId:ft,data:v},[O.port2])}).finally(()=>{pe&&k.removeMessageHandler(pe)})})()}}function kn(){return window}function Ag(){return void 0!==kn().WorkerGlobalScope&&"function"==typeof kn().importScripts}function od(){return(od=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const zf="firebaseLocalStorageDb",$f="firebaseLocalStorage",Wv="fbase_key";class Ks{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ac(E,y){return E.transaction([$f],y?"readwrite":"readonly").objectStore($f)}function gl(){const E=indexedDB.open(zf,1);return new Promise((y,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const D=E.result;try{D.createObjectStore($f,{keyPath:Wv})}catch(k){v(k)}}),E.addEventListener("success",(0,c.Z)(function*(){const D=E.result;D.objectStoreNames.contains($f)?y(D):(D.close(),yield function(){const E=indexedDB.deleteDatabase(zf);return new Ks(E).toPromise()}(),y(yield gl()))}))})}function _r(E,y,v){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,c.Z)(function*(E,y,v){const D=Ac(E,!0).put({[Wv]:y,value:v});return new Ks(D).toPromise()})).apply(this,arguments)}function Yf(){return(Yf=(0,c.Z)(function*(E,y){const v=Ac(E,!1).get(y),D=yield new Ks(v).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function cd(E,y){const v=Ac(E,!0).delete(y);return new Ks(v).toPromise()}const _n=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,c.Z)(function*(){return v.db||(v.db=yield gl()),v.db})()}_withRetries(v){var D=this;return(0,c.Z)(function*(){let k=0;for(;;)try{const O=yield D._openDb();return yield v(O)}catch(O){if(k++>3)throw O;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,c.Z)(function*(){return Ag()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,c.Z)(function*(){v.receiver=Rs._getInstance(Ag()?self:null),v.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(k,O){return{keyProcessed:(yield v._poll()).includes(O.key)}});return function(k,O){return D.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(k,O){return["keyChanged"]});return function(k,O){return D.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,c.Z)(function*(){var D,k;if(v.activeServiceWorker=yield function(){return od.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new Ig(v.activeServiceWorker);const O=yield v.sender._send("ping",{},800);!O||(null===(D=O[0])||void 0===D?void 0:D.fulfilled)&&(null===(k=O[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:v},D.serviceWorkerReceiverAvailable?800:50)}catch(k){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const v=yield gl();return yield _r(v,Uf,"1"),yield cd(v,Uf),!0}catch(v){}return!1})()}_withPendingWrite(v){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield v()}finally{D.pendingWrites--}})()}_set(v,D){var k=this;return(0,c.Z)(function*(){return k._withPendingWrite((0,c.Z)(function*(){return yield k._withRetries(O=>_r(O,v,D)),k.localCache[v]=D,k.notifyServiceWorker(v)}))})()}_get(v){var D=this;return(0,c.Z)(function*(){const k=yield D._withRetries(O=>function(E,y){return Yf.apply(this,arguments)}(O,v));return D.localCache[v]=k,k})()}_remove(v){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(k=>cd(k,v)),delete D.localCache[v],D.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,c.Z)(function*(){const D=yield v._withRetries(K=>{const pe=Ac(K,!1).getAll();return new Ks(pe).toPromise()});if(!D)return[];if(0!==v.pendingWrites)return[];const k=[],O=new Set;for(const{fbase_key:K,value:pe}of D)O.add(K),JSON.stringify(v.localCache[K])!==JSON.stringify(pe)&&(v.notifyListeners(K,pe),k.push(K));for(const K of Object.keys(v.localCache))v.localCache[K]&&!O.has(K)&&(v.notifyListeners(K,null),k.push(K));return k})()}notifyListeners(v,D){this.localCache[v]=D;const k=this.listeners[v];if(k)for(const O of Array.from(k))O(D)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(D)}_removeListener(v,D){this.listeners[v]&&(this.listeners[v].delete(D),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function ud(E,y){return xt(E,"POST","/v2/accounts/mfaSignIn:start",fn(E,y))}function dd(){return(dd=(0,c.Z)(function*(E){return(yield xt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hd(E){return new Promise((y,v)=>{const D=document.createElement("script");D.setAttribute("src",E),D.onload=y,D.onerror=k=>{const O=ut("internal-error");O.customData=k,v(O)},D.type="text/javascript",D.charset="UTF-8",function(){var E,y;return null!==(y=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==y?y:document}().appendChild(D)})}function Qs(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Os=1e12;class Fo{constructor(y){this.auth=y,this.counter=Os,this._widgets=new Map}render(y,v){const D=this.counter;return this._widgets.set(D,new Lr(y,this.auth.name,v||{})),this.counter++,D}reset(y){var v;const D=y||Os;null===(v=this._widgets.get(D))||void 0===v||v.delete(),this._widgets.delete(D)}getResponse(y){var v;return(null===(v=this._widgets.get(y||Os))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,c.Z)(function*(){var D;return null===(D=v._widgets.get(y||Os))||void 0===D||D.execute(),""})()}}class Lr{constructor(y,v,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof y?document.getElementById(y):y;De(k,"argument-error",{appName:v}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}();const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const as=Qs("rcb"),kg=new dt(3e4,6e4);class yr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kn().grecaptcha}load(y,v=""){return De((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(kn().grecaptcha):new Promise((D,k)=>{const O=kn().setTimeout(()=>{k(ut(y,"network-request-failed"))},kg.get());kn()[as]=()=>{kn().clearTimeout(O),delete kn()[as];const pe=kn().grecaptcha;if(!pe)return void k(ut(y,"internal-error"));const ke=pe.render;pe.render=(ze,ft)=>{const ot=ke(ze,ft);return this.counter++,ot},this.hostLanguage=v,D(pe)},hd(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:as,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(O),k(ut(y,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!kn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qf{load(y){return(0,c.Z)(function*(){return new Fo(y)})()}clearedOneInstance(){}}const xn="recaptcha",Zf={theme:"light",type:"image"};class eb{constructor(y,v=Object.assign({},Zf),D){this.parameters=v,this.type=xn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(D),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof y?document.getElementById(y):y;De(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qf:new yr,this.validateStartingState()}verify(){var y=this;return(0,c.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),D=y.getAssertedRecaptcha();return D.getResponse(v)||new Promise(O=>{const K=pe=>{!pe||(y.tokenChangeListeners.delete(K),O(pe))};y.tokenChangeListeners.add(K),y.isInvisible&&D.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(D=>D(v)),"function"==typeof y)y(v);else if("string"==typeof y){const D=kn()[y];"function"==typeof D&&D(v)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,c.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const D=document.createElement("div");v.appendChild(D),v=D}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,c.Z)(function*(){De(Ze()&&!Ag(),y.auth,"internal-error"),yield function(){let E=null;return new Promise(y=>{"complete"!==document.readyState?(E=()=>y(),window.addEventListener("load",E)):y()}).catch(y=>{throw E&&window.removeEventListener("load",E),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function(E){return dd.apply(this,arguments)}(y.auth);De(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class nb{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=al._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Rg(){return(Rg=(0,c.Z)(function*(E,y,v){const D=pn(E),k=yield xc(D,y,(0,H.m9)(v));return new nb(k,O=>Ui(D,O))})).apply(this,arguments)}function Wf(){return(Wf=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E);yield qs(!1,D,"phone");const k=yield xc(D.auth,y,(0,H.m9)(v));return new nb(k,O=>Ku(D,O))})).apply(this,arguments)}function Pg(){return(Pg=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E),k=yield xc(D.auth,y,(0,H.m9)(v));return new nb(k,O=>er(D,O))})).apply(this,arguments)}function xc(E,y,v){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(E,y,v){var D;const k=yield v.verify();try{let O;if(De("string"==typeof k,E,"argument-error"),De(v.type===xn,E,"argument-error"),O="string"==typeof y?{phoneNumber:y}:y,"session"in O){const K=O.session;if("phoneNumber"in O)return De("enroll"===K.type,E,"internal-error"),(yield rd(E,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{De("signin"===K.type,E,"internal-error");const pe=(null===(D=O.multiFactorHint)||void 0===D?void 0:D.uid)||O.multiFactorUid;return De(pe,E,"missing-multi-factor-info"),(yield ud(E,{mfaPendingCredential:K.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield oD(E,{phoneNumber:O.phoneNumber,recaptchaToken:k});return K}}finally{v._reset()}})).apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(E,y){yield mn((0,H.m9)(E),y)})).apply(this,arguments)}let Xs=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=pn(v)}verifyPhoneNumber(v,D){return xc(this.auth,v,(0,H.m9)(D))}static credential(v,D){return al._fromVerification(v,D)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:D,temporaryProof:k}=v;return D&&k?al._fromTokenResponse(D,k):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Vr(E,y){return y?de(y):(De(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Ng extends Rr{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Qn(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Qn(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Qn(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function Lg(E){return vg(E.auth,new Ng(E),E.bypassAuthState)}function Br(E){const{auth:y,user:v}=E;return De(v,y,"internal-error"),gn(v,new Ng(E),E.bypassAuthState)}function Ur(E){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(E){const{auth:y,user:v}=E;return De(v,y,"internal-error"),mn(v,new Ng(E),E.bypassAuthState)})).apply(this,arguments)}class ba{constructor(y,v,D,k,O=!1){this.auth=y,this.resolver=D,this.user=k,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,c.Z)(function*(D,k){y.pendingPromise={resolve:D,reject:k};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(O){y.reject(O)}});return function(D,k){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:k,postBody:O,tenantId:K,error:pe,type:ke}=y;if(pe)return void v.reject(pe);const ze={auth:v.auth,requestUri:D,sessionId:k,tenantId:K||void 0,postBody:O||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(ke)(ze))}catch(ft){v.reject(ft)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return Lg;case"linkViaPopup":case"linkViaRedirect":return Ur;case"reauthViaPopup":case"reauthViaRedirect":return Br;default:gt(this.auth,"internal-error")}}resolve(y){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ca=new dt(2e3,1e4);function yl(){return(yl=(0,c.Z)(function*(E,y,v){const D=pn(E);kt(E,y,As);const k=Vr(D,v);return new ai(D,"signInViaPopup",y,k).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E);kt(D.auth,y,As);const k=Vr(D.auth,v);return new ai(D.auth,"reauthViaPopup",y,k,D).executeNotNull()})).apply(this,arguments)}function bl(){return(bl=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E);kt(D.auth,y,As);const k=Vr(D.auth,v);return new ai(D.auth,"linkViaPopup",y,k,D).executeNotNull()})).apply(this,arguments)}let ai=(()=>{class E extends ba{constructor(v,D,k,O,K){super(v,D,O,K),this.provider=k,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,c.Z)(function*(){const D=yield v.execute();return De(D,v.auth,"internal-error"),D})()}onExecution(){var v=this;return(0,c.Z)(function*(){ue(1===v.filter.length,"Popup operations only handle one event");const D=Oo();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],D),v.authWindow.associatedEvent=D,v.resolver._originValidation(v.auth).catch(k=>{v.reject(k)}),v.resolver._isIframeWebStorageSupported(v.auth,k=>{k||v.reject(ut(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ut(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var D,k;this.pollId=(null===(k=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ut(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ca.get())};v()}}return E.currentPopupAction=null,E})();const vr=new Map;class rb extends ba{constructor(y,v,D=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,D),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,c.Z)(function*(){let D=vr.get(v.auth._key());if(!D){try{const O=(yield function(E,y){return gd.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;D=()=>Promise.resolve(O)}catch(k){D=()=>Promise.reject(k)}vr.set(v.auth._key(),D)}return D()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(D,y);if("unknown"!==y.type){if(y.eventId){const k=yield D.auth._redirectUserForId(y.eventId);if(k)return D.user=k,v().call(D,y);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function gd(){return(gd=(0,c.Z)(function*(E,y){const v=Cl(y),D="true"===(yield Ea(E)._get(v));return yield Ea(E)._remove(v),D})).apply(this,arguments)}function _d(E,y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(E,y){return Ea(E)._set(Cl(y),"true")})).apply(this,arguments)}function Ea(E){return de(E._redirectPersistence)}function Cl(E){return si("pendingRedirect",E.config.apiKey,E.name)}function Fc(){return(Fc=(0,c.Z)(function*(E,y,v){const D=pn(E);kt(E,y,As);const k=Vr(D,v);return yield _d(k,D),k._openRedirect(D,y,"signInViaRedirect")})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E);kt(D.auth,y,As);const k=Vr(D.auth,v);yield _d(k,D.auth);const O=yield Sa(D);return k._openRedirect(D.auth,y,"reauthViaRedirect",O)})).apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(E,y,v){const D=(0,H.m9)(E);kt(D.auth,y,As);const k=Vr(D.auth,v);yield qs(!1,D,y.providerId),yield _d(k,D.auth);const O=yield Sa(D);return k._openRedirect(D.auth,y,"linkViaRedirect",O)})).apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(E,y){return yield pn(E)._initializationPromise,no(E,y,!1)})).apply(this,arguments)}function no(E,y){return Da.apply(this,arguments)}function Da(){return(Da=(0,c.Z)(function*(E,y,v=!1){const D=pn(E),k=Vr(D,y),K=yield new rb(D,k,v).execute();return K&&!v&&(delete K.user._redirectEventId,yield D._persistUserIfCurrent(K.user),yield D._setRedirectUser(null,y)),K})).apply(this,arguments)}function Sa(E){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,c.Z)(function*(E){const y=Oo(`${E.uid}:::`);return E._redirectEventId=y,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),y})).apply(this,arguments)}class wl{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(y,D)&&(v=!0,this.sendToConsumer(y,D),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return io(E);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var D;if(y.error&&!io(y)){const k=(null===(D=y.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";v.onError(ut(this.auth,k))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const D=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&D}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xf(y))}saveEventToCache(y){this.cachedEventUids.add(Xf(y)),this.lastProcessedEventTime=Date.now()}}function Xf(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(y=>y).join("-")}function io({type:E,error:y}){return"unknown"===E&&"auth/no-auth-event"===(null==y?void 0:y.code)}function bd(E){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(E,y={}){return xt(E,"GET","/v1/projects",y)})).apply(this,arguments)}const Ug=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_D=/^https?/;function ls(){return(ls=(0,c.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:y}=yield bd(E);for(const v of y)try{if(Cd(v))return}catch(D){}gt(E,"unauthorized-domain")})).apply(this,arguments)}function Cd(E){const y=Oe(),{protocol:v,hostname:D}=new URL(y);if(E.startsWith("chrome-extension://")){const K=new URL(E);return""===K.hostname&&""===D?"chrome-extension:"===v&&E.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&K.hostname===D}if(!_D.test(v))return!1;if(Ug.test(E))return D===E;const k=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(D)}const cs=new dt(3e4,6e4);function Hg(){const E=kn().___jsl;if(null==E?void 0:E.H)for(const y of Object.keys(E.H))if(E.H[y].r=E.H[y].r||[],E.H[y].L=E.H[y].L||[],E.H[y].r=[...E.H[y].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let Vo=null;function Dl(E){return Vo=Vo||function(E){return new Promise((y,v)=>{var D,k,O;function K(){Hg(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Hg(),v(ut(E,"network-request-failed"))},timeout:cs.get()})}if(null===(k=null===(D=kn().gapi)||void 0===D?void 0:D.iframes)||void 0===k?void 0:k.Iframe)y(gapi.iframes.getContext());else{if(!(null===(O=kn().gapi)||void 0===O?void 0:O.load)){const pe=Qs("iframefcb");return kn()[pe]=()=>{gapi.load?K():v(ut(E,"network-request-failed"))},hd(`https://apis.google.com/js/api.js?onload=${pe}`)}K()}}).catch(y=>{throw Vo=null,y})}(E),Vo}const Vc=new dt(5e3,15e3),Sl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lb(E){const y=E.config;De(y.authDomain,E,"auth-domain-config-required");const v=y.emulator?In(y,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,D={apiKey:y.apiKey,appName:E.name,v:me.SDK_VERSION},k=Bc.get(E.config.apiHost);k&&(D.eid=k);const O=E._getFrameworks();return O.length&&(D.fw=O.join(",")),`${v}?${(0,H.xO)(D).slice(1)}`}function wd(){return(wd=(0,c.Z)(function*(E){const y=yield Dl(E),v=kn().gapi;return De(v,E,"internal-error"),y.open({where:document.body,url:lb(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sl,dontclear:!0},D=>new Promise(function(){var k=(0,c.Z)(function*(O,K){yield D.restyle({setHideOnLeave:!1});const pe=ut(E,"network-request-failed"),ke=kn().setTimeout(()=>{K(pe)},Vc.get());function ze(){kn().clearTimeout(ke),O(D)}D.ping(ze).then(ze,()=>{K(pe)})});return function(O,K){return k.apply(this,arguments)}}()))})).apply(this,arguments)}const Ed={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uc{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function db(E,y,v,D,k,O){De(E.config.authDomain,E,"auth-domain-config-required"),De(E.config.apiKey,E,"invalid-api-key");const K={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:D,v:me.SDK_VERSION,eventId:k};if(y instanceof As){y.setDefaultLanguage(E.languageCode),K.providerId=y.providerId||"",(0,H.xb)(y.getCustomParameters())||(K.customParameters=JSON.stringify(y.getCustomParameters()));for(const[ke,ze]of Object.entries(O||{}))K[ke]=ze}if(y instanceof vc){const ke=y.getScopes().filter(ze=>""!==ze);ke.length>0&&(K.scopes=ke.join(","))}E.tenantId&&(K.tid=E.tenantId);const pe=K;for(const ke of Object.keys(pe))void 0===pe[ke]&&delete pe[ke];return`${function({config:E}){return E.emulator?In(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,H.xO)(pe).slice(1)}`}const Hc="webStorageSupport";class ro extends class{constructor(y){this.factorId=y}_process(y,v,D){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,D);case"signin":return this._finalizeSignIn(y,v.credential);default:return ae("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new ro(y)}_finalizeEnroll(y,v,D){return function(E,y){return xt(E,"POST","/v2/accounts/mfaEnrollment:finalize",fn(E,y))}(y,{idToken:v,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function(E,y){return xt(E,"POST","/v2/accounts/mfaSignIn:finalize",fn(E,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hb=(()=>{class E{constructor(){}static assertion(v){return ro._fromCredential(v)}}return E.FACTOR_ID="phone",E})();var E;class mb{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,c.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(D=>{var k;y((null===(k=D)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oo(){return window}function Td(){return(Td=(0,c.Z)(function*(E,y,v){var D;const{BuildInfo:k}=oo();ue(y.sessionId,"AuthEvent did not contain a session ID");const O=yield rp(y.sessionId),K={};return Si()?K.ibi=k.packageName:il()?K.apn=k.packageName:gt(E,"operation-not-supported-in-this-environment"),k.displayName&&(K.appDisplayName=k.displayName),K.sessionId=O,db(E,v,y.type,void 0,null!==(D=y.eventId)&&void 0!==D?D:void 0,K)})).apply(this,arguments)}function np(){return(np=(0,c.Z)(function*(E){const{BuildInfo:y}=oo(),v={};Si()?v.iosBundleId=y.packageName:il()?v.androidPackageName=y.packageName:gt(E,"operation-not-supported-in-this-environment"),yield bd(E,v)})).apply(this,arguments)}function ip(){return(ip=(0,c.Z)(function*(E,y,v){const{cordova:D}=oo();let k=()=>{};try{yield new Promise((O,K)=>{let pe=null;function ke(){var ot;O();const nn=null===(ot=D.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof nn&&nn(),"function"==typeof(null==v?void 0:v.close)&&v.close()}function ze(){pe||(pe=window.setTimeout(()=>{K(ut(E,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===(null==document?void 0:document.visibilityState)&&ze()}y.addPassiveListener(ke),document.addEventListener("resume",ze,!1),il()&&document.addEventListener("visibilitychange",ft,!1),k=()=>{y.removePassiveListener(ke),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",ft,!1),pe&&window.clearTimeout(pe)}})}finally{k()}})).apply(this,arguments)}function rp(E){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(E){const y=sp(E),v=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(v)).map(k=>k.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function sp(E){if(ue(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const y=new ArrayBuffer(E.length),v=new Uint8Array(y);for(let D=0;D<E.length;D++)v[D]=E.charCodeAt(D);return v}E="Browser",(0,me._registerComponent)(new q.wA("auth",(y,{options:v})=>{const D=y.getProvider("app").getImmediate(),{apiKey:k,authDomain:O}=D.options;return(K=>{De(k&&!k.includes(":"),"invalid-api-key",{appName:K.name}),De(!(null==O?void 0:O.includes(":")),"argument-error",{appName:K.name});const pe={apiKey:k,authDomain:O,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:an(E)},ke=new hr(K,pe);return function(E,y){const v=(null==y?void 0:y.persistence)||[],D=(Array.isArray(v)?v:[v]).map(de);(null==y?void 0:y.errorMap)&&E._updateErrorMap(y.errorMap),E._initializeWithPersistence(D,null==y?void 0:y.popupRedirectResolver)}(ke,v),ke})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,D)=>{y.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new q.wA("auth-internal",y=>{const v=pn(y.getProvider("auth").getImmediate());return new mb(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)("@firebase/auth","0.18.0",void 0);class Kg extends wl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(v=>v(y)),super.onEvent(y)}initialized(){var y=this;return(0,c.Z)(function*(){yield y.initPromise})()}}function op(E){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(E){const y=yield ap()._get(lp(E));return y&&(yield ap()._remove(lp(E))),y})).apply(this,arguments)}function yb(){const E=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<20;v++){const D=Math.floor(Math.random()*y.length);E.push(y.charAt(D))}return E.join("")}function ap(){return de(Gf)}function lp(E){return si("authEvent",E.config.apiKey,E.name)}function yi(E){if(!(null==E?void 0:E.includes("?")))return{};const[y,...v]=E.split("?");return(0,H.zd)(v.join("?"))}function cp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ut("no-auth-event")}}function Ma(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function Ad(E=(0,H.z$)()){return!("file:"!==Ma()&&"ionic:"!==Ma()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function kd(){try{const E=self.localStorage,y=Oo();if(E)return E.setItem(y,"1"),E.removeItem(y),!function(E=(0,H.z$)()){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,H.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,H.hl)()}catch(E){return qc()&&(0,H.hl)()}return!1}function qc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dp(){return("http:"===Ma()||"https:"===Ma()||(0,H.ru)()||Ad())&&!((0,H.b$)()||(0,H.UG)())&&kd()&&!qc()}function n_(){return Ad()&&"undefined"!=typeof document}function Zc(){return(Zc=(0,c.Z)(function*(){return!!n_()&&new Promise(E=>{const y=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),E(!0)})})})).apply(this,arguments)}const nr={LOCAL:"local",NONE:"none",SESSION:"session"},Ia=De,hp="persistence";function vi(E){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(E){yield E._initializationPromise;const y=pp(),v=si(hp,E.config.apiKey,E.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(v,E._getPersistence())})).apply(this,arguments)}function pp(){return"undefined"!=typeof window?window:null}const Ti=De;class br{constructor(){this.browserResolver=de(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=no}_openPopup(y,v,D,k){var O=this;return(0,c.Z)(function*(){var K;ue(null===(K=O.eventManagers[y._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const pe=db(y,v,D,Oe(),k);return function(E,y,v,D=500,k=600){const O=Math.max((window.screen.availHeight-k)/2,0).toString(),K=Math.max((window.screen.availWidth-D)/2,0).toString();let pe="";const ke=Object.assign(Object.assign({},Ed),{width:D.toString(),height:k.toString(),top:O,left:K}),ze=(0,H.z$)().toLowerCase();v&&(pe=vf(ze)?"_blank":v),ju(ze)&&(y=y||"http://localhost",ke.scrollbars="yes");const ft=Object.entries(ke).reduce((nn,[Mi,ln])=>`${nn}${Mi}=${ln},`,"");if(function(E=(0,H.z$)()){var y;return Si(E)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}(ze)&&"_self"!==pe)return function(E,y){const v=document.createElement("a");v.href=E,v.target=y;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(D)}(y||"",pe),new Uc(null);const ot=window.open(y||"",pe,ft);De(ot,E,"popup-blocked");try{ot.focus()}catch(nn){}return new Uc(ot)}(y,pe,Oo())})()}_openRedirect(y,v,D,k){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(y),E=db(y,v,D,Oe(),k),kn().location.href=E,new Promise(()=>{});var E})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:k,promise:O}=this.eventManagers[v];return k?Promise.resolve(k):(ue(O,"If manager is not set, promise should be"),O)}const D=this.initAndGetManager(y);return this.eventManagers[v]={promise:D},D}initAndGetManager(y){var v=this;return(0,c.Z)(function*(){const D=yield function(E){return wd.apply(this,arguments)}(y),k=new wl(y);return D.register("authEvent",O=>(De(null==O?void 0:O.authEvent,y,"invalid-auth-event"),{status:k.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:k},v.iframes[y._key()]=D,k})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(Hc,{type:Hc},k=>{var O;const K=null===(O=null==k?void 0:k[0])||void 0===O?void 0:O[Hc];void 0!==K&&v(!!K),gt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return ls.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return Ve()||Gu()||Si()}}),this.cordovaResolver=de(class{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=no}_initialize(y){var v=this;return(0,c.Z)(function*(){const D=y._key();let k=v.eventManagers.get(D);return k||(k=new Kg(y),v.eventManagers.set(D,k),v.attachCallbackListeners(y,k)),k})()}_openPopup(y){gt(y,"operation-not-supported-in-this-environment")}_openRedirect(y,v,D,k){var O=this;return(0,c.Z)(function*(){!function(E){var y,v,D,k,O,K,pe,ke,ze,ft;const ot=oo();De("function"==typeof(null===(y=null==ot?void 0:ot.universalLinks)||void 0===y?void 0:y.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(v=null==ot?void 0:ot.BuildInfo)||void 0===v?void 0:v.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(O=null===(k=null===(D=null==ot?void 0:ot.cordova)||void 0===D?void 0:D.plugins)||void 0===k?void 0:k.browsertab)||void 0===O?void 0:O.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ke=null===(pe=null===(K=null==ot?void 0:ot.cordova)||void 0===K?void 0:K.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===ke?void 0:ke.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(ft=null===(ze=null==ot?void 0:ot.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===ft?void 0:ft.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const K=yield O._initialize(y);yield K.initialized(),K.resetRedirect(),vr.clear(),yield O._originValidation(y);const pe=function(E,y,v=null){return{type:y,eventId:v,urlResponse:null,sessionId:yb(),postBody:null,tenantId:E.tenantId,error:ut(E,"no-auth-event")}}(y,D,k);yield function(E,y){return ap()._set(lp(E),y)}(y,pe);const ke=yield function(E,y,v){return Td.apply(this,arguments)}(y,pe,v),ze=yield function(E){const{cordova:y}=oo();return new Promise(v=>{y.plugins.browsertab.isAvailable(D=>{let k=null;D?y.plugins.browsertab.openUrl(E):k=y.InAppBrowser.open(E,function(E=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),v(k)})})}(ke);return function(E,y,v){return ip.apply(this,arguments)}(y,K,ze)})()}_isIframeWebStorageSupported(y,v){throw new Error("Method not implemented.")}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return np.apply(this,arguments)}(y)),this.originValidationPromises[v]}attachCallbackListeners(y,v){const{universalLinks:D,handleOpenURL:k,BuildInfo:O}=oo(),K=setTimeout((0,c.Z)(function*(){yield op(y),v.onEvent(cp())}),500),pe=function(){var ft=(0,c.Z)(function*(ot){clearTimeout(K);const nn=yield op(y);let Mi=null;nn&&(null==ot?void 0:ot.url)&&(Mi=function(E,y){var v,D;const k=function(E){const y=yi(E),v=y.link?decodeURIComponent(y.link):void 0,D=yi(v).link,k=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return yi(k).link||k||D||v||E}(y);if(k.includes("/__/auth/callback")){const O=yi(k),K=O.firebaseError?function(E){try{return JSON.parse(E)}catch(y){return null}}(decodeURIComponent(O.firebaseError)):null,pe=null===(D=null===(v=null==K?void 0:K.code)||void 0===v?void 0:v.split("auth/"))||void 0===D?void 0:D[1],ke=pe?ut(pe):null;return ke?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:k,postBody:null}}return null}(nn,ot.url)),v.onEvent(Mi||cp())});return function(nn){return ft.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,pe);const ke=k,ze=`${O.packageName.toLowerCase()}://`;oo().handleOpenURL=function(){var ft=(0,c.Z)(function*(ot){if(ot.toLowerCase().startsWith(ze)&&pe({url:ot}),"function"==typeof ke)try{ke(ot)}catch(nn){console.error(nn)}});return function(ot){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=no}_initialize(y){var v=this;return(0,c.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,v,D,k){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(y,v,D,k)})()}_openRedirect(y,v,D,k){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(y,v,D,k)})()}_isIframeWebStorageSupported(y,v){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,v)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return n_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ti(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,c.Z)(function*(){if(y.underlyingResolver)return;const v=yield function(){return Zc.apply(this,arguments)}();y.underlyingResolver=v?y.cordovaResolver:y.browserResolver})()}}function Qc(E){return E.unwrap()}function Eb(E){return mp(E)}function r_(E,y){var v;const D=null===(v=y.customData)||void 0===v?void 0:v._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new s_(E,function(E,y){var v;const D=(0,H.m9)(E),k=y;return De(y.operationType,D,"argument-error"),De(null===(v=k.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,D,"argument-error"),pl._fromError(D,k)}(E,y));else if(D){const k=mp(y),O=y;k&&(O.credential=k,O.tenantId=D.tenantId||void 0,O.email=D.email||void 0,O.phoneNumber=D.phoneNumber||void 0)}}function mp(E){const{_tokenResponse:y}=E instanceof H.ZR?E.customData:E;if(!y)return null;if(!(E instanceof H.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return Xs.credentialFromResult(E);const v=y.providerId;if(!v||"password"===v)return null;let D;switch(v){case"google.com":D=ko;break;case"facebook.com":D=Cf;break;case"github.com":D=gg;break;case"twitter.com":D=Ef;break;default:const{oauthIdToken:k,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:pe,nonce:ke}=y;return O||K||k||pe?pe?v.startsWith("saml.")?xo._create(v,pe):Is._fromParams({providerId:v,signInMethod:v,pendingToken:pe,idToken:k,accessToken:O}):new ma(v).credential({idToken:k,accessToken:O,rawNonce:ke}):null}return E instanceof H.ZR?D.credentialFromError(E):D.credentialFromResult(E)}function ir(E,y){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(E,y){let v;try{v=yield y}catch(O){throw O instanceof H.ZR&&r_(E,O),O}const{operationType:D,user:k}=v;return{operationType:D,credential:Eb(v),additionalUserInfo:Yv(v),user:ao.getOrCreate(k)}})).apply(this,arguments)}function Rd(E,y){return gp.apply(this,arguments)}function gp(){return(gp=(0,c.Z)(function*(E,y){const v=yield y;return{verificationId:v.verificationId,confirm:D=>ir(E,v.confirm(D))}})).apply(this,arguments)}class s_{constructor(y,v){this.resolver=v,this.auth=function(E){return E.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return ir(Qc(this.auth),this.resolver.resolveSignIn(y))}}class ao{constructor(y){this._delegate=y,this.multiFactor=function(E){const y=(0,H.m9)(E);return ks.has(y)||ks.set(y,Bf._fromUser(y)),ks.get(y)}(y)}static getOrCreate(y){return ao.USER_MAP.has(y)||ao.USER_MAP.set(y,new ao(y)),ao.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var v=this;return(0,c.Z)(function*(){return ir(v.auth,Ku(v._delegate,y))})()}linkWithPhoneNumber(y,v){var D=this;return(0,c.Z)(function*(){return Rd(D.auth,function(E,y,v){return Wf.apply(this,arguments)}(D._delegate,y,v))})()}linkWithPopup(y){var v=this;return(0,c.Z)(function*(){return ir(v.auth,function(E,y,v){return bl.apply(this,arguments)}(v._delegate,y,br))})()}linkWithRedirect(y){var v=this;return(0,c.Z)(function*(){return yield vi(pn(v.auth)),function(E,y,v){return function(E,y,v){return yd.apply(this,arguments)}(E,y,v)}(v._delegate,y,br)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var v=this;return(0,c.Z)(function*(){return ir(v.auth,er(v._delegate,y))})()}reauthenticateWithPhoneNumber(y,v){return Rd(this.auth,function(E,y,v){return Pg.apply(this,arguments)}(this._delegate,y,v))}reauthenticateWithPopup(y){return ir(this.auth,function(E,y,v){return md.apply(this,arguments)}(this._delegate,y,br))}reauthenticateWithRedirect(y){var v=this;return(0,c.Z)(function*(){return yield vi(pn(v.auth)),function(E,y,v){return function(E,y,v){return Ps.apply(this,arguments)}(E,y,v)}(v._delegate,y,br)})()}sendEmailVerification(y){return function(E,y){return gr.apply(this,arguments)}(this._delegate,y)}unlink(y){var v=this;return(0,c.Z)(function*(){return yield function(E,y){return Sf.apply(this,arguments)}(v._delegate,y),v})()}updateEmail(y){return function(E,y){return Nf((0,H.m9)(E),y,null)}(this._delegate,y)}updatePassword(y){return function(E,y){return Nf((0,H.m9)(E),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(E,y){return Rn.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(E,y){return Dc.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,v){return function(E,y,v){return td.apply(this,arguments)}(this._delegate,y,v)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ao.USER_MAP=new WeakMap;const Il=De;let Od=(()=>{class E{constructor(v,D){if(this.app=v,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:k}=v.options;Il(k,"invalid-api-key",{appName:v.name});let O=[Ot];if("undefined"!=typeof window){O=function(E,y){const v=pp();if(!(null==v?void 0:v.sessionStorage))return[];const D=si(hp,E,y);switch(v.sessionStorage.getItem(D)){case nr.NONE:return[Ot];case nr.LOCAL:return[_n,xs];case nr.SESSION:return[xs];default:return[]}}(k,v.name);for(const pe of[_n,Gf,xs])O.includes(pe)||O.push(pe)}Il(k,"invalid-api-key",{appName:v.name});const K="undefined"!=typeof window?br:void 0;this._delegate=D.initialize({options:{persistence:O,popupRedirectResolver:K}}),this._delegate._updateErrorMap(ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(v){this._delegate.languageCode=v}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(v){this._delegate.tenantId=v}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(v,D){!function(E,y,v){const D=pn(E);De(D._canInitEmulator,D,"emulator-config-failed"),De(/^https?:\/\//.test(y),D,"invalid-emulator-scheme");const k=!!(null==v?void 0:v.disableWarnings),O=An(y),{host:K,port:pe}=function(E){const y=An(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(y.length));if(!v)return{host:"",port:null};const D=v[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(D);if(k){const O=k[1];return{host:O,port:pa(D.substr(O.length+1))}}{const[O,K]=D.split(":");return{host:O,port:pa(K)}}}(y);D.config.emulator={url:`${O}//${K}${null===pe?"":`:${pe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:K,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:k})}),function(E){function y(){const v=document.createElement("p"),D=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(k)}(this._delegate,v,D)}applyActionCode(v){return function(E,y){return _a.apply(this,arguments)}(this._delegate,v)}checkActionCode(v){return Te(this._delegate,v)}confirmPasswordReset(v,D){return function(E,y,v){return kf.apply(this,arguments)}(this._delegate,v,D)}createUserWithEmailAndPassword(v,D){var k=this;return(0,c.Z)(function*(){return ir(k._delegate,function(E,y,v){return Zs.apply(this,arguments)}(k._delegate,v,D))})()}fetchProvidersForEmail(v){return this.fetchSignInMethodsForEmail(v)}fetchSignInMethodsForEmail(v){return function(E,y){return Of.apply(this,arguments)}(this._delegate,v)}isSignInWithEmailLink(v){return function(E,y){const v=Yu.parseLink(y);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}(0,v)}getRedirectResult(){var v=this;return(0,c.Z)(function*(){Il(dp(),v._delegate,"operation-not-supported-in-this-environment");const D=yield function(E,y){return vd.apply(this,arguments)}(v._delegate,br);return D?ir(v._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(v){!function(E,y){pn(E)._logFramework(y)}(this._delegate,v)}onAuthStateChanged(v,D,k){const{next:O,error:K,complete:pe}=Pd(v,D,k);return this._delegate.onAuthStateChanged(O,K,pe)}onIdTokenChanged(v,D,k){const{next:O,error:K,complete:pe}=Pd(v,D,k);return this._delegate.onIdTokenChanged(O,K,pe)}sendSignInLinkToEmail(v,D){return function(E,y,v){return dl.apply(this,arguments)}(this._delegate,v,D)}sendPasswordResetEmail(v,D){return function(E,y,v){return Af.apply(this,arguments)}(this._delegate,v,D||void 0)}setPersistence(v){var D=this;return(0,c.Z)(function*(){let k;switch(function(E,y){Ia(Object.values(nr).includes(y),E,"invalid-persistence-type"),(0,H.b$)()?Ia(y!==nr.SESSION,E,"unsupported-persistence-type"):(0,H.UG)()?Ia(y===nr.NONE,E,"unsupported-persistence-type"):qc()?Ia(y===nr.NONE||y===nr.LOCAL&&(0,H.hl)(),E,"unsupported-persistence-type"):Ia(y===nr.NONE||kd(),E,"unsupported-persistence-type")}(D._delegate,v),v){case nr.SESSION:k=xs;break;case nr.LOCAL:k=(yield de(_n)._isAvailable())?_n:Gf;break;case nr.NONE:k=Ot;break;default:return gt("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(k)})()}signInAndRetrieveDataWithCredential(v){return this.signInWithCredential(v)}signInAnonymously(){return ir(this._delegate,function(E){return bc.apply(this,arguments)}(this._delegate))}signInWithCredential(v){return ir(this._delegate,Ui(this._delegate,v))}signInWithCustomToken(v){return ir(this._delegate,function(E,y){return Qu.apply(this,arguments)}(this._delegate,v))}signInWithEmailAndPassword(v,D){return ir(this._delegate,function(E,y,v){return Ui((0,H.m9)(E),qu.credential(y,v))}(this._delegate,v,D))}signInWithEmailLink(v,D){return ir(this._delegate,function(E,y,v){return hl.apply(this,arguments)}(this._delegate,v,D))}signInWithPhoneNumber(v,D){return Rd(this._delegate,function(E,y,v){return Rg.apply(this,arguments)}(this._delegate,v,D))}signInWithPopup(v){var D=this;return(0,c.Z)(function*(){return Il(dp(),D._delegate,"operation-not-supported-in-this-environment"),ir(D._delegate,function(E,y,v){return yl.apply(this,arguments)}(D._delegate,v,br))})()}signInWithRedirect(v){var D=this;return(0,c.Z)(function*(){return Il(dp(),D._delegate,"operation-not-supported-in-this-environment"),yield vi(D._delegate),function(E,y,v){return function(E,y,v){return Fc.apply(this,arguments)}(E,y,v)}(D._delegate,v,br)})()}updateCurrentUser(v){return this._delegate.updateCurrentUser(v)}verifyPasswordResetCode(v){return function(E,y){return hn.apply(this,arguments)}(this._delegate,v)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=nr,E})();function Pd(E,y,v){let D=E;"function"!=typeof E&&({next:D,error:y,complete:v}=E);const k=D;return{next:K=>k(K&&ao.getOrCreate(K)),error:y,complete:v}}class Al{constructor(){this.providerId="phone",this._delegate=new Xs(Qc(X.Z.auth()))}static credential(y,v){return Xs.credential(y,v)}verifyPhoneNumber(y,v){return this._delegate.verifyPhoneNumber(y,v)}unwrap(){return this._delegate}}Al.PHONE_SIGN_IN_METHOD=Xs.PHONE_SIGN_IN_METHOD,Al.PROVIDER_ID=Xs.PROVIDER_ID;const Db=De;class o_{constructor(y,v,D=X.Z.app()){var k;Db(null===(k=D.options)||void 0===k?void 0:k.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new eb(y,v,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new q.wA("auth-compat",y=>{const v=y.getProvider("app-compat").getImmediate(),D=y.getProvider("auth");return new Od(v,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:qu,FacebookAuthProvider:Cf,GithubAuthProvider:gg,GoogleAuthProvider:ko,OAuthProvider:ma,PhoneAuthProvider:Al,PhoneMultiFactorGenerator:hb,RecaptchaVerifier:o_,TwitterAuthProvider:Ef,Auth:Od,AuthCredential:Rr,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.3")}(X.Z)},3098:(He,Ce,N)=>{"use strict";N.d(Ce,{P:()=>oe});var c=N(9193),X=N(5917),H=N(205);class oe{constructor(q,W,z){this.kind=q,this.value=W,this.error=z,this.hasValue="N"===q}observe(q){switch(this.kind){case"N":return q.next&&q.next(this.value);case"E":return q.error&&q.error(this.error);case"C":return q.complete&&q.complete()}}do(q,W,z){switch(this.kind){case"N":return q&&q(this.value);case"E":return W&&W(this.error);case"C":return z&&z()}}accept(q,W,z){return q&&"function"==typeof q.next?this.observe(q):this.do(q,W,z)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return(0,H._)(this.error);case"C":return(0,c.c)()}throw new Error("unexpected notification kind value")}static createNext(q){return void 0!==q?new oe("N",q):oe.undefinedValueNotification}static createError(q){return new oe("E",void 0,q)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},7574:(He,Ce,N)=>{"use strict";N.d(Ce,{y:()=>B});var c=N(7393),H=N(9181),me=N(6490),J=N(6554),q=N(4487);var F=N(2494);let B=(()=>{class re{constructor(ge){this._isScalar=!1,ge&&(this._subscribe=ge)}lift(ge){const ce=new re;return ce.source=this,ce.operator=ge,ce}subscribe(ge,ce,Se){const{operator:_e}=this,Re=function(re,le,ge){if(re){if(re instanceof c.L)return re;if(re[H.b])return re[H.b]()}return re||le||ge?new c.L(re,le,ge):new c.L(me.c)}(ge,ce,Se);if(Re.add(_e?_e.call(Re,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!Re.syncErrorThrowable?this._subscribe(Re):this._trySubscribe(Re)),F.v.useDeprecatedSynchronousErrorHandling&&Re.syncErrorThrowable&&(Re.syncErrorThrowable=!1,Re.syncErrorThrown))throw Re.syncErrorValue;return Re}_trySubscribe(ge){try{return this._subscribe(ge)}catch(ce){F.v.useDeprecatedSynchronousErrorHandling&&(ge.syncErrorThrown=!0,ge.syncErrorValue=ce),function(re){for(;re;){const{closed:le,destination:ge,isStopped:ce}=re;if(le||ce)return!1;re=ge&&ge instanceof c.L?ge:null}return!0}(ge)?ge.error(ce):console.warn(ce)}}forEach(ge,ce){return new(ce=j(ce))((Se,_e)=>{let Re;Re=this.subscribe(at=>{try{ge(at)}catch(gt){_e(gt),Re&&Re.unsubscribe()}},_e,Se)})}_subscribe(ge){const{source:ce}=this;return ce&&ce.subscribe(ge)}[J.L](){return this}pipe(...ge){return 0===ge.length?this:function(re){return 0===re.length?q.y:1===re.length?re[0]:function(ge){return re.reduce((ce,Se)=>Se(ce),ge)}}(ge)(this)}toPromise(ge){return new(ge=j(ge))((ce,Se)=>{let _e;this.subscribe(Re=>_e=Re,Re=>Se(Re),()=>ce(_e))})}}return re.create=le=>new re(le),re})();function j(re){if(re||(re=F.v.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},6490:(He,Ce,N)=>{"use strict";N.d(Ce,{c:()=>H});var c=N(2494),X=N(4449);const H={closed:!0,next(me){},error(me){if(c.v.useDeprecatedSynchronousErrorHandling)throw me;(0,X.z)(me)},complete(){}}},9765:(He,Ce,N)=>{"use strict";N.d(Ce,{Yc:()=>q,xQ:()=>W});var c=N(7574),X=N(7393),H=N(5319),me=N(7971),oe=N(8858),J=N(9181);class q extends X.L{constructor(B){super(B),this.destination=B}}let W=(()=>{class F extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new q(this)}lift(j){const re=new z(this,this);return re.operator=j,re}next(j){if(this.closed)throw new me.N;if(!this.isStopped){const{observers:re}=this,le=re.length,ge=re.slice();for(let ce=0;ce<le;ce++)ge[ce].next(j)}}error(j){if(this.closed)throw new me.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:re}=this,le=re.length,ge=re.slice();for(let ce=0;ce<le;ce++)ge[ce].error(j);this.observers.length=0}complete(){if(this.closed)throw new me.N;this.isStopped=!0;const{observers:j}=this,re=j.length,le=j.slice();for(let ge=0;ge<re;ge++)le[ge].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new me.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new me.N;return this.hasError?(j.error(this.thrownError),H.w.EMPTY):this.isStopped?(j.complete(),H.w.EMPTY):(this.observers.push(j),new oe.W(this,j))}asObservable(){const j=new c.y;return j.source=this,j}}return F.create=(B,j)=>new z(B,j),F})();class z extends W{constructor(B,j){super(),this.destination=B,this.source=j}next(B){const{destination:j}=this;j&&j.next&&j.next(B)}error(B){const{destination:j}=this;j&&j.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:j}=this;return j?this.source.subscribe(B):H.w.EMPTY}}},8858:(He,Ce,N)=>{"use strict";N.d(Ce,{W:()=>X});var c=N(5319);class X extends c.w{constructor(me,oe){super(),this.subject=me,this.subscriber=oe,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const me=this.subject,oe=me.observers;if(this.subject=null,!oe||0===oe.length||me.isStopped||me.closed)return;const J=oe.indexOf(this.subscriber);-1!==J&&oe.splice(J,1)}}},7393:(He,Ce,N)=>{"use strict";N.d(Ce,{L:()=>q});var c=N(9105),X=N(6490),H=N(5319),me=N(9181),oe=N(2494),J=N(4449);class q extends H.w{constructor(F,B,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!F){this.destination=X.c;break}if("object"==typeof F){F instanceof q?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,F,B,j)}}[me.b](){return this}static create(F,B,j){const re=new q(F,B,j);return re.syncErrorThrowable=!1,re}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class W extends q{constructor(F,B,j,re){super(),this._parentSubscriber=F;let le,ge=this;(0,c.m)(B)?le=B:B&&(le=B.next,j=B.error,re=B.complete,B!==X.c&&(ge=Object.create(B),(0,c.m)(ge.unsubscribe)&&this.add(ge.unsubscribe.bind(ge)),ge.unsubscribe=this.unsubscribe.bind(this))),this._context=ge,this._next=le,this._error=j,this._complete=re}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;oe.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:j}=oe.v;if(this._error)j&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(B.syncErrorThrowable)j?(B.syncErrorValue=F,B.syncErrorThrown=!0):(0,J.z)(F),this.unsubscribe();else{if(this.unsubscribe(),j)throw F;(0,J.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const B=()=>this._complete.call(this._context);oe.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,B){try{F.call(this._context,B)}catch(j){if(this.unsubscribe(),oe.v.useDeprecatedSynchronousErrorHandling)throw j;(0,J.z)(j)}}__tryOrSetError(F,B,j){if(!oe.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,j)}catch(re){return oe.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=re,F.syncErrorThrown=!0,!0):((0,J.z)(re),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(He,Ce,N)=>{"use strict";N.d(Ce,{w:()=>J});var c=N(9796),X=N(1555),H=N(9105);const oe=(()=>{function W(z){return Error.call(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((F,B)=>`${B+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z,this}return W.prototype=Object.create(Error.prototype),W})();class J{constructor(z){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,z&&(this._ctorUnsubscribe=!0,this._unsubscribe=z)}unsubscribe(){let z;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:B,_unsubscribe:j,_subscriptions:re}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof J)F.remove(this);else if(null!==F)for(let le=0;le<F.length;++le)F[le].remove(this);if((0,H.m)(j)){B&&(this._unsubscribe=void 0);try{j.call(this)}catch(le){z=le instanceof oe?q(le.errors):[le]}}if((0,c.k)(re)){let le=-1,ge=re.length;for(;++le<ge;){const ce=re[le];if((0,X.K)(ce))try{ce.unsubscribe()}catch(Se){z=z||[],Se instanceof oe?z=z.concat(q(Se.errors)):z.push(Se)}}}if(z)throw new oe(z)}add(z){let F=z;if(!z)return J.EMPTY;switch(typeof z){case"function":F=new J(z);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof J)){const re=F;F=new J,F._subscriptions=[re]}break;default:throw new Error("unrecognized teardown "+z+" added to Subscription.")}let{_parentOrParents:B}=F;if(null===B)F._parentOrParents=this;else if(B instanceof J){if(B===this)return F;F._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return F;B.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[F]:j.push(F),F}remove(z){const F=this._subscriptions;if(F){const B=F.indexOf(z);-1!==B&&F.splice(B,1)}}}var W;function q(W){return W.reduce((z,F)=>z.concat(F instanceof oe?F.errors:F),[])}J.EMPTY=((W=new J).closed=!0,W)},2494:(He,Ce,N)=>{"use strict";N.d(Ce,{v:()=>X});let c=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(H){if(H){const me=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+me.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=H},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(He,Ce,N)=>{"use strict";N.d(Ce,{IY:()=>me,Ds:()=>J,ft:()=>W});var c=N(7393),X=N(7574),H=N(7444);class me extends c.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends c.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function W(z,F){if(F.closed)return;if(z instanceof X.y)return z.subscribe(F);let B;try{B=(0,H.s)(z)(F)}catch(j){F.error(j)}return B}},2441:(He,Ce,N)=>{"use strict";N.d(Ce,{c:()=>oe,N:()=>J});var c=N(9765),X=N(7574),H=N(5319),me=N(1307);class oe extends X.y{constructor(B,j){super(),this.source=B,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new H.w,B.add(this.source.subscribe(new q(this.getSubject(),this))),B.closed&&(this._connection=null,B=H.w.EMPTY)),B}refCount(){return(0,me.x)()(this)}}const J=(()=>{const F=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class q extends c.Yc{constructor(B,j){super(B),this.connectable=j}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const j=B._connection;B._refCount=0,B._subject=null,B._connection=null,j&&j.unsubscribe()}}}},9193:(He,Ce,N)=>{"use strict";N.d(Ce,{E:()=>X,c:()=>H});var c=N(7574);const X=new c.y(oe=>oe.complete());function H(oe){return oe?function(oe){return new c.y(J=>oe.schedule(()=>J.complete()))}(oe):X}},4402:(He,Ce,N)=>{"use strict";N.d(Ce,{D:()=>ge});var c=N(7574),X=N(7444),H=N(5319),me=N(6554),q=N(4087),W=N(377),B=N(4072),j=N(9489);function ge(ce,Se){return Se?function(ce,Se){if(null!=ce){if(function(ce){return ce&&"function"==typeof ce[me.L]}(ce))return function(ce,Se){return new c.y(_e=>{const Re=new H.w;return Re.add(Se.schedule(()=>{const at=ce[me.L]();Re.add(at.subscribe({next(gt){Re.add(Se.schedule(()=>_e.next(gt)))},error(gt){Re.add(Se.schedule(()=>_e.error(gt)))},complete(){Re.add(Se.schedule(()=>_e.complete()))}}))})),Re})}(ce,Se);if((0,B.t)(ce))return function(ce,Se){return new c.y(_e=>{const Re=new H.w;return Re.add(Se.schedule(()=>ce.then(at=>{Re.add(Se.schedule(()=>{_e.next(at),Re.add(Se.schedule(()=>_e.complete()))}))},at=>{Re.add(Se.schedule(()=>_e.error(at)))}))),Re})}(ce,Se);if((0,j.z)(ce))return(0,q.r)(ce,Se);if(function(ce){return ce&&"function"==typeof ce[W.hZ]}(ce)||"string"==typeof ce)return function(ce,Se){if(!ce)throw new Error("Iterable cannot be null");return new c.y(_e=>{const Re=new H.w;let at;return Re.add(()=>{at&&"function"==typeof at.return&&at.return()}),Re.add(Se.schedule(()=>{at=ce[W.hZ](),Re.add(Se.schedule(function(){if(_e.closed)return;let gt,ut;try{const Yt=at.next();gt=Yt.value,ut=Yt.done}catch(Yt){return void _e.error(Yt)}ut?_e.complete():(_e.next(gt),this.schedule())}))})),Re})}(ce,Se)}throw new TypeError((null!==ce&&typeof ce||ce)+" is not observable")}(ce,Se):ce instanceof c.y?ce:new c.y((0,X.s)(ce))}},6693:(He,Ce,N)=>{"use strict";N.d(Ce,{n:()=>me});var c=N(7574),X=N(5015),H=N(4087);function me(oe,J){return J?(0,H.r)(oe,J):new c.y((0,X.V)(oe))}},6682:(He,Ce,N)=>{"use strict";N.d(Ce,{T:()=>oe});var c=N(7574),X=N(4869),H=N(3282),me=N(6693);function oe(...J){let q=Number.POSITIVE_INFINITY,W=null,z=J[J.length-1];return(0,X.K)(z)?(W=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(q=J.pop())):"number"==typeof z&&(q=J.pop()),null===W&&1===J.length&&J[0]instanceof c.y?J[0]:(0,H.J)(q)((0,me.n)(J,W))}},5917:(He,Ce,N)=>{"use strict";N.d(Ce,{of:()=>me});var c=N(4869),X=N(6693),H=N(4087);function me(...oe){let J=oe[oe.length-1];return(0,c.K)(J)?(oe.pop(),(0,H.r)(oe,J)):(0,X.n)(oe)}},205:(He,Ce,N)=>{"use strict";N.d(Ce,{_:()=>X});var c=N(7574);function X(me,oe){return new c.y(oe?J=>oe.schedule(H,0,{error:me,subscriber:J}):J=>J.error(me))}function H({error:me,subscriber:oe}){oe.error(me)}},8002:(He,Ce,N)=>{"use strict";N.d(Ce,{U:()=>X});var c=N(7393);function X(oe,J){return function(W){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new H(oe,J))}}class H{constructor(J,q){this.project=J,this.thisArg=q}call(J,q){return q.subscribe(new me(J,this.project,this.thisArg))}}class me extends c.L{constructor(J,q,W){super(J),this.project=q,this.count=0,this.thisArg=W||this}_next(J){let q;try{q=this.project.call(this.thisArg,J,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(q)}}},3282:(He,Ce,N)=>{"use strict";N.d(Ce,{J:()=>H});var c=N(9773),X=N(4487);function H(me=Number.POSITIVE_INFINITY){return(0,c.zg)(X.y,me)}},9773:(He,Ce,N)=>{"use strict";N.d(Ce,{zg:()=>me});var c=N(8002),X=N(4402),H=N(5345);function me(W,z,F=Number.POSITIVE_INFINITY){return"function"==typeof z?B=>B.pipe(me((j,re)=>(0,X.D)(W(j,re)).pipe((0,c.U)((le,ge)=>z(j,le,re,ge))),F)):("number"==typeof z&&(F=z),B=>B.lift(new oe(W,F)))}class oe{constructor(z,F=Number.POSITIVE_INFINITY){this.project=z,this.concurrent=F}call(z,F){return F.subscribe(new J(z,this.project,this.concurrent))}}class J extends H.Ds{constructor(z,F,B=Number.POSITIVE_INFINITY){super(z),this.project=F,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(z){this.active<this.concurrent?this._tryNext(z):this.buffer.push(z)}_tryNext(z){let F;const B=this.index++;try{F=this.project(z,B)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(F)}_innerSub(z){const F=new H.IY(this),B=this.destination;B.add(F);const j=(0,H.ft)(z,F);j!==F&&B.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(z){this.destination.next(z)}notifyComplete(){const z=this.buffer;this.active--,z.length>0?this._next(z.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(He,Ce,N)=>{"use strict";N.d(Ce,{QV:()=>H,ht:()=>oe});var c=N(7393),X=N(3098);function H(q,W=0){return function(F){return F.lift(new me(q,W))}}class me{constructor(W,z=0){this.scheduler=W,this.delay=z}call(W,z){return z.subscribe(new oe(W,this.scheduler,this.delay))}}class oe extends c.L{constructor(W,z,F=0){super(W),this.scheduler=z,this.delay=F}static dispatch(W){const{notification:z,destination:F}=W;z.observe(F),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(oe.dispatch,this.delay,new J(W,this.destination)))}_next(W){this.scheduleMessage(X.P.createNext(W))}_error(W){this.scheduleMessage(X.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(X.P.createComplete()),this.unsubscribe()}}class J{constructor(W,z){this.notification=W,this.destination=z}}},1307:(He,Ce,N)=>{"use strict";N.d(Ce,{x:()=>X});var c=N(7393);function X(){return function(J){return J.lift(new H(J))}}class H{constructor(J){this.connectable=J}call(J,q){const{connectable:W}=this;W._refCount++;const z=new me(J,W),F=q.subscribe(z);return z.closed||(z.connection=W.connect()),F}}class me extends c.L{constructor(J,q){super(J),this.connectable=q}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const q=J._refCount;if(q<=0)return void(this.connection=null);if(J._refCount=q-1,q>1)return void(this.connection=null);const{connection:W}=this,z=J._connection;this.connection=null,z&&(!W||z===W)&&z.unsubscribe()}}},8819:(He,Ce,N)=>{"use strict";N.d(Ce,{B:()=>q});var c=N(2441);var me=N(1307),oe=N(9765);function J(){return new oe.xQ}function q(){return W=>(0,me.x)()(function(W,z){return function(B){let j;j="function"==typeof W?W:function(){return W};const re=Object.create(B,c.N);return re.source=B,re.subjectFactory=j,re}}(J)(W))}},9673:(He,Ce,N)=>{"use strict";N.d(Ce,{R:()=>oe});var c=N(7574),X=N(4581),H=N(6561);class me extends c.y{constructor(W,z=0,F=X.e){super(),this.source=W,this.delayTime=z,this.scheduler=F,(!(0,H.k)(z)||z<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=X.e)}static create(W,z=0,F=X.e){return new me(W,z,F)}static dispatch(W){const{source:z,subscriber:F}=W;return this.add(z.subscribe(F))}_subscribe(W){return this.scheduler.schedule(me.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function oe(q,W=0){return function(F){return F.lift(new J(q,W))}}class J{constructor(W,z){this.scheduler=W,this.delay=z}call(W,z){return new me(z,this.delay,this.scheduler).subscribe(W)}}},3342:(He,Ce,N)=>{"use strict";N.d(Ce,{b:()=>me});var c=N(7393);function X(){}var H=N(9105);function me(q,W,z){return function(B){return B.lift(new oe(q,W,z))}}class oe{constructor(W,z,F){this.nextOrObserver=W,this.error=z,this.complete=F}call(W,z){return z.subscribe(new J(W,this.nextOrObserver,this.error,this.complete))}}class J extends c.L{constructor(W,z,F,B){super(W),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=F||X,this._tapComplete=B||X,(0,H.m)(z)?(this._context=this,this._tapNext=z):z&&(this._context=z,this._tapNext=z.next||X,this._tapError=z.error||X,this._tapComplete=z.complete||X)}_next(W){try{this._tapNext.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(z){return void this.destination.error(z)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},4087:(He,Ce,N)=>{"use strict";N.d(Ce,{r:()=>H});var c=N(7574),X=N(5319);function H(me,oe){return new c.y(J=>{const q=new X.w;let W=0;return q.add(oe.schedule(function(){W!==me.length?(J.next(me[W++]),J.closed||q.add(this.schedule())):J.complete()})),q})}},6465:(He,Ce,N)=>{"use strict";N.d(Ce,{o:()=>H});var c=N(5319);class X extends c.w{constructor(oe,J){super()}schedule(oe,J=0){return this}}class H extends X{constructor(oe,J){super(oe,J),this.scheduler=oe,this.work=J,this.pending=!1}schedule(oe,J=0){if(this.closed)return this;this.state=oe;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(W,this.id,J),this}requestAsyncId(oe,J,q=0){return setInterval(oe.flush.bind(oe,this),q)}recycleAsyncId(oe,J,q=0){if(null!==q&&this.delay===q&&!1===this.pending)return J;clearInterval(J)}execute(oe,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const q=this._execute(oe,J);if(q)return q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,J){let W,q=!1;try{this.work(oe)}catch(z){q=!0,W=!!z&&z||new Error(z)}if(q)return this.unsubscribe(),W}_unsubscribe(){const oe=this.id,J=this.scheduler,q=J.actions,W=q.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&q.splice(W,1),null!=oe&&(this.id=this.recycleAsyncId(J,oe,null)),this.delay=null}}},6102:(He,Ce,N)=>{"use strict";N.d(Ce,{v:()=>X});let c=(()=>{class H{constructor(oe,J=H.now){this.SchedulerAction=oe,this.now=J}schedule(oe,J=0,q){return new this.SchedulerAction(this,oe).schedule(q,J)}}return H.now=()=>Date.now(),H})();class X extends c{constructor(me,oe=c.now){super(me,()=>X.delegate&&X.delegate!==this?X.delegate.now():oe()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(me,oe=0,J){return X.delegate&&X.delegate!==this?X.delegate.schedule(me,oe,J):super.schedule(me,oe,J)}flush(me){const{actions:oe}=this;if(this.active)return void oe.push(me);let J;this.active=!0;do{if(J=me.execute(me.state,me.delay))break}while(me=oe.shift());if(this.active=!1,J){for(;me=oe.shift();)me.unsubscribe();throw J}}}},4581:(He,Ce,N)=>{"use strict";N.d(Ce,{e:()=>j,E:()=>B});let c=1;const X=Promise.resolve(),H={};function me(re){return re in H&&(delete H[re],!0)}const oe={setImmediate(re){const le=c++;return H[le]=!0,X.then(()=>me(le)&&re()),le},clearImmediate(re){me(re)}};var q=N(6465),z=N(6102);const B=new class extends z.v{flush(le){this.active=!0,this.scheduled=void 0;const{actions:ge}=this;let ce,Se=-1,_e=ge.length;le=le||ge.shift();do{if(ce=le.execute(le.state,le.delay))break}while(++Se<_e&&(le=ge.shift()));if(this.active=!1,ce){for(;++Se<_e&&(le=ge.shift());)le.unsubscribe();throw ce}}}(class extends q.o{constructor(le,ge){super(le,ge),this.scheduler=le,this.work=ge}requestAsyncId(le,ge,ce=0){return null!==ce&&ce>0?super.requestAsyncId(le,ge,ce):(le.actions.push(this),le.scheduled||(le.scheduled=oe.setImmediate(le.flush.bind(le,null))))}recycleAsyncId(le,ge,ce=0){if(null!==ce&&ce>0||null===ce&&this.delay>0)return super.recycleAsyncId(le,ge,ce);0===le.actions.length&&(oe.clearImmediate(ge),le.scheduled=void 0)}}),j=B},3637:(He,Ce,N)=>{"use strict";N.d(Ce,{z:()=>H,P:()=>me});var c=N(6465);const H=new(N(6102).v)(c.o),me=H},7771:(He,Ce,N)=>{"use strict";N.d(Ce,{c:()=>J,N:()=>oe});var c=N(6465),H=N(6102);const oe=new class extends H.v{}(class extends c.o{constructor(W,z){super(W,z),this.scheduler=W,this.work=z}schedule(W,z=0){return z>0?super.schedule(W,z):(this.delay=z,this.state=W,this.scheduler.flush(this),this)}execute(W,z){return z>0||this.closed?super.execute(W,z):this._execute(W,z)}requestAsyncId(W,z,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(W,z,F):W.flush(this)}}),J=oe},377:(He,Ce,N)=>{"use strict";N.d(Ce,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,Ce,N)=>{"use strict";N.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,Ce,N)=>{"use strict";N.d(Ce,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,Ce,N)=>{"use strict";N.d(Ce,{N:()=>X});const X=(()=>{function H(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return H.prototype=Object.create(Error.prototype),H})()},4449:(He,Ce,N)=>{"use strict";function c(X){setTimeout(()=>{throw X},0)}N.d(Ce,{z:()=>c})},4487:(He,Ce,N)=>{"use strict";function c(X){return X}N.d(Ce,{y:()=>c})},9796:(He,Ce,N)=>{"use strict";N.d(Ce,{k:()=>c});const c=Array.isArray||(X=>X&&"number"==typeof X.length)},9489:(He,Ce,N)=>{"use strict";N.d(Ce,{z:()=>c});const c=X=>X&&"number"==typeof X.length&&"function"!=typeof X},9105:(He,Ce,N)=>{"use strict";function c(X){return"function"==typeof X}N.d(Ce,{m:()=>c})},6561:(He,Ce,N)=>{"use strict";N.d(Ce,{k:()=>X});var c=N(9796);function X(H){return!(0,c.k)(H)&&H-parseFloat(H)+1>=0}},1555:(He,Ce,N)=>{"use strict";function c(X){return null!==X&&"object"==typeof X}N.d(Ce,{K:()=>c})},4072:(He,Ce,N)=>{"use strict";function c(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}N.d(Ce,{t:()=>c})},4869:(He,Ce,N)=>{"use strict";function c(X){return X&&"function"==typeof X.schedule}N.d(Ce,{K:()=>c})},7444:(He,Ce,N)=>{"use strict";N.d(Ce,{s:()=>B});var c=N(5015),X=N(4449),me=N(377),J=N(6554),W=N(9489),z=N(4072),F=N(1555);const B=j=>{if(j&&"function"==typeof j[J.L])return(j=>re=>{const le=j[J.L]();if("function"!=typeof le.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return le.subscribe(re)})(j);if((0,W.z)(j))return(0,c.V)(j);if((0,z.t)(j))return(j=>re=>(j.then(le=>{re.closed||(re.next(le),re.complete())},le=>re.error(le)).then(null,X.z),re))(j);if(j&&"function"==typeof j[me.hZ])return(j=>re=>{const le=j[me.hZ]();for(;;){let ge;try{ge=le.next()}catch(ce){return re.error(ce),re}if(ge.done){re.complete();break}if(re.next(ge.value),re.closed)break}return"function"==typeof le.return&&re.add(()=>{le.return&&le.return()}),re})(j);{const le=`You provided ${(0,F.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(le)}}},5015:(He,Ce,N)=>{"use strict";N.d(Ce,{V:()=>c});const c=X=>H=>{for(let me=0,oe=X.length;me<oe&&!H.closed;me++)H.next(X[me]);H.complete()}},1835:(He,Ce,N)=>{"use strict";var c=N(7716);let X=null;function H(){return X}const q=new c.OlP("DocumentToken");let W=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:z,token:r,providedIn:"platform"}),r})();function z(){return(0,c.LFG)(B)}const F=new c.OlP("Location Initialized");let B=(()=>{class r extends W{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(n){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=H().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,s,o){j()?this._history.pushState(n,s,o):this.location.hash=o}replaceState(n,s,o){j()?this._history.replaceState(n,s,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=(0,c.Yz7)({factory:re,token:r,providedIn:"platform"}),r})();function j(){return!!window.history.pushState}function re(){return new B((0,c.LFG)(q))}function le(r,i){if(0==r.length)return i;if(0==i.length)return r;let n=0;return r.endsWith("/")&&n++,i.startsWith("/")&&n++,2==n?r+i.substring(1):1==n?r+i:r+"/"+i}function ge(r){const i=r.match(/#|\?|$/),n=i&&i.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function ce(r){return r&&"?"!==r[0]?"?"+r:r}let Se=(()=>{class r{historyGo(n){throw new Error("Not implemented")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:_e,token:r,providedIn:"root"}),r})();function _e(r){const i=(0,c.LFG)(q).location;return new at((0,c.LFG)(W),i&&i.origin||"")}const Re=new c.OlP("appBaseHref");let at=(()=>{class r extends Se{constructor(n,s){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return le(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+ce(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${s}${o}`:s}pushState(n,s,o,d){const f=this.prepareExternalUrl(o+ce(d));this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,d){const f=this.prepareExternalUrl(o+ce(d));this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(W),c.LFG(Re,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),gt=(()=>{class r extends Se{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=le(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,o,d){let f=this.prepareExternalUrl(o+ce(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,s,f)}replaceState(n,s,o,d){let f=this.prepareExternalUrl(o+ce(d));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformLocation).historyGo)||void 0===o||o.call(s,n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(W),c.LFG(Re,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),ut=(()=>{class r{constructor(n,s){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=n;const o=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=ge(Ht(o)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+ce(s))}normalize(n){return r.stripTrailingSlash(function(r,i){return r&&i.startsWith(r)?i.substring(r.length):i}(this._baseHref,Ht(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,s="",o=null){this._platformStrategy.pushState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ce(s)),o)}replaceState(n,s="",o=null){this._platformStrategy.replaceState(o,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ce(s)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var s,o;null===(o=(s=this._platformStrategy).historyGo)||void 0===o||o.call(s,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(o=>o(n,s))}subscribe(n,s,o){return this._subject.subscribe({next:n,error:s,complete:o})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Se),c.LFG(W))},r.normalizeQueryParams=ce,r.joinWithSlash=le,r.stripTrailingSlash=ge,r.\u0275prov=(0,c.Yz7)({factory:Yt,token:r,providedIn:"root"}),r})();function Yt(){return new ut((0,c.LFG)(Se),(0,c.LFG)(W))}function Ht(r){return r.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Zero=0]="Zero",ue[ue.One=1]="One",ue[ue.Two=2]="Two",ue[ue.Few=3]="Few",ue[ue.Many=4]="Many",ue[ue.Other=5]="Other",ue))(),ye=(()=>((ye=ye||{})[ye.Format=0]="Format",ye[ye.Standalone=1]="Standalone",ye))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Group=1]="Group",ee[ee.List=2]="List",ee[ee.PercentSign=3]="PercentSign",ee[ee.PlusSign=4]="PlusSign",ee[ee.MinusSign=5]="MinusSign",ee[ee.Exponential=6]="Exponential",ee[ee.SuperscriptingExponent=7]="SuperscriptingExponent",ee[ee.PerMille=8]="PerMille",ee[ee.Infinity=9]="Infinity",ee[ee.NaN=10]="NaN",ee[ee.TimeSeparator=11]="TimeSeparator",ee[ee.CurrencyDecimal=12]="CurrencyDecimal",ee[ee.CurrencyGroup=13]="CurrencyGroup",ee))();function Ir(r,i){return ri((0,c.cg1)(r)[c.wAp.DateFormat],i)}function on(r,i){return ri((0,c.cg1)(r)[c.wAp.TimeFormat],i)}function fn(r,i){return ri((0,c.cg1)(r)[c.wAp.DateTimeFormat],i)}function xt(r,i){const n=(0,c.cg1)(r),s=n[c.wAp.NumberSymbols][i];if(void 0===s){if(i===ee.CurrencyDecimal)return n[c.wAp.NumberSymbols][ee.Decimal];if(i===ee.CurrencyGroup)return n[c.wAp.NumberSymbols][ee.Group]}return s}const zs=c.kL8;function ha(r){if(!r[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ri(r,i){for(let n=i;n>-1;n--)if(void 0!==r[n])return r[n];throw new Error("Locale data API: locale data undefined")}function es(r){const[i,n]=r.split(":");return{hours:+i,minutes:+n}}const Gt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bt={},Bi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=(()=>((tn=tn||{})[tn.Short=0]="Short",tn[tn.ShortGMT=1]="ShortGMT",tn[tn.Long=2]="Long",tn[tn.Extended=3]="Extended",tn))(),Fe=(()=>((Fe=Fe||{})[Fe.FullYear=0]="FullYear",Fe[Fe.Month=1]="Month",Fe[Fe.Date=2]="Date",Fe[Fe.Hours=3]="Hours",Fe[Fe.Minutes=4]="Minutes",Fe[Fe.Seconds=5]="Seconds",Fe[Fe.FractionalSeconds=6]="FractionalSeconds",Fe[Fe.Day=7]="Day",Fe))(),st=(()=>((st=st||{})[st.DayPeriods=0]="DayPeriods",st[st.Days=1]="Days",st[st.Months=2]="Months",st[st.Eras=3]="Eras",st))();function ns(r,i,n,s){let o=function(r){if(zu(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[o,d=1,f=1]=r.split("-").map(_=>+_);return To(o,d-1,f)}const n=parseFloat(r);if(!isNaN(r-n))return new Date(n);let s;if(s=r.match(Gt))return function(r){const i=new Date(0);let n=0,s=0;const o=r[8]?i.setUTCFullYear:i.setFullYear,d=r[8]?i.setUTCHours:i.setHours;r[9]&&(n=Number(r[9]+r[10]),s=Number(r[9]+r[11])),o.call(i,Number(r[1]),Number(r[2])-1,Number(r[3]));const f=Number(r[4]||0)-n,_=Number(r[5]||0)-s,C=Number(r[6]||0),T=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return d.call(i,f,_,C,T),i}(s)}const i=new Date(r);if(!zu(i))throw new Error(`Unable to convert "${r}" into a date`);return i}(r);i=Ms(n,i)||i;let _,f=[];for(;i;){if(_=Bi.exec(i),!_){f.push(i);break}{f=f.concat(_.slice(1));const I=f.pop();if(!I)break;i=I}}let C=o.getTimezoneOffset();s&&(C=dr(s,C),o=function(r,i,n){const o=r.getTimezoneOffset();return function(r,i){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+i),r}(r,-1*(dr(i,o)-o))}(o,s));let T="";return f.forEach(I=>{const x=function(r){if(Ot[r])return Ot[r];let i;switch(r){case"G":case"GG":case"GGG":i=Q(st.Eras,de.Abbreviated);break;case"GGGG":i=Q(st.Eras,de.Wide);break;case"GGGGG":i=Q(st.Eras,de.Narrow);break;case"y":i=$(Fe.FullYear,1,0,!1,!0);break;case"yy":i=$(Fe.FullYear,2,0,!0,!0);break;case"yyy":i=$(Fe.FullYear,3,0,!1,!0);break;case"yyyy":i=$(Fe.FullYear,4,0,!1,!0);break;case"Y":i=Ki(1);break;case"YY":i=Ki(2,!0);break;case"YYY":i=Ki(3);break;case"YYYY":i=Ki(4);break;case"M":case"L":i=$(Fe.Month,1,1);break;case"MM":case"LL":i=$(Fe.Month,2,1);break;case"MMM":i=Q(st.Months,de.Abbreviated);break;case"MMMM":i=Q(st.Months,de.Wide);break;case"MMMMM":i=Q(st.Months,de.Narrow);break;case"LLL":i=Q(st.Months,de.Abbreviated,ye.Standalone);break;case"LLLL":i=Q(st.Months,de.Wide,ye.Standalone);break;case"LLLLL":i=Q(st.Months,de.Narrow,ye.Standalone);break;case"w":i=bn(1);break;case"ww":i=bn(2);break;case"W":i=bn(1,!0);break;case"d":i=$(Fe.Date,1);break;case"dd":i=$(Fe.Date,2);break;case"c":case"cc":i=$(Fe.Day,1);break;case"ccc":i=Q(st.Days,de.Abbreviated,ye.Standalone);break;case"cccc":i=Q(st.Days,de.Wide,ye.Standalone);break;case"ccccc":i=Q(st.Days,de.Narrow,ye.Standalone);break;case"cccccc":i=Q(st.Days,de.Short,ye.Standalone);break;case"E":case"EE":case"EEE":i=Q(st.Days,de.Abbreviated);break;case"EEEE":i=Q(st.Days,de.Wide);break;case"EEEEE":i=Q(st.Days,de.Narrow);break;case"EEEEEE":i=Q(st.Days,de.Short);break;case"a":case"aa":case"aaa":i=Q(st.DayPeriods,de.Abbreviated);break;case"aaaa":i=Q(st.DayPeriods,de.Wide);break;case"aaaaa":i=Q(st.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":i=Q(st.DayPeriods,de.Abbreviated,ye.Standalone,!0);break;case"bbbb":i=Q(st.DayPeriods,de.Wide,ye.Standalone,!0);break;case"bbbbb":i=Q(st.DayPeriods,de.Narrow,ye.Standalone,!0);break;case"B":case"BB":case"BBB":i=Q(st.DayPeriods,de.Abbreviated,ye.Format,!0);break;case"BBBB":i=Q(st.DayPeriods,de.Wide,ye.Format,!0);break;case"BBBBB":i=Q(st.DayPeriods,de.Narrow,ye.Format,!0);break;case"h":i=$(Fe.Hours,1,-12);break;case"hh":i=$(Fe.Hours,2,-12);break;case"H":i=$(Fe.Hours,1);break;case"HH":i=$(Fe.Hours,2);break;case"m":i=$(Fe.Minutes,1);break;case"mm":i=$(Fe.Minutes,2);break;case"s":i=$(Fe.Seconds,1);break;case"ss":i=$(Fe.Seconds,2);break;case"S":i=$(Fe.FractionalSeconds,1);break;case"SS":i=$(Fe.FractionalSeconds,2);break;case"SSS":i=$(Fe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=ie(tn.Short);break;case"ZZZZZ":i=ie(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=ie(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=ie(tn.Long);break;default:return null}return Ot[r]=i,i}(I);T+=x?x(o,n,C):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function To(r,i,n){const s=new Date(0);return s.setFullYear(r,i,n),s.setHours(0,0,0),s}function Ms(r,i){const n=function(r){return(0,c.cg1)(r)[c.wAp.LocaleId]}(r);if(Bt[n]=Bt[n]||{},Bt[n][i])return Bt[n][i];let s="";switch(i){case"shortDate":s=Ir(r,he.Short);break;case"mediumDate":s=Ir(r,he.Medium);break;case"longDate":s=Ir(r,he.Long);break;case"fullDate":s=Ir(r,he.Full);break;case"shortTime":s=on(r,he.Short);break;case"mediumTime":s=on(r,he.Medium);break;case"longTime":s=on(r,he.Long);break;case"fullTime":s=on(r,he.Full);break;case"short":const o=Ms(r,"shortTime"),d=Ms(r,"shortDate");s=cn(fn(r,he.Short),[o,d]);break;case"medium":const f=Ms(r,"mediumTime"),_=Ms(r,"mediumDate");s=cn(fn(r,he.Medium),[f,_]);break;case"long":const C=Ms(r,"longTime"),T=Ms(r,"longDate");s=cn(fn(r,he.Long),[C,T]);break;case"full":const I=Ms(r,"fullTime"),x=Ms(r,"fullDate");s=cn(fn(r,he.Full),[I,x])}return s&&(Bt[n][i]=s),s}function cn(r,i){return i&&(r=r.replace(/\{([^}]+)}/g,function(n,s){return null!=i&&s in i?i[s]:n})),r}function ur(r,i,n="-",s,o){let d="";(r<0||o&&r<=0)&&(o?r=1-r:(r=-r,d=n));let f=String(r);for(;f.length<i;)f="0"+f;return s&&(f=f.substr(f.length-i)),d+f}function $(r,i,n=0,s=!1,o=!1){return function(d,f){let _=function(r,i){switch(r){case Fe.FullYear:return i.getFullYear();case Fe.Month:return i.getMonth();case Fe.Date:return i.getDate();case Fe.Hours:return i.getHours();case Fe.Minutes:return i.getMinutes();case Fe.Seconds:return i.getSeconds();case Fe.FractionalSeconds:return i.getMilliseconds();case Fe.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,d);if((n>0||_>-n)&&(_+=n),r===Fe.Hours)0===_&&-12===n&&(_=12);else if(r===Fe.FractionalSeconds)return function(r,i){return ur(r,3).substr(0,i)}(_,i);const C=xt(f,ee.MinusSign);return ur(_,i,C,s,o)}}function Q(r,i,n=ye.Format,s=!1){return function(o,d){return function(r,i,n,s,o,d){switch(n){case st.Months:return function(r,i,n){const s=(0,c.cg1)(r),d=ri([s[c.wAp.MonthsFormat],s[c.wAp.MonthsStandalone]],i);return ri(d,n)}(i,o,s)[r.getMonth()];case st.Days:return function(r,i,n){const s=(0,c.cg1)(r),d=ri([s[c.wAp.DaysFormat],s[c.wAp.DaysStandalone]],i);return ri(d,n)}(i,o,s)[r.getDay()];case st.DayPeriods:const f=r.getHours(),_=r.getMinutes();if(d){const T=function(r){const i=(0,c.cg1)(r);return ha(i),(i[c.wAp.ExtraData][2]||[]).map(s=>"string"==typeof s?es(s):[es(s[0]),es(s[1])])}(i),I=function(r,i,n){const s=(0,c.cg1)(r);ha(s);const d=ri([s[c.wAp.ExtraData][0],s[c.wAp.ExtraData][1]],i)||[];return ri(d,n)||[]}(i,o,s),x=T.findIndex(L=>{if(Array.isArray(L)){const[V,Y]=L,se=f>=V.hours&&_>=V.minutes,ve=f<Y.hours||f===Y.hours&&_<Y.minutes;if(V.hours<Y.hours){if(se&&ve)return!0}else if(se||ve)return!0}else if(L.hours===f&&L.minutes===_)return!0;return!1});if(-1!==x)return I[x]}return function(r,i,n){const s=(0,c.cg1)(r),d=ri([s[c.wAp.DayPeriodsFormat],s[c.wAp.DayPeriodsStandalone]],i);return ri(d,n)}(i,o,s)[f<12?0:1];case st.Eras:return function(r,i){return ri((0,c.cg1)(r)[c.wAp.Eras],i)}(i,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,d,r,i,n,s)}}function ie(r){return function(i,n,s){const o=-1*s,d=xt(n,ee.MinusSign),f=o>0?Math.floor(o/60):Math.ceil(o/60);switch(r){case tn.Short:return(o>=0?"+":"")+ur(f,2,d)+ur(Math.abs(o%60),2,d);case tn.ShortGMT:return"GMT"+(o>=0?"+":"")+ur(f,1,d);case tn.Long:return"GMT"+(o>=0?"+":"")+ur(f,2,d)+":"+ur(Math.abs(o%60),2,d);case tn.Extended:return 0===s?"Z":(o>=0?"+":"")+ur(f,2,d)+":"+ur(Math.abs(o%60),2,d);default:throw new Error(`Unknown zone width "${r}"`)}}}function dn(r){return To(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))}function bn(r,i=!1){return function(n,s){let o;if(i){const d=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,f=n.getDate();o=1+Math.floor((f+d)/7)}else{const d=dn(n),f=function(r){const i=To(r,0,1).getDay();return To(r,0,1+(i<=4?4:11)-i)}(d.getFullYear()),_=d.getTime()-f.getTime();o=1+Math.round(_/6048e5)}return ur(o,r,xt(s,ee.MinusSign))}}function Ki(r,i=!1){return function(n,s){return ur(dn(n).getFullYear(),r,xt(s,ee.MinusSign),i)}}const Ot={};function dr(r,i){r=r.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(n)?i:n}function zu(r){return r instanceof Date&&!isNaN(r.valueOf())}class Rr{}let pc=(()=>{class r extends Rr{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(zs(s||this.locale)(n)){case ue.Zero:return"zero";case ue.One:return"one";case ue.Two:return"two";case ue.Few:return"few";case ue.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.soG))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();let fr=(()=>{class r{constructor(n,s,o,d){this._iterableDiffers=n,this._keyValueDiffers=s,this._ngEl=o,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),n.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),n.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!0)):Object.keys(n).forEach(s=>this._toggleClass(s,!!n[s])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(s=>this._toggleClass(s,!1)):Object.keys(n).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(n,s){(n=n.trim())&&n.split(/\s+/g).forEach(o=>{s?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class is{constructor(i,n,s,o){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nt=(()=>{class r{constructor(n,s,o){this._viewContainer=n,this._template=s,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((o,d,f)=>{if(null==o.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new is(null,this._ngForOf,-1,-1),null===f?void 0:f),C=new mc(o,_);s.push(C)}else if(null==f)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const _=this._viewContainer.get(d);this._viewContainer.move(_,f);const C=new mc(o,_);s.push(C)}});for(let o=0;o<s.length;o++)this._perViewChange(s[o].view,s[o].record);for(let o=0,d=this._viewContainer.length;o<d;o++){const f=this._viewContainer.get(o);f.context.index=o,f.context.count=d,f.context.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class mc{constructor(i,n){this.record=i,this.view=n}}let oi=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new gc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sl("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sl("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class gc{constructor(){this.$implicit=null,this.ngIf=null}}function sl(r,i){if(i&&!i.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,c.AaK)(i)}'.`)}class Ao{constructor(i,n){this._viewContainerRef=i,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}}let Ji=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const s=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(n)}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),Cn=(()=>{class r{constructor(n,s,o){this.ngSwitch=o,o._addCase(),this._view=new Ao(n,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ji,9))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),dg=(()=>{class r{constructor(n,s,o){o._addDefault(new Ao(n,s))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ji,9))},r.\u0275dir=c.lG2({type:r,selectors:[["","ngSwitchDefault",""]]}),r})();function Qn(r,i){return Error(`InvalidPipeArgument: '${i}' for pipe '${(0,c.AaK)(r)}'`)}class hg{createSubscription(i,n){return i.subscribe({next:n,error:s=>{throw s}})}dispose(i){i.unsubscribe()}onDestroy(i){i.unsubscribe()}}class Nv{createSubscription(i,n){return i.then(n,s=>{throw s})}dispose(i){}onDestroy(i){}}const Is=new Nv,oD=new hg;let yc=(()=>{class r{constructor(n){this._ref=n,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,s=>this._updateLatestValue(n,s))}_selectStrategy(n){if((0,c.QGY)(n))return Is;if((0,c.F4k)(n))return oD;throw Qn(r,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,s){n===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO,16))},r.\u0275pipe=c.Yjl({name:"async",type:r,pure:!1}),r})(),Lv=(()=>{class r{constructor(n){this.locale=n}transform(n,s="mediumDate",o,d){if(null==n||""===n||n!=n)return null;try{return ns(n,s,d||this.locale,o)}catch(f){throw Qn(r,f.message)}}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.soG,16))},r.\u0275pipe=c.Yjl({name:"date",type:r,pure:!0}),r})(),pr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:Rr,useClass:pc}]}),r})();function Zu(r){return"server"===r}let bc=(()=>{class r{}return r.\u0275prov=(0,c.Yz7)({token:r,providedIn:"root",factory:()=>new Cc((0,c.LFG)(q),window)}),r})();class Cc{constructor(i,n){this.document=i,this.window=n,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const n=function(r,i){const n=r.getElementById(i)||r.getElementsByName(i)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let o=s.currentNode;for(;o;){const d=o.shadowRoot;if(d){const f=d.getElementById(i)||d.querySelector(`[name="${i}"]`);if(f)return f}o=s.nextNode()}}return null}(this.document,i);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(i){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=i)}}scrollToElement(i){const n=i.getBoundingClientRect(),s=n.left+this.window.pageXOffset,o=n.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],o-d[1])}attemptFocus(i){return i.focus(),this.document.activeElement===i}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const i=wc(this.window.history)||wc(Object.getPrototypeOf(this.window.history));return!(!i||!i.writable&&!i.set)}catch(i){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(i){return!1}}}function wc(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class Wu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new Wu,X||(X=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(qs=qs||document.querySelector("base"),qs?qs.getAttribute("href"):null);return null==n?null:function(r){gn=gn||document.createElement("a"),gn.setAttribute("href",r);const i=gn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[o,d]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(o.trim()===i)return decodeURIComponent(d)}return null}(document.cookie,i)}}let gn,qs=null;const vg=new c.OlP("TRANSITION_ID"),Ui=[{provide:c.ip1,useFactory:function(r,i,n){return()=>{n.get(c.CZH).donePromise.then(()=>{const s=H(),o=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let d=0;d<o.length;d++)s.remove(o[d])})}},deps:[vg,q,c.zs3],multi:!0}];class Ec{static init(){(0,c.VLi)(new Ec)}addToWindow(i){c.dqk.getAngularTestability=(s,o=!0)=>{const d=i.findTestabilityInTree(s,o);if(null==d)throw new Error("Could not find testability for element.");return d},c.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(s=>{const o=c.dqk.getAllAngularTestabilities();let d=o.length,f=!1;const _=function(C){f=f||C,d--,0==d&&s(f)};o.forEach(function(C){C.whenStable(_)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const o=i.getTestability(n);return null!=o?o:s?H().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Ku=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const _a=new c.OlP("EventManagerPlugins");let Te=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,o){return this._findPluginFor(s).addEventListener(n,s,o)}addGlobalEventListener(n,s,o){return this._findPluginFor(s).addGlobalEventListener(n,s,o)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const o=this._plugins;for(let d=0;d<o.length;d++){const f=o[d];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(_a),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class It{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const o=H().getGlobalEventTarget(this._doc,i);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,s)}}let xf=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),s.add(o))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),hn=(()=>{class r extends xf{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,o){n.forEach(d=>{const f=this._doc.createElement("style");f.textContent=d,o.push(s.appendChild(f))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Rf),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,o)=>{this._addStylesToHost(n,o,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Rf))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();function Rf(r){H().remove(r)}const Zs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Pr=/%COMP%/g;function jn(r,i,n){for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?jn(r,o,n):(o=o.replace(Pr,r),n.push(o))}return n}function os(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Ws=(()=>{class r{constructor(n,s,o){this.eventManager=n,this.sharedStylesHost=s,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new gr(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(s.id);return o||(o=new Pf(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,o)),o.applyToHost(n),o}case 1:case c.ifc.ShadowDom:return new Ff(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const o=jn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Te),c.LFG(hn),c.LFG(c.AFp))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class gr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(Zs[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,o){if(o){n=o+":"+n;const d=Zs[o];d?i.setAttributeNS(d,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const o=Zs[s];o?i.removeAttributeNS(o,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,o){o&(c.JOm.DashCase|c.JOm.Important)?i.style.setProperty(n,s,o&c.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&c.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,os(s)):this.eventManager.addEventListener(i,n,os(s))}}class Pf extends gr{constructor(i,n,s,o){super(i),this.component=s;const d=jn(o+"-"+s.id,s.styles,[]);n.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(Pr,o+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(Pr,r)}(o+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class Ff extends gr{constructor(i,n,s,o){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=jn(o.id,o.styles,[]);for(let f=0;f<d.length;f++){const _=document.createElement("style");_.textContent=d[f],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Dc=(()=>{class r extends It{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,o){return n.addEventListener(s,o,!1),()=>this.removeEventListener(n,s,o)}removeEventListener(n,s,o){return n.removeEventListener(s,o)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const Tc=["alt","control","meta","shift"],Yv={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qv={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let gD=(()=>{class r extends It{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,o){const d=r.parseEventName(s),f=r.eventCallback(d.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(n,d.domEventName,f))}static parseEventName(n){const s=n.toLowerCase().split("."),o=s.shift();if(0===s.length||"keydown"!==o&&"keyup"!==o)return null;const d=r._normalizeKey(s.pop());let f="";if(Tc.forEach(C=>{const T=s.indexOf(C);T>-1&&(s.splice(T,1),f+=C+".")}),f+=d,0!=s.length||0===d.length)return null;const _={};return _.domEventName=o,_.fullKey=f,_}static getEventFullKey(n){let s="",o=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&Hi.hasOwnProperty(i)&&(i=Hi[i]))}return Yv[i]||i}(n);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Tc.forEach(d=>{d!=o&&qv[d](n)&&(s+=d+".")}),s+=o,s}static eventCallback(n,s,o){return d=>{r.getEventFullKey(d)===n&&o.runGuarded(()=>s(d))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),Fr=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:function(){return(0,c.LFG)(ml)},token:r,providedIn:"root"}),r})(),ml=(()=>{class r extends Fr{constructor(n){super(),this._doc=n}sanitize(n,s){if(null==s)return null;switch(n){case c.q3G.NONE:return s;case c.q3G.HTML:return(0,c.qzn)(s,"HTML")?(0,c.z3N)(s):(0,c.EiD)(this._doc,String(s)).toString();case c.q3G.STYLE:return(0,c.qzn)(s,"Style")?(0,c.z3N)(s):s;case c.q3G.SCRIPT:if((0,c.qzn)(s,"Script"))return(0,c.z3N)(s);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(s),(0,c.qzn)(s,"URL")?(0,c.z3N)(s):(0,c.mCW)(String(s));case c.q3G.RESOURCE_URL:if((0,c.qzn)(s,"ResourceURL"))return(0,c.z3N)(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return(0,c.JVY)(n)}bypassSecurityTrustStyle(n){return(0,c.L6k)(n)}bypassSecurityTrustScript(n){return(0,c.eBb)(n)}bypassSecurityTrustUrl(n){return(0,c.LAX)(n)}bypassSecurityTrustResourceUrl(n){return(0,c.pB0)(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=(0,c.Yz7)({factory:function(){return function(r){return new ml(r.get(q))}((0,c.LFG)(c.gxx))},token:r,providedIn:"root"}),r})();const Mc=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Wu.makeCurrent(),Ec.init()},multi:!0},{provide:q,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Hf=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:_a,useClass:Dc,multi:!0,deps:[q,c.R0b,c.Lbi]},{provide:_a,useClass:gD,multi:!0,deps:[q]},[],{provide:Ws,useClass:Ws,deps:[Te,hn,c.AFp]},{provide:c.FYo,useExisting:Ws},{provide:xf,useExisting:hn},{provide:hn,useClass:hn,deps:[q]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Te,useClass:Te,deps:[_a,c.R0b]},{provide:class{},useClass:Ku,deps:[]},[]];let jf=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:c.AFp,useValue:n.appId},{provide:vg,useExisting:c.AFp},Ui]}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(r,12))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:Hf,imports:[pr,c.hGG]}),r})();"undefined"!=typeof window&&window;class ld{}const _r="*";function Nr(r,i){return{type:7,name:r,definitions:i,options:{}}}function _i(r,i=null){return{type:4,styles:i,timings:r}}function cd(r,i=null){return{type:2,steps:r,options:i}}function Kt(r){return{type:6,styles:r,offset:null}}function tr(r,i,n){return{type:0,name:r,styles:i,options:n}}function Kv(r){return{type:5,steps:r}}function _n(r,i,n=null){return{type:1,expr:r,animation:i,options:n}}function Qv(r=null){return{type:9,options:r}}function dd(r,i,n=null){return{type:11,selector:r,animation:i,options:n}}function hd(r){Promise.resolve(null).then(r)}class Qs{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class fd{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,o=0;const d=this.players.length;0==d?hd(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++n==d&&this._onFinish()}),f.onDestroy(()=>{++s==d&&this._onDestroy()}),f.onStart(()=>{++o==d&&this._onStart()})}),this.totalTime=this.players.reduce((f,_)=>Math.max(f,_.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const o=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(o)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}function Os(){return"undefined"!=typeof window&&void 0!==window.document}function Fo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Lr(r){switch(r.length){case 0:return new Qs;case 1:return r[0];default:return new fd(r)}}function pd(r,i,n,s,o={},d={}){const f=[],_=[];let C=-1,T=null;if(s.forEach(I=>{const x=I.offset,L=x==C,V=L&&T||{};Object.keys(I).forEach(Y=>{let se=Y,ve=I[Y];if("offset"!==Y)switch(se=i.normalizePropertyName(se,f),ve){case"!":ve=o[Y];break;case _r:ve=d[Y];break;default:ve=i.normalizeStyleValue(Y,se,ve,f)}V[se]=ve}),L||_.push(V),T=V,C=x}),f.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${f.join(I)}`)}return _}function as(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&kg(n,"start",r)));break;case"done":r.onDone(()=>s(n&&kg(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&kg(n,"destroy",r)))}}function kg(r,i,n){const s=n.totalTime,d=xg(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),f=r._data;return null!=f&&(d._data=f),d}function xg(r,i,n,s,o="",d=0,f){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:o,totalTime:d,disabled:!!f}}function yr(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function Xv(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let qf=(r,i)=>!1,Zf=(r,i)=>!1,tb=(r,i,n)=>[];const ib=Fo();(ib||"undefined"!=typeof Element)&&(qf=Os()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),Zf=(()=>{if(ib||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):Zf}})(),tb=(r,i,n)=>{let s=[];if(n){const o=r.querySelectorAll(i);for(let d=0;d<o.length;d++)s.push(o[d])}else{const o=r.querySelector(i);o&&s.push(o)}return s});let _l=null,Wf=!1;function Og(r){_l||(_l=("undefined"!=typeof document?document.body:null)||{},Wf=!!_l.style&&"WebkitAppearance"in _l.style);let i=!0;return _l.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in _l.style,!i&&Wf&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in _l.style)),i}const xc=Zf,Js=qf,Fg=tb;function Rn(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let Xs=(()=>{class r{validateStyleProperty(n){return Og(n)}matchesElement(n,s){return xc(n,s)}containsElement(n,s){return Js(n,s)}query(n,s,o){return Fg(n,s,o)}computeStyle(n,s,o){return o||""}animate(n,s,o,d,f,_=[],C){return new Qs(o,d)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),Vr=(()=>{class r{}return r.NOOP=new Xs,r})();const Ur="ng-enter",eo="ng-leave",Rc="ng-trigger",yl=".ng-trigger",Vg="ng-animating",md=".ng-animating";function vl(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:bl(parseFloat(i[1]),i[2])}function bl(r,i){switch(i){case"s":return 1e3*r;default:return r}}function ai(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let o,d=0,f="";if("string"==typeof r){const _=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};o=bl(parseFloat(_[1]),_[2]);const C=_[3];null!=C&&(d=bl(parseFloat(C),_[4]));const T=_[5];T&&(f=T)}else o=r;if(!n){let _=!1,C=i.length;o<0&&(i.push("Duration values below 0 are not allowed for this animation step."),_=!0),d<0&&(i.push("Delay values below 0 are not allowed for this animation step."),_=!0),_&&i.splice(C,0,`The provided timing value "${r}" is invalid.`)}return{duration:o,delay:d,easing:f}}(r,i,n)}function vr(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function to(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else vr(r,n);return n}function gd(r,i,n){return n?i+":"+n+";":""}function _d(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=gd(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=gd(0,sb(n),r.style[n]));r.setAttribute("style",i)}function Hr(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const o=Ps(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[o]),r.style[o]=i[s]}),Fo()&&_d(r))}function wa(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=Ps(n);r.style[s]=""}),Fo()&&_d(r))}function Ea(r){return Array.isArray(r)?1==r.length?r[0]:cd(r):r}const Oc=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pc(r){let i=[];if("string"==typeof r){let n;for(;n=Oc.exec(r);)i.push(n[1]);Oc.lastIndex=0}return i}function Fc(r,i,n){const s=r.toString(),o=s.replace(Oc,(d,f)=>{let _=i[f];return i.hasOwnProperty(f)||(n.push(`Please provide a value for the animation param ${f}`),_=""),_.toString()});return o==s?r:o}function No(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const Qf=/-+([a-z0-9])/g;function Ps(r){return r.replace(Qf,(...i)=>i[1].toUpperCase())}function sb(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bg(r,i){return 0===r||0===i}function yd(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let d=i[0],f=[];if(s.forEach(_=>{d.hasOwnProperty(_)||f.push(_),d[_]=n[_]}),f.length)for(var o=1;o<i.length;o++){let _=i[o];f.forEach(function(C){_[C]=vd(r,C)})}}return i}function ji(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function vd(r,i){return window.getComputedStyle(r)[i]}function Da(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const C=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof C)return void i.push(C);r=C}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const o=s[1],d=s[2],f=s[3];i.push(Xf(o,f));"<"==d[0]&&!("*"==o&&"*"==f)&&i.push(Xf(f,o))}(s,n,i)):n.push(r),n}const yn=new Set(["true","1"]),wl=new Set(["false","0"]);function Xf(r,i){const n=yn.has(r)||wl.has(r),s=yn.has(i)||wl.has(i);return(o,d)=>{let f="*"==r||r==o,_="*"==i||i==d;return!f&&n&&"boolean"==typeof o&&(f=o?yn.has(r):wl.has(r)),!_&&s&&"boolean"==typeof d&&(_=d?yn.has(i):wl.has(i)),f&&_}}const Nc=new RegExp("s*:selfs*,?","g");function bd(r,i,n){return new Ug(r).build(i,n)}class Ug{constructor(i){this._driver=i}build(i,n){const s=new ls(n);return this._resetContextStyleTimingState(s),ji(this,Ea(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,o=n.depCount=0;const d=[],f=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(_=>{if(this._resetContextStyleTimingState(n),0==_.type){const C=_,T=C.name;T.toString().split(/\s*,\s*/).forEach(I=>{C.name=I,d.push(this.visitState(C,n))}),C.name=T}else if(1==_.type){const C=this.visitTransition(_,n);s+=C.queryCount,o+=C.depCount,f.push(C)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:d,transitions:f,queryCount:s,depCount:o,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),o=i.options&&i.options.params||null;if(s.containsDynamicStyles){const d=new Set,f=o||{};if(s.styles.forEach(_=>{if(cs(_)){const C=_;Object.keys(C).forEach(T=>{Pc(C[T]).forEach(I=>{f.hasOwnProperty(I)||d.add(I)})})}}),d.size){const _=No(d.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${_.join(", ")}`)}}return{type:0,name:i.name,style:s,options:o?{params:o}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=ji(this,Ea(i.animation),n);return{type:1,matchers:Da(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:Lo(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>ji(this,s,n)),options:Lo(i.options)}}visitGroup(i,n){const s=n.currentTime;let o=0;const d=i.steps.map(f=>{n.currentTime=s;const _=ji(this,f,n);return o=Math.max(o,n.currentTime),_});return n.currentTime=o,{type:3,steps:d,options:Lo(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return Vo(ai(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Vo(0,0,"");return d.dynamic=!0,d.strValue=s,d}return n=n||ai(s,i),Vo(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let o,d=i.styles?i.styles:Kt({});if(5==d.type)o=this.visitKeyframes(d,n);else{let f=i.styles,_=!1;if(!f){_=!0;const T={};s.easing&&(T.easing=s.easing),f=Kt(T)}n.currentTime+=s.duration+s.delay;const C=this.visitStyle(f,n);C.isEmptyStep=_,o=C}return n.currentAnimateTimings=null,{type:4,timings:s,style:o,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(f=>{"string"==typeof f?f==_r?s.push(f):n.errors.push(`The provided style string value ${f} is not allowed.`):s.push(f)}):s.push(i.styles);let o=!1,d=null;return s.forEach(f=>{if(cs(f)){const _=f,C=_.easing;if(C&&(d=C,delete _.easing),!o)for(let T in _)if(_[T].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:s,easing:d,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let o=n.currentTime,d=n.currentTime;s&&d>0&&(d-=s.duration+s.delay),i.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(_=>{if(!this._driver.validateStyleProperty(_))return void n.errors.push(`The provided animation property "${_}" is not a supported CSS property for animations`);const C=n.collectedStyles[n.currentQuerySelector],T=C[_];let I=!0;T&&(d!=o&&d>=T.startTime&&o<=T.endTime&&(n.errors.push(`The CSS property "${_}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${o}ms"`),I=!1),d=T.startTime),I&&(C[_]={startTime:d,endTime:o}),n.options&&function(r,i,n){const s=i.params||{},o=Pc(r);o.length&&o.forEach(d=>{s.hasOwnProperty(d)||n.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(f[_],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const f=[];let _=!1,C=!1,T=0;const I=i.steps.map(Le=>{const Ge=this._makeStyleAst(Le,n);let Be=null!=Ge.offset?Ge.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(cs(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(cs(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(Ge.styles),nt=0;return null!=Be&&(d++,nt=Ge.offset=Be),C=C||nt<0||nt>1,_=_||nt<T,T=nt,f.push(nt),Ge});C&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_&&n.errors.push("Please ensure that all keyframe offsets are in order");const x=i.steps.length;let L=0;d>0&&d<x?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(L=1/(x-1));const V=x-1,Y=n.currentTime,se=n.currentAnimateTimings,ve=se.duration;return I.forEach((Le,Ge)=>{const Be=L>0?Ge==V?1:L*Ge:f[Ge],nt=Be*ve;n.currentTime=Y+se.delay+nt,se.duration=nt,this._validateStyleAst(Le,n),Le.offset=Be,s.styles.push(Le)}),s}visitReference(i,n){return{type:8,animation:ji(this,Ea(i.animation),n),options:Lo(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:Lo(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:Lo(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,o=i.options||{};n.queryCount++,n.currentQuery=i;const[d,f]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(Nc,"")),[r=r.replace(/@\*/g,yl).replace(/@\w+/g,n=>yl+"-"+n.substr(1)).replace(/:animating/g,md),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+d:d,yr(n.collectedStyles,n.currentQuerySelector,{});const _=ji(this,Ea(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:d,limit:o.limit||0,optional:!!o.optional,includeSelf:f,animation:_,originalSelector:i.selector,options:Lo(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:ai(i.timings,n.errors,!0);return{type:12,animation:ji(this,Ea(i.animation),n),timings:s,options:null}}}class ls{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cs(r){return!Array.isArray(r)&&"object"==typeof r}function Lo(r){return r?(r=vr(r)).params&&(r.params=function(r){return r?vr(r):null}(r.params)):r={},r}function Vo(r,i,n){return{duration:r,delay:i,easing:n}}function Dl(r,i,n,s,o,d,f=null,_=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:o,delay:d,totalTime:o+d,easing:f,subTimeline:_}}class Vc{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Sl=new RegExp(":enter","g"),lb=new RegExp(":leave","g");function jg(r,i,n,s,o,d={},f={},_,C,T=[]){return(new wd).buildKeyframes(r,i,n,s,o,d,f,_,C,T)}class wd{buildKeyframes(i,n,s,o,d,f,_,C,T,I=[]){T=T||new Vc;const x=new Gg(i,n,T,o,d,I,[]);x.options=C,x.currentTimeline.setStyles([f],null,x.errors,C),ji(this,s,x);const L=x.timelines.filter(V=>V.containsAnimation());if(L.length&&Object.keys(_).length){const V=L[L.length-1];V.allowOnlyTimelineStyles()||V.setStyles([_],null,x.errors,C)}return L.length?L.map(V=>V.buildKeyframes()):[Dl(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const o=n.createSubContext(i.options),d=n.currentTimeline.currentTime,f=this._visitSubInstructions(s,o,o.options);d!=f&&n.transformIntoNewTimeline(f)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let d=n.currentTimeline.currentTime;const f=null!=s.duration?vl(s.duration):null,_=null!=s.delay?vl(s.delay):null;return 0!==f&&i.forEach(C=>{const T=n.appendInstructionToTimeline(C,f,_);d=Math.max(d,T.duration+T.delay)}),d}visitReference(i,n){n.updateOptions(i.options,!0),ji(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let o=n;const d=i.options;if(d&&(d.params||d.delay)&&(o=n.createSubContext(d),o.transformIntoNewTimeline(),null!=d.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Ed);const f=vl(d.delay);o.delayNextStep(f)}i.steps.length&&(i.steps.forEach(f=>ji(this,f,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>s&&o.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let o=n.currentTimeline.currentTime;const d=i.options&&i.options.delay?vl(i.options.delay):0;i.steps.forEach(f=>{const _=n.createSubContext(i.options);d&&_.delayNextStep(d),ji(this,f,_),o=Math.max(o,_.currentTimeline.currentTime),s.push(_.currentTimeline)}),s.forEach(f=>n.currentTimeline.mergeTimelineCollectedStyles(f)),n.transformIntoNewTimeline(o),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return ai(n.params?Fc(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),o=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),o.snapshotCurrentStyles());const d=i.style;5==d.type?this.visitKeyframes(d,n):(n.incrementTime(s.duration),this.visitStyle(d,n),o.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,o=n.currentAnimateTimings;!o&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=o&&o.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(d):s.setStyles(i.styles,d,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,o=n.currentTimeline.duration,d=s.duration,_=n.createSubContext().currentTimeline;_.easing=s.easing,i.styles.forEach(C=>{_.forwardTime((C.offset||0)*d),_.setStyles(C.styles,C.easing,n.errors,n.options),_.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(_),n.transformIntoNewTimeline(o+d),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,o=i.options||{},d=o.delay?vl(o.delay):0;d&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ed);let f=s;const _=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!o.optional,n.errors);n.currentQueryTotal=_.length;let C=null;_.forEach((T,I)=>{n.currentQueryIndex=I;const x=n.createSubContext(i.options,T);d&&x.delayNextStep(d),T===n.element&&(C=x.currentTimeline),ji(this,i.animation,x),x.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,x.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(f),C&&(n.currentTimeline.mergeTimelineCollectedStyles(C),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,o=n.currentTimeline,d=i.timings,f=Math.abs(d.duration),_=f*(n.currentQueryTotal-1);let C=f*n.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":C=_-C;break;case"full":C=s.currentStaggerTime}const I=n.currentTimeline;C&&I.delayNextStep(C);const x=I.currentTime;ji(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=o.currentTime-x+(o.startTime-s.currentTimeline.startTime)}}const Ed={};class Gg{constructor(i,n,s,o,d,f,_,C){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=o,this._leaveClassName=d,this.errors=f,this.timelines=_,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ed,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new Dd(this._driver,n,0),_.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let o=this.options;null!=s.duration&&(o.duration=vl(s.duration)),null!=s.delay&&(o.delay=vl(s.delay));const d=s.params;if(d){let f=o.params;f||(f=this.options.params={}),Object.keys(d).forEach(_=>{(!n||!f.hasOwnProperty(_))&&(f[_]=Fc(d[_],f,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(o=>{s[o]=n[o]})}}return i}createSubContext(i=null,n,s){const o=n||this.element,d=new Gg(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(i),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(i){return this.previousNode=Ed,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const o={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},d=new cb(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,o,i.stretchStartingKeyframe);return this.timelines.push(d),o}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,o,d,f){let _=[];if(o&&_.push(this.element),i.length>0){i=(i=i.replace(Sl,"."+this._enterClassName)).replace(lb,"."+this._leaveClassName);let T=this._driver.query(this.element,i,1!=s);0!==s&&(T=s<0?T.slice(T.length+s,T.length):T.slice(0,s)),_.push(...T)}return!d&&0==_.length&&f.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),_}}class Dd{constructor(i,n,s,o){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new Dd(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||_r,this._currentKeyframe[n]=_r}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,o){n&&(this._previousKeyframe.easing=n);const d=o&&o.params||{},f=function(r,i){const n={};let s;return r.forEach(o=>{"*"===o?(s=s||Object.keys(i),s.forEach(d=>{n[d]=_r})):to(o,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(f).forEach(_=>{const C=Fc(f[_],d,s);this._pendingStyles[_]=C,this._localTimelineStyles.hasOwnProperty(_)||(this._backFill[_]=this._globalTimelineStyles.hasOwnProperty(_)?this._globalTimelineStyles[_]:_r),this._updateStyle(_,C)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],o=i._styleSummary[n];(!s||o.time>s.time)&&this._updateStyle(n,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((_,C)=>{const T=to(_,!0);Object.keys(T).forEach(I=>{const x=T[I];"!"==x?i.add(I):x==_r&&n.add(I)}),s||(T.offset=C/this.duration),o.push(T)});const d=i.size?No(i.values()):[],f=n.size?No(n.values()):[];if(s){const _=o[0],C=vr(_);_.offset=0,C.offset=1,o=[_,C]}return Dl(this.element,o,d,f,this.duration,this.startTime,this.easing,!1)}}class cb extends Dd{constructor(i,n,s,o,d,f,_=!1){super(i,n,f.delay),this.keyframes=s,this.preStyleProps=o,this.postStyleProps=d,this._stretchStartingKeyframe=_,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:o}=this.timings;if(this._stretchStartingKeyframe&&n){const d=[],f=s+n,_=n/f,C=to(i[0],!1);C.offset=0,d.push(C);const T=to(i[0],!1);T.offset=zg(_),d.push(T);const I=i.length-1;for(let x=1;x<=I;x++){let L=to(i[x],!1);L.offset=zg((n+L.offset*s)/f),d.push(L)}s=f,n=0,o="",i=d}return Dl(this.element,i,this.preStyleProps,this.postStyleProps,s,n,o,!0)}}function zg(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class Bo{}class ub extends Bo{normalizePropertyName(i,n){return Ps(i)}normalizeStyleValue(i,n,s,o){let d="";const f=s.toString().trim();if(Sd[n]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const _=s.match(/^[+-]?[\d\.]+([a-z]*)$/);_&&0==_[1].length&&o.push(`Please provide a CSS unit value for ${i}:${s}`)}return f+d}}const Sd=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ep(r,i,n,s,o,d,f,_,C,T,I,x,L){return{type:0,element:r,triggerName:i,isRemovalTransition:o,fromState:n,fromStyles:d,toState:s,toStyles:f,timelines:_,queriedElements:C,preStyleProps:T,postStyleProps:I,totalTime:x,errors:L}}const jc={};class tp{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,o){return function(r,i,n,s,o){return r.some(d=>d(i,n,s,o))}(this.ast.matchers,i,n,s,o)}buildStyles(i,n,s){const o=this._stateStyles["*"],d=this._stateStyles[i],f=o?o.buildStyles(n,s):{};return d?d.buildStyles(n,s):f}build(i,n,s,o,d,f,_,C,T,I){const x=[],L=this.ast.options&&this.ast.options.params||jc,Y=this.buildStyles(s,_&&_.params||jc,x),se=C&&C.params||jc,ve=this.buildStyles(o,se,x),Le=new Set,Ge=new Map,Be=new Map,nt="void"===o,ii={params:Object.assign(Object.assign({},L),se)},Ss=I?[]:jg(i,n,this.ast.animation,d,f,Y,ve,ii,T,x);let Ts=0;if(Ss.forEach(Uu=>{Ts=Math.max(Uu.duration+Uu.delay,Ts)}),x.length)return ep(n,this._triggerName,s,o,nt,Y,ve,[],[],Ge,Be,Ts,x);Ss.forEach(Uu=>{const Hu=Uu.element,U2=yr(Ge,Hu,{});Uu.preStyleProps.forEach(cg=>U2[cg]=!0);const rD=yr(Be,Hu,{});Uu.postStyleProps.forEach(cg=>rD[cg]=!0),Hu!==n&&Le.add(Hu)});const Bu=No(Le.values());return ep(n,this._triggerName,s,o,nt,Y,ve,Ss,Bu,Ge,Be,Ts)}}class hb{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},o=vr(this.defaultParams);return Object.keys(i).forEach(d=>{const f=i[d];null!=f&&(o[d]=f)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const f=d;Object.keys(f).forEach(_=>{let C=f[_];C.length>1&&(C=Fc(C,o,n));const T=this.normalizer.normalizePropertyName(_,n);C=this.normalizer.normalizeStyleValue(_,T,C,n),s[T]=C})}}),s}}class pb{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(o=>{this.states[o.name]=new hb(o.style,o.options&&o.options.params||{},s)}),Yg(this.states,"true","1"),Yg(this.states,"false","0"),n.transitions.forEach(o=>{this.transitionFactories.push(new tp(i,o,this.states))}),this.fallbackTransition=function(r,i,n){return new tp(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,_)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,o){return this.transitionFactories.find(f=>f.match(i,n,s,o))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function Yg(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const so=new Vc;class Gc{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],o=bd(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=o}_buildPlayer(i,n,s){const o=i.element,d=pd(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(o,d,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const o=[],d=this._animations[i];let f;const _=new Map;if(d?(f=jg(this._driver,n,d,Ur,eo,{},{},s,so,o),f.forEach(I=>{const x=yr(_,I.element,{});I.postStyleProps.forEach(L=>x[L]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),f=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);_.forEach((I,x)=>{Object.keys(I).forEach(L=>{I[L]=this._driver.computeStyle(x,L,_r)})});const T=Lr(f.map(I=>{const x=_.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[i]=T,T.onDestroy(()=>this.destroy(i)),this.players.push(T),T}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,o){const d=xg(n,"","","");return as(this._getPlayer(i),s,d,o),()=>{}}command(i,n,s,o){if("register"==s)return void this.register(i,o[0]);if("create"==s)return void this.create(i,n,o[0]||{});const d=this._getPlayer(i);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(i)}}}const oo="ng-animate-queued",qg="ng-animate-disabled",Td=".ng-animate-disabled",Zg=[],Wg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ip={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class rp{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=null!=(r=s?i.value:i)?r:null,s){const d=vr(i);delete d.value,this.options=d}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(o=>{null==s[o]&&(s[o]=n[o])})}}}const Tl="void",sp=new rp(Tl);class zc{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,yi(n,this._hostClassName)}listen(i,n,s,o){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if("start"!=(r=s)&&"done"!=r)throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);var r;const d=yr(this._elementListeners,i,[]),f={name:n,phase:s,callback:o};d.push(f);const _=yr(this._engine.statesByElement,i,{});return _.hasOwnProperty(n)||(yi(i,Rc),yi(i,Rc+"-"+n),_[n]=sp),()=>{this._engine.afterFlush(()=>{const C=d.indexOf(f);C>=0&&d.splice(C,1),this._triggers[n]||delete _[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,o=!0){const d=this._getTrigger(n),f=new Gr(this.id,n,i);let _=this._engine.statesByElement.get(i);_||(yi(i,Rc),yi(i,Rc+"-"+n),this._engine.statesByElement.set(i,_={}));let C=_[n];const T=new rp(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&T.absorbOptions(C.options),_[n]=T,C||(C=sp),T.value!==Tl&&C.value===T.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let o=0;o<n.length;o++){const d=n[o];if(!i.hasOwnProperty(d)||r[d]!==i[d])return!1}return!0}(C.params,T.params)){const se=[],ve=d.matchStyles(C.value,C.params,se),Le=d.matchStyles(T.value,T.params,se);se.length?this._engine.reportError(se):this._engine.afterFlush(()=>{wa(i,ve),Hr(i,Le)})}return}const L=yr(this._engine.playersByElement,i,[]);L.forEach(se=>{se.namespaceId==this.id&&se.triggerName==n&&se.queued&&se.destroy()});let V=d.matchTransition(C.value,T.value,i,T.params),Y=!1;if(!V){if(!o)return;V=d.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:V,fromState:C,toState:T,player:f,isFallbackTransition:Y}),Y||(yi(i,oo),f.onStart(()=>{Yc(i,oo)})),f.onDone(()=>{let se=this.players.indexOf(f);se>=0&&this.players.splice(se,1);const ve=this._engine.playersByElement.get(i);if(ve){let Le=ve.indexOf(f);Le>=0&&ve.splice(Le,1)}}),this.players.push(f),L.push(f),f}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(o=>o.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,yl,!0);s.forEach(o=>{if(o[jr])return;const d=this._engine.fetchNamespacesByElement(o);d.size?d.forEach(f=>f.triggerLeaveAnimation(o,n,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(i,n,s,o){const d=this._engine.statesByElement.get(i);if(d){const f=[];if(Object.keys(d).forEach(_=>{if(this._triggers[_]){const C=this.trigger(i,_,Tl,o);C&&f.push(C)}}),f.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&Lr(f).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const o=new Set;n.forEach(d=>{const f=d.name;if(o.has(f))return;o.add(f);const C=this._triggers[f].fallbackTransition,T=s[f]||sp,I=new rp(Tl),x=new Gr(this.id,f,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:f,transition:C,fromState:T,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let o=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(i):[];if(d&&d.length)o=!0;else{let f=i;for(;f=f.parentNode;)if(s.statesByElement.get(f)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(i),o)s.markElementAsRemoved(this.id,i,!1,n);else{const d=i[jr];(!d||d===Wg)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){yi(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const o=s.player;if(o.destroyed)return;const d=s.element,f=this._elementListeners.get(d);f&&f.forEach(_=>{if(_.name==s.triggerName){const C=xg(d,s.triggerName,s.fromState.value,s.toState.value);C._data=i,as(s.player,_.phase,C,_.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):n.push(s)}),this._queue=[],n.sort((s,o)=>{const d=s.transition.ast.depCount,f=o.transition.ast.depCount;return 0==d||0==f?d-f:this._engine.driver.containsElement(s.element,o.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class Kg{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,d)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new zc(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let o=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,n)){this._namespaceList.splice(d+1,0,i),o=!0;break}o||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let o=this._namespaceLookup[i];o&&o.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const o=this._namespaceList.indexOf(s);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const o=Object.keys(s);for(let d=0;d<o.length;d++){const f=s[o[d]].namespaceId;if(f){const _=this._fetchNamespace(f);_&&n.add(_)}}}return n}trigger(i,n,s,o){if(Ta(n)){const d=this._fetchNamespace(i);if(d)return d.trigger(n,s,o),!0}return!1}insertNode(i,n,s,o){if(!Ta(n))return;const d=n[jr];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const f=this.collectedLeaveElements.indexOf(n);f>=0&&this.collectedLeaveElements.splice(f,1)}if(i){const f=this._fetchNamespace(i);f&&f.insertNode(n,s)}o&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),yi(i,qg)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),Yc(i,qg))}removeNode(i,n,s,o){if(Ta(n)){const d=i?this._fetchNamespace(i):null;if(d?d.removeNode(n,o):this.markElementAsRemoved(i,n,!1,o),s){const f=this.namespacesByHostElement.get(n);f&&f.id!==i&&f.removeNode(n,o)}}else this._onRemovalComplete(n,o)}markElementAsRemoved(i,n,s,o){this.collectedLeaveElements.push(n),n[jr]={namespaceId:i,setForRemoval:o,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,o,d){return Ta(n)?this._fetchNamespace(i).listen(n,s,o,d):()=>{}}_buildInstruction(i,n,s,o,d){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,o,i.fromState.options,i.toState.options,n,d)}destroyInnerAnimations(i){let n=this.driver.query(i,yl,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,md,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Lr(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[jr];if(n&&n.setForRemoval){if(i[jr]=Wg,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,Td)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Td,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,o)=>this._balanceNamespaceList(s,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)yi(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let o=0;o<s.length;o++)s[o]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?Lr(n).onDone(()=>{s.forEach(o=>o())}):s.forEach(o=>o())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new Vc,o=[],d=new Map,f=[],_=new Map,C=new Map,T=new Map,I=new Set;this.disabledNodes.forEach(Ke=>{I.add(Ke);const ct=this.driver.query(Ke,".ng-animate-queued",!0);for(let Dt=0;Dt<ct.length;Dt++)I.add(ct[Dt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),V=lp(L,this.collectedEnterElements),Y=new Map;let se=0;V.forEach((Ke,ct)=>{const Dt=Ur+se++;Y.set(ct,Dt),Ke.forEach(en=>yi(en,Dt))});const ve=[],Le=new Set,Ge=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const ct=this.collectedLeaveElements[Ke],Dt=ct[jr];Dt&&Dt.setForRemoval&&(ve.push(ct),Le.add(ct),Dt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(en=>Le.add(en)):Ge.add(ct))}const Be=new Map,nt=lp(L,Array.from(Le));nt.forEach((Ke,ct)=>{const Dt=eo+se++;Be.set(ct,Dt),Ke.forEach(en=>yi(en,Dt))}),i.push(()=>{V.forEach((Ke,ct)=>{const Dt=Y.get(ct);Ke.forEach(en=>Yc(en,Dt))}),nt.forEach((Ke,ct)=>{const Dt=Be.get(ct);Ke.forEach(en=>Yc(en,Dt))}),ve.forEach(Ke=>{this.processLeaveNode(Ke)})});const ii=[],Ss=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(n).forEach(Dt=>{const en=Dt.player,cr=Dt.element;if(ii.push(en),this.collectedEnterElements.length){const dc=cr[jr];if(dc&&dc.setForMove)return void en.destroy()}const uc=!x||!this.driver.containsElement(x,cr),Do=Be.get(cr),yf=Y.get(cr),pi=this._buildInstruction(Dt,s,yf,Do,uc);if(pi.errors&&pi.errors.length)Ss.push(pi);else{if(uc)return en.onStart(()=>wa(cr,pi.fromStyles)),en.onDestroy(()=>Hr(cr,pi.toStyles)),void o.push(en);if(Dt.isFallbackTransition)return en.onStart(()=>wa(cr,pi.fromStyles)),en.onDestroy(()=>Hr(cr,pi.toStyles)),void o.push(en);pi.timelines.forEach(dc=>dc.stretchStartingKeyframe=!0),s.append(cr,pi.timelines),f.push({instruction:pi,player:en,element:cr}),pi.queriedElements.forEach(dc=>yr(_,dc,[]).push(en)),pi.preStyleProps.forEach((dc,sD)=>{const WI=Object.keys(dc);if(WI.length){let ug=C.get(sD);ug||C.set(sD,ug=new Set),WI.forEach(QO=>ug.add(QO))}}),pi.postStyleProps.forEach((dc,sD)=>{const WI=Object.keys(dc);let ug=T.get(sD);ug||T.set(sD,ug=new Set),WI.forEach(QO=>ug.add(QO))})}});if(Ss.length){const Ke=[];Ss.forEach(ct=>{Ke.push(`@${ct.triggerName} has failed due to:\n`),ct.errors.forEach(Dt=>Ke.push(`- ${Dt}\n`))}),ii.forEach(ct=>ct.destroy()),this.reportError(Ke)}const Ts=new Map,Bu=new Map;f.forEach(Ke=>{const ct=Ke.element;s.has(ct)&&(Bu.set(ct,ct),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,Ts))}),o.forEach(Ke=>{const ct=Ke.element;this._getPreviousPlayers(ct,!1,Ke.namespaceId,Ke.triggerName,null).forEach(en=>{yr(Ts,ct,[]).push(en),en.destroy()})});const Uu=ve.filter(Ke=>e_(Ke,C,T)),Hu=new Map;ap(Hu,this.driver,Ge,T,_r).forEach(Ke=>{e_(Ke,C,T)&&Uu.push(Ke)});const rD=new Map;V.forEach((Ke,ct)=>{ap(rD,this.driver,new Set(Ke),C,"!")}),Uu.forEach(Ke=>{const ct=Hu.get(Ke),Dt=rD.get(Ke);Hu.set(Ke,Object.assign(Object.assign({},ct),Dt))});const cg=[],H2=[],j2={};f.forEach(Ke=>{const{element:ct,player:Dt,instruction:en}=Ke;if(s.has(ct)){if(I.has(ct))return Dt.onDestroy(()=>Hr(ct,en.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(en.totalTime),void o.push(Dt);let cr=j2;if(Bu.size>1){let Do=ct;const yf=[];for(;Do=Do.parentNode;){const pi=Bu.get(Do);if(pi){cr=pi;break}yf.push(Do)}yf.forEach(pi=>Bu.set(pi,cr))}const uc=this._buildAnimation(Dt.namespaceId,en,Ts,d,rD,Hu);if(Dt.setRealPlayer(uc),cr===j2)cg.push(Dt);else{const Do=this.playersByElement.get(cr);Do&&Do.length&&(Dt.parentPlayer=Lr(Do)),o.push(Dt)}}else wa(ct,en.fromStyles),Dt.onDestroy(()=>Hr(ct,en.toStyles)),H2.push(Dt),I.has(ct)&&o.push(Dt)}),H2.forEach(Ke=>{const ct=d.get(Ke.element);if(ct&&ct.length){const Dt=Lr(ct);Ke.setRealPlayer(Dt)}}),o.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<ve.length;Ke++){const ct=ve[Ke],Dt=ct[jr];if(Yc(ct,eo),Dt&&Dt.hasAnimation)continue;let en=[];if(_.size){let uc=_.get(ct);uc&&uc.length&&en.push(...uc);let Do=this.driver.query(ct,md,!0);for(let yf=0;yf<Do.length;yf++){let pi=_.get(Do[yf]);pi&&pi.length&&en.push(...pi)}}const cr=en.filter(uc=>!uc.destroyed);cr.length?vD(this,ct,cr):this.processLeaveNode(ct)}return ve.length=0,cg.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const ct=this.players.indexOf(Ke);this.players.splice(ct,1)}),Ke.play()}),cg}elementContainsData(i,n){let s=!1;const o=n[jr];return o&&o.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,o,d){let f=[];if(n){const _=this.playersByQueriedElement.get(i);_&&(f=_)}else{const _=this.playersByElement.get(i);if(_){const C=!d||d==Tl;_.forEach(T=>{T.queued||!C&&T.triggerName!=o||f.push(T)})}}return(s||o)&&(f=f.filter(_=>!(s&&s!=_.namespaceId||o&&o!=_.triggerName))),f}_beforeAnimationBuild(i,n,s){const d=n.element,f=n.isRemovalTransition?void 0:i,_=n.isRemovalTransition?void 0:n.triggerName;for(const C of n.timelines){const T=C.element,I=T!==d,x=yr(s,T,[]);this._getPreviousPlayers(T,I,f,_,n.toState).forEach(V=>{const Y=V.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),V.destroy(),x.push(V)})}wa(d,n.fromStyles)}_buildAnimation(i,n,s,o,d,f){const _=n.triggerName,C=n.element,T=[],I=new Set,x=new Set,L=n.timelines.map(Y=>{const se=Y.element;I.add(se);const ve=se[jr];if(ve&&ve.removedBeforeQueried)return new Qs(Y.duration,Y.delay);const Le=se!==C,Ge=function(r){const i=[];return cp(r,i),i}((s.get(se)||Zg).map(Ts=>Ts.getRealPlayer())).filter(Ts=>!!Ts.element&&Ts.element===se),Be=d.get(se),nt=f.get(se),ii=pd(0,this._normalizer,0,Y.keyframes,Be,nt),Ss=this._buildPlayer(Y,ii,Ge);if(Y.subTimeline&&o&&x.add(se),Le){const Ts=new Gr(i,_,se);Ts.setRealPlayer(Ss),T.push(Ts)}return Ss});T.forEach(Y=>{yr(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const o=s.indexOf(n);s.splice(o,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,Y.element,Y))}),I.forEach(Y=>yi(Y,Vg));const V=Lr(L);return V.onDestroy(()=>{I.forEach(Y=>Yc(Y,Vg)),Hr(C,n.toStyles)}),x.forEach(Y=>{yr(o,Y,[]).push(V)}),V}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new Qs(i.duration,i.delay)}}class Gr{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new Qs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>as(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){yr(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function Ta(r){return r&&1===r.nodeType}function yb(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function ap(r,i,n,s,o){const d=[];n.forEach(C=>d.push(yb(C)));const f=[];s.forEach((C,T)=>{const I={};C.forEach(x=>{const L=I[x]=i.computeStyle(T,x,o);(!L||0==L.length)&&(T[jr]=ip,f.push(T))}),r.set(T,I)});let _=0;return n.forEach(C=>yb(C,d[_++])),f}function lp(r,i){const n=new Map;if(r.forEach(_=>n.set(_,[])),0==i.length)return n;const o=new Set(i),d=new Map;function f(_){if(!_)return 1;let C=d.get(_);if(C)return C;const T=_.parentNode;return C=n.has(T)?T:o.has(T)?1:f(T),d.set(_,C),C}return i.forEach(_=>{const C=f(_);1!==C&&n.get(C).push(_)}),n}const Ml="$$classes";function yi(r,i){if(r.classList)r.classList.add(i);else{let n=r[Ml];n||(n=r[Ml]={}),n[i]=!0}}function Yc(r,i){if(r.classList)r.classList.remove(i);else{let n=r[Ml];n&&delete n[i]}}function vD(r,i,n){Lr(n).onDone(()=>r.processLeaveNode(i))}function cp(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof fd?cp(s.players,i):i.push(s)}}function e_(r,i,n){const s=n.get(r);if(!s)return!1;let o=i.get(r);return o?s.forEach(d=>o.add(d)):i.set(r,s),n.delete(r),!0}class Md{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(o,d)=>{},this._transitionEngine=new Kg(i,n,s),this._timelineEngine=new Gc(i,n,s),this._transitionEngine.onRemovalComplete=(o,d)=>this.onRemovalComplete(o,d)}registerTrigger(i,n,s,o,d){const f=i+"-"+o;let _=this._triggerCache[f];if(!_){const C=[],T=bd(this._driver,d,C);if(C.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);_=function(r,i,n){return new pb(r,i,n)}(o,T,this._normalizer),this._triggerCache[f]=_}this._transitionEngine.registerTrigger(n,o,_)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,o){this._transitionEngine.insertNode(i,n,s,o)}onRemove(i,n,s,o){this._transitionEngine.removeNode(i,n,o||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,o){if("@"==s.charAt(0)){const[d,f]=Xv(s);this._timelineEngine.command(d,n,f,o)}else this._transitionEngine.trigger(i,n,s,o)}listen(i,n,s,o,d){if("@"==s.charAt(0)){const[f,_]=Xv(s);return this._timelineEngine.listen(f,n,_,d)}return this._transitionEngine.listen(i,n,s,o,d)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function up(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=Id(i[0]),i.length>1&&(s=Id(i[i.length-1]))):i&&(n=Id(i)),n||s?new Ma(r,n,s):null}let Ma=(()=>{class r{constructor(n,s,o){this._element=n,this._startStyles=s,this._endStyles=o,this._state=0;let d=r.initialStylesByElement.get(n);d||r.initialStylesByElement.set(n,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Hr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hr(this._element,this._initialStyles),this._endStyles&&(Hr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(wa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wa(this._element,this._endStyles),this._endStyles=null),Hr(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function Id(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const o=n[s];Ad(o)&&(i=i||{},i[o]=r[o])}return i}function Ad(r){return"display"===r||"position"===r}const wn="animation",t_="animationend";class kd{constructor(i,n,s,o,d,f,_){this._element=i,this._name=n,this._duration=s,this._delay=o,this._easing=d,this._fillMode=f,this._onDoneFn=_,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(r,i){const n=hp(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),Ia(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){qc(this._element,this._name,"paused")}resume(){qc(this._element,this._name,"running")}setPosition(i){const n=i_(this._element,this._name);this._position=i*this._duration,Ia(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=hp(r,"").split(","),o=Zc(s,i);o>=0&&(s.splice(o,1),Ia(r,"",s.join(",")))}(this._element,this._name))}}function qc(r,i,n){Ia(r,"PlayState",n,i_(r,i))}function i_(r,i){const n=hp(r,"");return n.indexOf(",")>0?Zc(n.split(","),i):Zc([n],i)}function Zc(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function nr(r,i,n){n?r.removeEventListener(t_,i):r.addEventListener(t_,i)}function Ia(r,i,n,s){const o=wn+i;if(null!=s){const d=r.style[o];if(d.length){const f=d.split(",");f[s]=n,n=f.join(",")}}r.style[o]=n}function hp(r,i){return r.style[wn+i]||""}class fp{constructor(i,n,s,o,d,f,_,C){this.element=i,this.keyframes=n,this.animationName=s,this._duration=o,this._delay=d,this._finalStyles=_,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=o+d,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kd(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:vd(this.element,s))})}this.currentSnapshot=i}}class pp extends Qs{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=Rn(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class Qc{constructor(){this._count=0}validateStyleProperty(i){return Og(i)}matchesElement(i,n){return xc(i,n)}containsElement(i,n){return Js(i,n)}query(i,n,s){return Fg(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(_=>Rn(_));let o=`@keyframes ${n} {\n`,d="";s.forEach(_=>{d=" ";const C=parseFloat(_.offset);o+=`${d}${100*C}% {\n`,d+=" ",Object.keys(_).forEach(T=>{const I=_[T];switch(T){case"offset":return;case"easing":return void(I&&(o+=`${d}animation-timing-function: ${I};\n`));default:return void(o+=`${d}${T}: ${I};\n`)}}),o+=`${d}}\n`}),o+="}\n";const f=document.createElement("style");return f.textContent=o,f}animate(i,n,s,o,d,f=[],_){const C=f.filter(ve=>ve instanceof fp),T={};Bg(s,o)&&C.forEach(ve=>{let Le=ve.currentSnapshot;Object.keys(Le).forEach(Ge=>T[Ge]=Le[Ge])});const I=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(o=>{"offset"==o||"easing"==o||(i[o]=s[o])})}),i}(n=yd(i,n,T));if(0==s)return new pp(i,I);const x="gen_css_kf_"+this._count++,L=this.buildKeyframeElement(i,x,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(L);const Y=up(i,n),se=new fp(i,n,x,s,o,d,I,Y);return se.onDestroy(()=>{var r;(r=L).parentNode.removeChild(r)}),se}}class xd{constructor(i,n,s,o){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:vd(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class Rd{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(s_().toString()),this._cssKeyframesDriver=new Qc}validateStyleProperty(i){return Og(i)}matchesElement(i,n){return xc(i,n)}containsElement(i,n){return Js(i,n)}query(i,n,s){return Fg(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,o,d,f=[],_){if(!_&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,o,d,f);const I={duration:s,delay:o,fill:0==o?"both":"forwards"};d&&(I.easing=d);const x={},L=f.filter(Y=>Y instanceof xd);Bg(s,o)&&L.forEach(Y=>{let se=Y.currentSnapshot;Object.keys(se).forEach(ve=>x[ve]=se[ve])});const V=up(i,n=yd(i,n=n.map(Y=>to(Y,!1)),x));return new xd(i,n,I,V)}}function s_(){return Os()&&Element.prototype.animate||{}}let ao=(()=>{class r extends ld{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(n)?cd(n):n;return Pd(this._renderer,null,s,"register",[o]),new Il(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.FYo),c.LFG(q))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class Il extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new Od(this._id,i,n||{},this._renderer)}}class Od{constructor(i,n,s,o){this.id=i,this.element=n,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return Pd(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function Pd(r,i,n,s,o){return r.setProperty(i,`@@${n}:${s}`,o)}const Db="@.disabled";let o_=(()=>{class r{constructor(n,s,o){this.delegate=n,this.engine=s,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,f)=>{f&&f.parentNode(d)&&f.removeChild(d.parentNode,d)}}createRenderer(n,s){const d=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let I=this._rendererCache.get(d);return I||(I=new Jc("",d,this.engine),this._rendererCache.set(d,I)),I}const f=s.id,_=s.id+"-"+this._currentId;this._currentId++,this.engine.register(_,n);const C=I=>{Array.isArray(I)?I.forEach(C):this.engine.registerTrigger(f,_,n,I.name,I)};return s.data.animation.forEach(C),new Sb(this,_,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,o){n>=0&&n<this._microtaskId?this._zone.run(()=>s(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[f,_]=d;f(_)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.FYo),c.LFG(Md),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();class Jc{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?o=>n.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,o=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,o)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,o){this.delegate.setAttribute(i,n,s,o)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,o){this.delegate.setStyle(i,n,s,o)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==Db?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class Sb extends Jc{constructor(i,n,s,o){super(n,s,o),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==Db?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const o=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let d=n.substr(1),f="";return"@"!=d.charAt(0)&&([d,f]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(d)),this.engine.listen(this.namespaceId,o,d,f,_=>{this.factory.scheduleListenerCallback(_._data||-1,s,_)})}return this.delegate.listen(i,n,s)}}let v=(()=>{class r extends Md{constructor(n,s,o){super(n.body,s,o)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q),c.LFG(Vr),c.LFG(Bo))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const K=new c.OlP("AnimationModuleType"),pe=[{provide:ld,useClass:ao},{provide:Bo,useFactory:function(){return new ub}},{provide:Md,useClass:v},{provide:c.FYo,useFactory:function(r,i,n){return new o_(r,i,n)},deps:[Ws,Md,c.R0b]}],ke=[{provide:Vr,useFactory:function(){return"function"==typeof s_()?new Rd:new Qc}},{provide:K,useValue:"BrowserAnimations"},...pe],ze=[{provide:Vr,useClass:Xs},{provide:K,useValue:"NoopAnimations"},...pe];let ft=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?ze:ke}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:ke,imports:[jf]}),r})();var nn=N(8939),Mi=N(3637),ln=N(7574),En=N(4402),Ue=N(5917),Jn=N(9126),Fs=N(3282);function Fd(...r){return(0,Fs.J)(1)((0,Ue.of)(...r))}var Nd=N(4869);function Qt(...r){const i=r[r.length-1];return(0,Nd.K)(i)?(r.pop(),n=>Fd(r,n,i)):n=>Fd(r,n)}var Ii=N(7393);function Cr(){return r=>r.lift(new Xc)}class Xc{call(i,n){return n.subscribe(new _p(i))}}class _p extends Ii.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}var Je=N(8002);function Ld(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new yp(r,i,n))}}class yp{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new bD(i,this.accumulator,this.seed,this.hasSeed))}}class bD extends Ii.L{constructor(i,n,s,o){super(i),this.accumulator=n,this._seed=s,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(o){this.destination.error(o)}this.seed=s,this.destination.next(s)}}function Vd(r,i){return n=>n.lift(new Tb(r,i))}class Tb{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new Mb(i,this.compare,this.keySelector))}}class Mb extends Ii.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:o}=this;n=o?o(i):i}catch(o){return this.destination.error(o)}let s=!1;if(this.hasKey)try{const{compare:o}=this;s=o(this.key,n)}catch(o){return this.destination.error(o)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}function qt(r,i){return function(s){return s.lift(new XO(r,i))}}class XO{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new Bd(i,this.predicate,this.thisArg))}}class Bd extends Ii.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}N(670);var je,wD=N(4486),we=N(8239),vp=N(5452),ED=N(6034),eu=N(5601),Jt=N(3854),XI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Aa={},a_=a_||{},yt=XI||self;function bp(){}function Cp(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function wp(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var l_="closure_uid_"+(1e9*Math.random()>>>0),DD=0;function tu(r,i,n){return r.call.apply(r.bind,arguments)}function SD(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,s),r.apply(i,o)}}return function(){return r.apply(i,arguments)}}function Ai(r,i,n){return(Ai=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tu:SD).apply(null,arguments)}function c_(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function li(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,o,d){for(var f=Array(arguments.length-2),_=2;_<arguments.length;_++)f[_-2]=arguments[_];return i.prototype[o].apply(s,f)}}function kl(){this.s=this.s,this.o=this.o}var MD={};kl.prototype.s=!1,kl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,l_)&&r[l_]||(r[l_]=++DD)}(this);delete MD[r]}},kl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ib=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},u_=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){const s=r.length,o="string"==typeof r?r.split(""):r;for(let d=0;d<s;d++)d in o&&i.call(n,o[d],d,r)};function Ep(r){return Array.prototype.concat.apply([],arguments)}function Ud(r){const i=r.length;if(0<i){const n=Array(i);for(let s=0;s<i;s++)n[s]=r[s];return n}return[]}function Dp(r){return/^[\s\xa0]*$/.test(r)}var bi,d_=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function rr(r,i){return-1!=r.indexOf(i)}function Sp(r,i){return r<i?-1:r>i?1:0}e:{var AD=yt.navigator;if(AD){var Ab=AD.userAgent;if(Ab){bi=Ab;break e}}bi=""}function kb(r,i,n){for(const s in r)i.call(n,r[s],s,r)}function kD(r){const i={};for(const n in r)i[n]=r[n];return i}var xb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h_(r,i){let n,s;for(let o=1;o<arguments.length;o++){for(n in s=arguments[o],s)r[n]=s[n];for(let d=0;d<xb.length;d++)n=xb[d],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function f_(r){return f_[" "](r),r}f_[" "]=bp;var Tp,r,xD=rr(bi,"Opera"),Hd=rr(bi,"Trident")||rr(bi,"MSIE"),Rb=rr(bi,"Edge"),Ob=Rb||Hd,RD=rr(bi,"Gecko")&&!(rr(bi.toLowerCase(),"webkit")&&!rr(bi,"Edge"))&&!(rr(bi,"Trident")||rr(bi,"MSIE"))&&!rr(bi,"Edge"),lo=rr(bi.toLowerCase(),"webkit")&&!rr(bi,"Edge");function OD(){var r=yt.document;return r?r.documentMode:void 0}e:{var Pb="",Fb=(r=bi,RD?/rv:([^\);]+)(\)|;)/.exec(r):Rb?/Edge\/([\d\.]+)/.exec(r):Hd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):lo?/WebKit\/(\S+)/.exec(r):xD?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Fb&&(Pb=Fb?Fb[1]:""),Hd){var Nb=OD();if(null!=Nb&&Nb>parseFloat(Pb)){Tp=String(Nb);break e}}Tp=Pb}var tA={};function PD(){return i=tA,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){let r=0;const i=d_(String(Tp)).split("."),n=d_("9").split("."),s=Math.max(i.length,n.length);for(let f=0;0==r&&f<s;f++){var o=i[f]||"",d=n[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==o[0].length&&0==d[0].length)break;r=Sp(0==o[1].length?0:parseInt(o[1],10),0==d[1].length?0:parseInt(d[1],10))||Sp(0==o[2].length,0==d[2].length)||Sp(o[2],d[2]),o=o[3],d=d[3]}while(0==r)}return 0<=r}();var i}var nA=yt.document&&Hd&&(OD()||parseInt(Tp,10))||void 0,Et=function(){if(!yt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{yt.addEventListener("test",bp,i),yt.removeEventListener("test",bp,i)}catch(n){}return r}();function Gi(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function jd(r,i){if(Gi.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(RD){e:{try{f_(i.nodeName);var o=!0;break e}catch(d){}o=!1}o||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:p_[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&jd.Z.h.call(this)}}Gi.prototype.h=function(){this.defaultPrevented=!0},li(jd,Gi);var p_={2:"touch",3:"pen",4:"mouse"};jd.prototype.h=function(){jd.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var wr="closure_listenable_"+(1e6*Math.random()|0),ND=0;function iA(r,i,n,s,o){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=o,this.key=++ND,this.ca=this.fa=!1}function Gd(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function Ns(r){this.src=r,this.g={},this.h=0}function Mp(r,i){var n=i.type;if(n in r.g){var d,s=r.g[n],o=Ib(s,i);(d=0<=o)&&Array.prototype.splice.call(s,o,1),d&&(Gd(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function m_(r,i,n,s){for(var o=0;o<r.length;++o){var d=r[o];if(!d.ca&&d.listener==i&&d.capture==!!n&&d.ia==s)return o}return-1}Ns.prototype.add=function(r,i,n,s,o){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var f=m_(r,i,s,o);return-1<f?(i=r[f],n||(i.fa=!1)):((i=new iA(i,this.src,d,!!s,o)).fa=n,r.push(i)),i};var Ip="closure_lm_"+(1e6*Math.random()|0),LD={};function Vb(r,i,n,s,o){if(s&&s.once)return Ap(r,i,n,s,o);if(Array.isArray(i)){for(var d=0;d<i.length;d++)Vb(r,i[d],n,s,o);return null}return n=Bb(n),r&&r[wr]?r.N(i,n,wp(s)?!!s.capture:!!s,o):rA(r,i,n,!1,s,o)}function rA(r,i,n,s,o,d){if(!i)throw Error("Invalid event type");var f=wp(o)?!!o.capture:!!o,_=g_(r);if(_||(r[Ip]=_=new Ns(r)),(n=_.add(i,n,s,f,d)).proxy)return n;if(s=function(){var i=oA;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)Et||(o=f),void 0===o&&(o=!1),r.addEventListener(i.toString(),s,o);else if(r.attachEvent)r.attachEvent(sA(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function Ap(r,i,n,s,o){if(Array.isArray(i)){for(var d=0;d<i.length;d++)Ap(r,i[d],n,s,o);return null}return n=Bb(n),r&&r[wr]?r.O(i,n,wp(s)?!!s.capture:!!s,o):rA(r,i,n,!0,s,o)}function kp(r,i,n,s,o){if(Array.isArray(i))for(var d=0;d<i.length;d++)kp(r,i[d],n,s,o);else s=wp(s)?!!s.capture:!!s,n=Bb(n),r&&r[wr]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=m_(d=r.g[i],n,s,o))&&(Gd(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete r.g[i],r.h--))):r&&(r=g_(r))&&(i=r.g[i.toString()],r=-1,i&&(r=m_(i,n,s,o)),(n=-1<r?i[r]:null)&&xp(n))}function xp(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[wr])Mp(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(sA(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=g_(i))?(Mp(n,r),0==n.h&&(n.src=null,i[Ip]=null)):Gd(r)}}}function sA(r){return r in LD?LD[r]:LD[r]="on"+r}function oA(r,i){if(r.ca)r=!0;else{i=new jd(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&xp(r),r=n.call(s,i)}return r}function g_(r){return(r=r[Ip])instanceof Ns?r:null}var VD="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bb(r){return"function"==typeof r?r:(r[VD]||(r[VD]=function(i){return r.handleEvent(i)}),r[VD])}function zi(){kl.call(this),this.i=new Ns(this),this.P=this,this.I=null}function ki(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Gi(i,r);else if(i instanceof Gi)i.target=i.target||r;else{var o=i;h_(i=new Gi(s,r),o)}if(o=!0,n)for(var d=n.length-1;0<=d;d--){var f=i.g=n[d];o=Rp(f,s,!0,i)&&o}if(o=Rp(f=i.g=r,s,!0,i)&&o,o=Rp(f,s,!1,i)&&o,n)for(d=0;d<n.length;d++)o=Rp(f=i.g=n[d],s,!1,i)&&o}function Rp(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var o=!0,d=0;d<i.length;++d){var f=i[d];if(f&&!f.ca&&f.capture==n){var _=f.listener,C=f.ia||f.src;f.fa&&Mp(r.i,f),o=!1!==_.call(C,s)&&o}}return o&&!s.defaultPrevented}li(zi,kl),zi.prototype[wr]=!0,zi.prototype.removeEventListener=function(r,i,n,s){kp(this,r,i,n,s)},zi.prototype.M=function(){if(zi.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)Gd(n[s]);delete r.g[i],r.h--}}this.I=null},zi.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},zi.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var Ub=yt.JSON.stringify;function Hb(){var r=lA;let i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var UD,aA=new class{constructor(r,i){this.i=r,this.j=i,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new n1,r=>r.reset());class n1{constructor(){this.next=this.g=this.h=null}set(i,n){this.h=i,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function i1(r){yt.setTimeout(()=>{throw r},0)}function BD(r,i){UD||function(){var r=yt.Promise.resolve(void 0);UD=function(){r.then(s1)}}(),HD||(UD(),HD=!0),lA.add(r,i)}var HD=!1,lA=new class{constructor(){this.h=this.g=null}add(i,n){const s=aA.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s}};function s1(){for(var r;r=Hb();){try{r.h.call(r.g)}catch(n){i1(n)}var i=aA;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}HD=!1}function jb(r,i){zi.call(this),this.h=r||1,this.g=i||yt,this.j=Ai(this.kb,this),this.l=Date.now()}function Uo(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function Op(r,i,n){if("function"==typeof r)n&&(r=Ai(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Ai(r.handleEvent,r)}return 2147483647<Number(i)?-1:yt.setTimeout(r,i||0)}function jD(r){r.g=Op(()=>{r.g=null,r.i&&(r.i=!1,jD(r))},r.j);const i=r.h;r.h=null,r.m.apply(null,i)}li(jb,zi),(je=jb.prototype).da=!1,je.S=null,je.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ki(this,"tick"),this.da&&(Uo(this),this.start()))}},je.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},je.M=function(){jb.Z.M.call(this),Uo(this),delete this.g};class GD extends kl{constructor(i,n){super(),this.m=i,this.j=n,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:jD(this)}M(){super.M(),this.g&&(yt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nu(r){kl.call(this),this.h=r,this.g={}}li(nu,kl);var Gb=[];function __(r,i,n,s){Array.isArray(n)||(n&&(Gb[0]=n.toString()),n=Gb);for(var o=0;o<n.length;o++){var d=Vb(i,n[o],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function zD(r){kb(r.g,function(i,n){this.g.hasOwnProperty(n)&&xp(i)},r),r.g={}}function co(){this.g=!0}function Pp(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var o=s[1];if(Array.isArray(o)&&!(1>o.length)){var d=o[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var f=1;f<o.length;f++)o[f]=""}}}return Ub(n)}catch(_){return i}}(r,n)+(s?" "+s:"")})}nu.prototype.M=function(){nu.Z.M.call(this),zD(this)},nu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},co.prototype.Aa=function(){this.g=!1},co.prototype.info=function(){};var xl={},YD=null;function y_(){return YD=YD||new zi}function zd(r){Gi.call(this,xl.Ma,r)}function Ho(r){const i=y_();ki(i,new zd(i,r))}function v_(r,i){Gi.call(this,xl.STAT_EVENT,r),this.stat=i}function ci(r){const i=y_();ki(i,new v_(i,r))}function $d(r,i){Gi.call(this,xl.Na,r),this.size=i}function jo(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return yt.setTimeout(function(){r()},i)}xl.Ma="serverreachability",li(zd,Gi),xl.STAT_EVENT="statevent",li(v_,Gi),xl.Na="timingevent",li($d,Gi);var b_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$b={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function C_(){}function E_(){}C_.prototype.h=null;var D_,Yd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qd(){Gi.call(this,"d")}function Yb(){Gi.call(this,"c")}function qb(){}function Zd(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new nu(this),this.P=dA,this.W=new jb(r=Ob?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zb}function Zb(){this.i=null,this.g="",this.h=!1}li(qd,Gi),li(Yb,Gi),li(qb,C_),qb.prototype.g=function(){return new XMLHttpRequest},qb.prototype.i=function(){return{}},D_=new qb;var dA=45e3,S_={},T_={};function Wb(r,i,n){r.K=1,r.v=R_(Go(i)),r.s=n,r.U=!0,$r(r,null)}function $r(r,i){r.F=Date.now(),M_(r),r.A=Go(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),KD(n.h,"t",s),r.C=0,n=r.l.H,r.h=new Zb,r.g=pC(r.l,n?i:null,!r.s),0<r.O&&(r.L=new GD(Ai(r.Ia,r,r.g),r.O)),__(r.V,r.g,"readystatechange",r.gb),i=r.H?kD(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),Ho(1),function(r,i,n,s,o,d){r.info(function(){if(r.g)if(d)for(var f="",_=d.split("&"),C=0;C<_.length;C++){var T=_[C].split("=");if(1<T.length){var I=T[0];T=T[1];var x=I.split("_");f=2<=x.length&&"type"==x[1]?f+(I+"=")+T+"&":f+(I+"=redacted&")}}else f=null;else f=d;return"XMLHTTP REQ ("+s+") [attempt "+o+"]: "+i+"\n"+n+"\n"+f})}(r.j,r.u,r.A,r.m,r.X,r.s)}function qD(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function ZD(r,i,n){let o,s=!0;for(;!r.I&&r.C<n.length;){if(o=o1(r,n),o==T_){4==i&&(r.o=4,ci(14),s=!1),Pp(r.j,r.m,null,"[Incomplete Response]");break}if(o==S_){r.o=4,ci(15),Pp(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}Pp(r.j,r.m,o,null),I_(r,o)}qD(r)&&o!=T_&&o!=S_&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,ci(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),H_(i),i.L=!0,ci(11))):(Pp(r.j,r.m,n,"[Invalid Chunked Response]"),xa(r),Fp(r))}function o1(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?T_:(n=Number(i.substring(n,s)),isNaN(n)?S_:(s+=1)+n>i.length?T_:(i=i.substr(s,n),r.C=s+n,i))}function M_(r){r.Y=Date.now()+r.P,Kb(r,r.P)}function Kb(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=jo(Ai(r.eb,r),i)}function Qb(r){r.B&&(yt.clearTimeout(r.B),r.B=null)}function Fp(r){0==r.l.G||r.I||aS(r.l,r)}function xa(r){Qb(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,Uo(r.W),zD(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function I_(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||N_(n.i,r)))if(n.I=r.N,!r.J&&N_(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(T){s=null}if(Array.isArray(s)&&3==s.length){var o=s;if(0==o[0])e:if(n.u)n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=jo(Ai(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;j_(n),eh(n)}U_(n),ci(18)}if(1>=rC(n.i)&&n.ka){try{n.ka()}catch(T){}n.ka=void 0}}else Fa(n,11)}else if((r.J||n.g==r)&&j_(n),!Dp(i))for(o=n.Ca.g.parse(i),i=0;i<o.length;i++){let T=o[i];if(n.U=T[0],T=T[1],2==n.G)if("c"==T[0]){n.J=T[1],n.la=T[2];const I=T[3];null!=I&&(n.ma=I,n.h.info("VER="+n.ma));const x=T[4];null!=x&&(n.za=x,n.h.info("SVER="+n.za));const L=T[5];null!=L&&"number"==typeof L&&0<L&&(n.K=s=1.5*L,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;const V=r.g;if(V){const Y=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var d=s.i;!d.g&&(rr(Y,"spdy")||rr(Y,"quic")||rr(Y,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(L_(d,d.h),d.h=null))}if(s.D){const se=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(s.sa=se,On(s.F,s.D,se))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=r;if((s=n).oa=fC(s,s.H?s.la:null,s.W),f.J){$o(s.i,f);var _=f,C=s.K;C&&_.setTimeout(C),_.B&&(Qb(_),M_(_)),s.g=f}else uC(s);0<n.l.length&&th(n)}else"stop"!=T[0]&&"close"!=T[0]||Fa(n,7);else 3==n.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Fa(n,7):vn(n):"noop"!=T[0]&&n.j&&n.j.wa(T),n.A=0)}Ho(4)}catch(T){}}function Jb(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(Cp(r)||"string"==typeof r)u_(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(Cp(r)||"string"==typeof r){n=[];for(var s=r.length,o=0;o<s;o++)n.push(o)}else for(o in n=[],s=0,r)n[s++]=o;o=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(Cp(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var d=0;d<o;d++)i.call(void 0,s[d],n&&n[d],r)}}function Wd(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Wd)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function A_(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];iu(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var o={};for(n=i=0;i<r.g.length;)iu(o,s=r.g[i])||(r.g[n++]=s,o[s]=1),i++;r.g.length=n}}function iu(r,i){return Object.prototype.hasOwnProperty.call(r,i)}(je=Zd.prototype).setTimeout=function(r){this.P=r},je.gb=function(r){r=r.target;const i=this.L;i&&3==Pa(r)?i.l():this.Ia(r)},je.Ia=function(r){try{if(r==this.g)e:{const I=Pa(this.g);var i=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||Ob||this.g&&(this.h.h||this.g.ga()||rS(this.g)))){this.I||4!=I||7==i||Ho(8==i||0>=x?3:2),Qb(this);var n=this.g.ba();this.N=n;t:if(qD(this)){var s=rS(this.g);r="";var o=s.length,d=4==Pa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xa(this),Fp(this);var f="";break t}this.h.i=new yt.TextDecoder}for(i=0;i<o;i++)this.h.h=!0,r+=this.h.i.decode(s[i],{stream:d&&i==o-1});s.splice(0,o),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==n,function(r,i,n,s,o,d,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+o+"]: "+i+"\n"+n+"\n"+d+" "+f})}(this.j,this.u,this.A,this.m,this.X,I,n),this.i){if(this.$&&!this.J){t:{if(this.g){var _,C=this.g;if((_=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dp(_)){var T=_;break t}}T=null}if(!(n=T)){this.i=!1,this.o=3,ci(12),xa(this),Fp(this);break e}Pp(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,I_(this,n)}this.U?(ZD(this,I,f),Ob&&this.i&&3==I&&(__(this.V,this.W,"tick",this.fb),this.W.start())):(Pp(this.j,this.m,f,null),I_(this,f)),4==I&&xa(this),this.i&&!this.I&&(4==I?aS(this.l,this):(this.i=!1,M_(this)))}else 400==n&&0<f.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),xa(this),Fp(this)}}}catch(I){}},je.fb=function(){if(this.g){var r=Pa(this.g),i=this.g.ga();this.C<i.length&&(Qb(this),ZD(this,r,i),this.i&&4!=r&&M_(this))}},je.cancel=function(){this.I=!0,xa(this)},je.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(Ho(3),ci(17)),xa(this),this.o=2,Fp(this)):Kb(this,this.Y-r)},(je=Wd.prototype).R=function(){A_(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},je.T=function(){return A_(this),this.g.concat()},je.get=function(r,i){return iu(this.h,r)?this.h[r]:i},je.set=function(r,i){iu(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},je.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var o=n[s],d=this.get(o);r.call(i,d,o,this)}};var Xb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ru(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof ru){this.g=void 0!==i?i:r.g,Np(this,r.j),this.s=r.s,k_(this,r.i),us(this,r.m),this.l=r.l,i=r.h;var n=new Bp;n.i=i.i,i.g&&(n.g=new Wd(i.g),n.h=i.h),x_(this,n),this.o=r.o}else r&&(n=String(r).match(Xb))?(this.g=!!i,Np(this,n[1]||"",!0),this.s=Lp(n[2]||""),k_(this,n[3]||"",!0),us(this,n[4]),this.l=Lp(n[5]||"",!0),x_(this,n[6]||"",!0),this.o=Lp(n[7]||"")):(this.g=!!i,this.h=new Bp(null,this.g))}function Go(r){return new ru(r)}function Np(r,i,n){r.j=n?Lp(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function k_(r,i,n){r.i=n?Lp(i,!0):i}function us(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function x_(r,i,n){i instanceof Bp?(r.h=i,function(r,i){i&&!r.j&&(zo(r),r.i=null,r.g.forEach(function(n,s){var o=s.toLowerCase();s!=o&&(F_(this,s),KD(this,o,n))},r)),r.j=i}(r.h,r.g)):(n||(i=Vp(i,P_)),r.h=new Bp(i,r.g))}function On(r,i,n){r.h.set(i,n)}function R_(r){return On(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Lp(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Vp(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,pA),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function pA(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}ru.prototype.toString=function(){var r=[],i=this.j;i&&r.push(Vp(i,O_,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(Vp(i,O_,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(Vp(n,"/"==n.charAt(0)?gA:mA,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",Vp(n,eC)),r.join("")};var O_=/[#\/\?@]/g,mA=/[#\?:]/g,gA=/[#\?]/g,P_=/[#\?@]/g,eC=/#/g;function Bp(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function zo(r){r.g||(r.g=new Wd,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),o=null;if(0<=s){var d=r[n].substring(0,s);o=r[n].substring(s+1)}else d=r[n];i(d,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function F_(r,i){zo(r),i=Kd(r,i),iu(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,iu((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&A_(r)))}function tC(r,i){return zo(r),i=Kd(r,i),iu(r.g.h,i)}function KD(r,i,n){F_(r,i),0<n.length&&(r.i=null,r.g.set(Kd(r,i),Ud(n)),r.h+=n.length)}function Kd(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}function QD(r){this.l=r||JD,r=yt.PerformanceNavigationTiming?0<(r=yt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(yt.g&&yt.g.Ea&&yt.g.Ea()&&yt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(je=Bp.prototype).add=function(r,i){zo(this),this.i=null,r=Kd(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},je.forEach=function(r,i){zo(this),this.g.forEach(function(n,s){u_(n,function(o){r.call(i,o,s,this)},this)},this)},je.T=function(){zo(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var o=r[s],d=0;d<o.length;d++)n.push(i[s]);return n},je.R=function(r){zo(this);var i=[];if("string"==typeof r)tC(this,r)&&(i=Ep(i,this.g.get(Kd(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=Ep(i,r[n])}return i},je.set=function(r,i){return zo(this),this.i=null,tC(this,r=Kd(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},je.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},je.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],o=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var f=o;""!==s[d]&&(f+="="+encodeURIComponent(String(s[d]))),r.push(f)}}return this.i=r.join("&")};var JD=10;function iC(r){return!!r.h||!!r.g&&r.g.size>=r.j}function rC(r){return r.h?1:r.g?r.g.size:0}function N_(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function L_(r,i){r.g?r.g.add(i):r.h=i}function $o(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function Up(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let i=r.i;for(const n of r.g.values())i=i.concat(n.D);return i}return Ud(r.i)}function sC(){}function _A(){this.g=new sC}function c1(r,i,n){const s=n||"";try{Jb(r,function(o,d){let f=o;wp(o)&&(f=Ub(o)),i.push(s+d+"="+encodeURIComponent(f))})}catch(o){throw i.push(s+"type="+encodeURIComponent("_badmap")),o}}function Hp(r,i,n,s,o){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,o(s)}catch(d){}}function Ra(r){this.l=r.$b||null,this.j=r.ib||!1}function Rl(r,i){zi.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=oC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}QD.prototype.cancel=function(){if(this.i=Up(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},sC.prototype.stringify=function(r){return yt.JSON.stringify(r,void 0)},sC.prototype.parse=function(r){return yt.JSON.parse(r,void 0)},li(Ra,C_),Ra.prototype.g=function(){return new Rl(this.l,this.j)},Ra.prototype.i=function(r){return function(){return r}}({}),li(Rl,zi);var oC=0;function V_(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function Jd(r){r.readyState=4,r.l=null,r.j=null,r.A=null,jp(r)}function jp(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(je=Rl.prototype).open=function(r,i){if(this.readyState!=oC)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,jp(this)},je.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||yt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},je.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Jd(this)),this.readyState=oC},je.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,jp(this)),this.g&&(this.readyState=3,jp(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==yt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;V_(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},je.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?Jd(this):jp(this),3==this.readyState&&V_(this)}},je.Ua=function(r){this.g&&(this.response=this.responseText=r,Jd(this))},je.Ta=function(r){this.g&&(this.response=r,Jd(this))},je.ha=function(){this.g&&Jd(this)},je.setRequestHeader=function(r,i){this.v.append(r,i)},je.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},je.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],i=this.h.entries();for(var n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var XD=yt.JSON.parse;function ui(r){zi.call(this),this.headers=new Wd,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=B_,this.K=this.L=!1}li(ui,zi);var B_="",yA=/^https?$/i,vA=["POST","PUT"];function Xd(r){return"content-type"==r.toLowerCase()}function aC(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,tS(r),Oa(r)}function tS(r){r.D||(r.D=!0,ki(r,"complete"),ki(r,"error"))}function nS(r){if(r.h&&void 0!==a_&&(!r.C[1]||4!=Pa(r)||2!=r.ba()))if(r.v&&4==Pa(r))Op(r.Fa,0,r);else if(ki(r,"readystatechange"),4==Pa(r)){r.h=!1;try{const _=r.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var n;if(!(n=i)){var s;if(s=0===_){var o=String(r.H).match(Xb)[1]||null;if(!o&&yt.self&&yt.self.location){var d=yt.self.location.protocol;o=d.substr(0,d.length-1)}s=!yA.test(o?o.toLowerCase():"")}n=s}if(n)ki(r,"complete"),ki(r,"success");else{r.m=6;try{var f=2<Pa(r)?r.g.statusText:""}catch(C){f=""}r.j=f+" ["+r.ba()+"]",tS(r)}}finally{Oa(r)}}}function Oa(r,i){if(r.g){iS(r);const n=r.g,s=r.C[0]?bp:null;r.g=null,r.C=null,i||ki(r,"ready");try{n.onreadystatechange=s}catch(o){}}}function iS(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(yt.clearTimeout(r.A),r.A=null)}function Pa(r){return r.g?r.g.readyState:0}function rS(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case B_:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function sS(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){let i="";return kb(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):On(r,i,n))}function Gp(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function lC(r){this.za=0,this.l=[],this.h=new co,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Gp("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Gp("baseRetryDelayMs",5e3,r),this.$a=Gp("retryDelaySeedMs",1e4,r),this.Ya=Gp("forwardChannelMaxRetries",2,r),this.ra=Gp("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new QD(r&&r.concurrentRequestLimit),this.Ca=new _A,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function vn(r){if(CA(r),3==r.G){var i=r.V++,n=Go(r.F);On(n,"SID",r.J),On(n,"RID",i),On(n,"TYPE","terminate"),zp(r,n),(i=new Zd(r,r.h,i,void 0)).K=2,i.v=R_(Go(n)),n=!1,yt.navigator&&yt.navigator.sendBeacon&&(n=yt.navigator.sendBeacon(i.v.toString(),"")),!n&&yt.Image&&((new Image).src=i.v,n=!0),n||(i.g=pC(i.l,null),i.g.ea(i.v)),i.F=Date.now(),M_(i)}hC(r)}function eh(r){r.g&&(H_(r),r.g.cancel(),r.g=null)}function CA(r){eh(r),r.u&&(yt.clearTimeout(r.u),r.u=null),j_(r),r.i.cancel(),r.m&&("number"==typeof r.m&&yt.clearTimeout(r.m),r.m=null)}function uo(r,i){r.l.push(new class{constructor(r,i){this.h=r,this.g=i}}(r.Za++,i)),3==r.G&&th(r)}function th(r){iC(r.i)||r.m||(r.m=!0,BD(r.Ha,r),r.C=0)}function wA(r,i){var n;n=i?i.m:r.V++;const s=Go(r.F);On(s,"SID",r.J),On(s,"RID",n),On(s,"AID",r.U),zp(r,s),r.o&&r.s&&sS(s,r.o,r.s),n=new Zd(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=oS(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),L_(r.i,n),Wb(n,s,i)}function zp(r,i){r.j&&Jb({},function(n,s){On(i,s,n)})}function oS(r,i,n){n=Math.min(r.l.length,n);var s=r.j?Ai(r.j.Oa,r.j,r):null;e:{var o=r.l;let d=-1;for(;;){const f=["count="+n];-1==d?0<n?(d=o[0].h,f.push("ofs="+d)):d=0:f.push("ofs="+d);let _=!0;for(let C=0;C<n;C++){let T=o[C].h;const I=o[C].g;if(T-=d,0>T)d=Math.max(0,o[C].h-100),_=!1;else try{c1(I,f,"req"+T+"_")}catch(x){s&&s(I)}}if(_){s=f.join("&");break e}}}return r=r.l.splice(0,n),i.D=r,s}function uC(r){r.g||r.u||(r.Y=1,BD(r.Ga,r),r.A=0)}function U_(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=jo(Ai(r.Ga,r),nh(r,r.A)),r.A++,0))}function H_(r){null!=r.B&&(yt.clearTimeout(r.B),r.B=null)}function dC(r){r.g=new Zd(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=Go(r.oa);On(i,"RID","rpc"),On(i,"SID",r.J),On(i,"CI",r.N?"0":"1"),On(i,"AID",r.U),zp(r,i),On(i,"TYPE","xmlhttp"),r.o&&r.s&&sS(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=R_(Go(i)),n.s=null,n.U=!0,$r(n,r)}function j_(r){null!=r.v&&(yt.clearTimeout(r.v),r.v=null)}function aS(r,i){var n=null;if(r.g==i){j_(r),H_(r),r.g=null;var s=2}else{if(!N_(r.i,i))return;n=i.D,$o(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var o=r.C;ki(s=y_(),new $d(s,n,i,o)),th(r)}else uC(r);else if(3==(o=i.o)||0==o&&0<r.I||!(1==s&&function(r,i){return!(rC(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=jo(Ai(r.Ha,r,i),nh(r,r.C)),r.C++,0)))}(r,i)||2==s&&U_(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),o){case 1:Fa(r,5);break;case 4:Fa(r,10);break;case 3:Fa(r,6);break;default:Fa(r,2)}}function nh(r,i){let n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function Fa(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=Ai(r.jb,r);n||(n=new ru("//www.google.com/images/cleardot.gif"),yt.location&&"http"==yt.location.protocol||Np(n,"https"),R_(n)),function(r,i){const n=new co;if(yt.Image){const s=new Image;s.onload=c_(Hp,n,s,"TestLoadImage: loaded",!0,i),s.onerror=c_(Hp,n,s,"TestLoadImage: error",!1,i),s.onabort=c_(Hp,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=c_(Hp,n,s,"TestLoadImage: timeout",!1,i),yt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else ci(2);r.G=0,r.j&&r.j.va(i),hC(r),CA(r)}function hC(r){r.G=0,r.I=-1,r.j&&((0!=Up(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Ud(r.l),r.l.length=0),r.j.ua())}function fC(r,i,n){let s=function(r){return r instanceof ru?Go(r):new ru(r,void 0)}(n);if(""!=s.i)i&&k_(s,i+"."+s.i),us(s,s.m);else{const o=yt.location;s=function(r,i,n,s){var o=new ru(null,void 0);return r&&Np(o,r),i&&k_(o,i),n&&us(o,n),s&&(o.l=s),o}(o.protocol,i?i+"."+o.hostname:o.hostname,+o.port,n)}return r.aa&&kb(r.aa,function(o,d){On(s,d,o)}),n=r.sa,(i=r.D)&&n&&On(s,i,n),On(s,"VER",r.ma),zp(r,s),s}function pC(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new ui(n&&r.Ba&&!r.qa?new Ra({ib:!0}):r.qa)).L=r.H,i}function mC(){}function G_(){if(Hd&&!(10<=Number(nA)))throw Error("Environmental error: no available transport.")}function ds(r,i){zi.call(this),this.g=new lC(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!Dp(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Dp(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new su(this)}function lS(r){qd.call(this);var i=r.__sm__;if(i){e:{for(const n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function cS(){Yb.call(this),this.status=1}function su(r){this.g=r}(je=ui.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():D_.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:D_),this.g.onreadystatechange=Ai(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(d){return void aC(this,d)}r=n||"";const o=new Wd(this.headers);s&&Jb(s,function(d,f){o.set(f,d)}),s=function(r){e:{var i=Xd;const n=r.length,s="string"==typeof r?r.split(""):r;for(let o=0;o<n;o++)if(o in s&&i.call(void 0,s[o],o,r)){i=o;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(o.T()),n=yt.FormData&&r instanceof yt.FormData,!(0<=Ib(vA,i))||s||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(d,f){this.g.setRequestHeader(f,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iS(this),0<this.B&&((this.K=function(r){return Hd&&PD()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ai(this.pa,this)):this.A=Op(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){aC(this,d)}},je.pa=function(){void 0!==a_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},je.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,ki(this,"complete"),ki(this,"abort"),Oa(this))},je.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oa(this,!0)),ui.Z.M.call(this)},je.Fa=function(){this.s||(this.F||this.v||this.l?nS(this):this.cb())},je.cb=function(){nS(this)},je.ba=function(){try{return 2<Pa(this)?this.g.status:-1}catch(r){return-1}},je.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},je.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),XD(i)}},je.Da=function(){return this.m},je.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(je=lC.prototype).ma=8,je.G=1,je.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},je.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const o=new Zd(this,this.h,r,void 0);let d=this.s;if(this.P&&(d?(d=kD(d),h_(d,this.P)):d=this.P),null===this.o&&(o.H=d),this.ja)e:{for(var i=0,n=0;n<this.l.length;n++){var s=this.l[n];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(i+=s)){i=n;break e}if(4096===i||n===this.l.length-1){i=n+1;break e}}i=1e3}else i=1e3;i=oS(this,o,i),On(n=Go(this.F),"RID",r),On(n,"CVER",22),this.D&&On(n,"X-HTTP-Session-Id",this.D),zp(this,n),this.o&&d&&sS(n,this.o,d),L_(this.i,o),this.Ra&&On(n,"TYPE","init"),this.ja?(On(n,"$req",i),On(n,"SID","null"),o.$=!0,Wb(o,n,null)):Wb(o,n,i),this.G=2}}else 3==this.G&&(r?wA(this,r):0==this.l.length||iC(this.i)||wA(this))},je.Ga=function(){if(this.u=null,dC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=jo(Ai(this.bb,this),r)}},je.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ci(10),eh(this),dC(this))},je.ab=function(){null!=this.v&&(this.v=null,eh(this),U_(this),ci(19))},je.jb=function(r){r?(this.h.info("Successfully pinged google.com"),ci(2)):(this.h.info("Failed to ping google.com"),ci(1))},(je=mC.prototype).xa=function(){},je.wa=function(){},je.va=function(){},je.ua=function(){},je.Oa=function(){},G_.prototype.g=function(r,i){return new ds(r,i)},li(ds,zi),ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),BD(Ai(r.hb,r,i))),ci(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=fC(r,null,r.W),th(r)},ds.prototype.close=function(){vn(this.g)},ds.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,uo(this.g,i)}else this.v?((i={}).__data__=Ub(r),uo(this.g,i)):uo(this.g,r)},ds.prototype.M=function(){this.g.j=null,delete this.j,vn(this.g),delete this.g,ds.Z.M.call(this)},li(lS,qd),li(cS,Yb),li(su,mC),su.prototype.xa=function(){ki(this.g,"a")},su.prototype.wa=function(r){ki(this.g,new lS(r))},su.prototype.va=function(r){ki(this.g,new cS(r))},su.prototype.ua=function(){ki(this.g,"b")},G_.prototype.createWebChannel=G_.prototype.g,ds.prototype.send=ds.prototype.u,ds.prototype.open=ds.prototype.m,ds.prototype.close=ds.prototype.close,b_.NO_ERROR=0,b_.TIMEOUT=8,b_.HTTP_ERROR=6,$b.COMPLETE="complete",E_.EventType=Yd,Yd.OPEN="a",Yd.CLOSE="b",Yd.ERROR="c",Yd.MESSAGE="d",zi.prototype.listen=zi.prototype.N,ui.prototype.listenOnce=ui.prototype.O,ui.prototype.getLastError=ui.prototype.La,ui.prototype.getLastErrorCode=ui.prototype.Da,ui.prototype.getStatus=ui.prototype.ba,ui.prototype.getResponseJson=ui.prototype.Qa,ui.prototype.getResponseText=ui.prototype.ga,ui.prototype.send=ui.prototype.ea;var u1=Aa.createWebChannelTransport=function(){return new G_},uS=Aa.getStatEventTarget=function(){return y_()},gC=Aa.ErrorCode=b_,EA=Aa.EventType=$b,d1=Aa.Event=xl,DA=Aa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_C=Aa.FetchXmlHttpFactory=Ra,z_=Aa.WebChannel=E_,dS=Aa.XhrIo=ui;class xi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let $p="9.1.0";const Ri=new eu.Yd("@firebase/firestore");function hS(){return Ri.logLevel}function Pe(r,...i){if(Ri.logLevel<=eu.in.DEBUG){const n=i.map($_);Ri.debug(`Firestore (${$p}): ${r}`,...n)}}function Xn(r,...i){if(Ri.logLevel<=eu.in.ERROR){const n=i.map($_);Ri.error(`Firestore (${$p}): ${r}`,...n)}}function ih(r,...i){if(Ri.logLevel<=eu.in.WARN){const n=i.map($_);Ri.warn(`Firestore (${$p}): ${r}`,...n)}}function $_(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function Xe(r="Unexpected state"){const i=`FIRESTORE (${$p}) INTERNAL ASSERTION FAILED: `+r;throw Xn(i),new Error(i)}function vt(r,i){r||Xe()}function Ne(r,i){return r}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class pS{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class SA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(xi.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MA{constructor(i){this.t=i,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let o=this.i;const d=T=>this.i!==o?(o=this.i,n(T)):Promise.resolve();let f=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Oi,i.enqueueRetryable(()=>d(this.currentUser))};const _=()=>{const T=f;i.enqueueRetryable((0,we.Z)(function*(){yield T.promise,yield d(s.currentUser)}))},C=T=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(T=>C(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?C(T):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Oi)}},0),_()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(vt("string"==typeof s.accessToken),new pS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return vt(null===i||"string"==typeof i),new xi(i)}}class IA{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=xi.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class Y_{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new IA(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pi{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function mS(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}Pi.T=-1;class Ls{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const o=mS(40);for(let d=0;d<o.length;++d)s.length<20&&o[d]<n&&(s+=i.charAt(o[d]%i.length))}return s}}function At(r,i){return r<i?-1:r>i?1:0}function rh(r,i,n){return r.length===i.length&&r.every((s,o)=>n(s,i[o]))}function gS(r){return r+"\0"}class di{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Ie(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return di.fromMillis(Date.now())}static fromDate(i){return di.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new di(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?At(this.nanoseconds,i.nanoseconds):At(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class lt{constructor(i){this.timestamp=i}static fromTimestamp(i){return new lt(i)}static min(){return new lt(new di(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function sh(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function zn(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function Ol(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class Pl{constructor(i,n,s){void 0===n?n=0:n>i.length&&Xe(),void 0===s?s=i.length-n:s>i.length-n&&Xe(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===Pl.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof Pl?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let o=0;o<s;o++){const d=i.get(o),f=n.get(o);if(d<f)return-1;if(d>f)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class Tt extends Pl{construct(i,n,s){return new Tt(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Tt(n)}static emptyPath(){return new Tt([])}}const yC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Pl{construct(i,n,s){return new $n(i,n,s)}static isValidIdentifier(i){return yC.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new $n(["__name__"])}static fromServerFormat(i){const n=[];let s="",o=0;const d=()=>{if(0===s.length)throw new Ie(fe.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<i.length;){const _=i[o];if("\\"===_){if(o+1===i.length)throw new Ie(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const C=i[o+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ie(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=C,o+=2}else"`"===_?(f=!f,o++):"."!==_||f?(s+=_,o++):(d(),o++)}if(d(),f)throw new Ie(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new $n(n)}static emptyPath(){return new $n([])}}class ho{constructor(i){this.fields=i,i.sort($n.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return rh(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Fn{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Fn(n)}static fromUint8Array(i){const n=function(s){let o="";for(let d=0;d<s.length;++d)o+=String.fromCharCode(s[d]);return o}(i);return new Fn(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return At(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Fn.EMPTY_BYTE_STRING=new Fn("");const ah=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(vt(!!r),"string"==typeof r){let i=0;const n=ah.exec(r);if(vt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),i=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:Dn(r.seconds),nanos:Dn(r.nanos)}}function Dn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function fo(r){return"string"==typeof r?Fn.fromBase64String(r):Fn.fromUint8Array(r)}function Fl(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function vC(r){const i=r.mapValue.fields.__previous_value__;return Fl(i)?vC(i):i}function lh(r){const i=hs(r.mapValue.fields.__local_write_time__.timestampValue);return new di(i.seconds,i.nanos)}function Nl(r){return null==r}function Yp(r){return 0===r&&1/r==-1/0}function bC(r){return"number"==typeof r&&Number.isInteger(r)&&!Yp(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class We{constructor(i){this.path=i}static fromPath(i){return new We(Tt.fromString(i))}static fromName(i){return new We(Tt.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===Tt.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return Tt.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new We(new Tt(i.slice()))}}function Ll(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fl(r)?4:10:Xe()}function po(r,i){const n=Ll(r);if(n!==Ll(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return lh(r).isEqual(lh(i));case 3:return function(s,o){if("string"==typeof s.timestampValue&&"string"==typeof o.timestampValue&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const d=hs(s.timestampValue),f=hs(o.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return o=i,fo(r.bytesValue).isEqual(fo(o.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,o){return Dn(s.geoPointValue.latitude)===Dn(o.geoPointValue.latitude)&&Dn(s.geoPointValue.longitude)===Dn(o.geoPointValue.longitude)}(r,i);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Dn(s.integerValue)===Dn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const d=Dn(s.doubleValue),f=Dn(o.doubleValue);return d===f?Yp(d)===Yp(f):isNaN(d)&&isNaN(f)}return!1}(r,i);case 9:return rh(r.arrayValue.values||[],i.arrayValue.values||[],po);case 10:return function(s,o){const d=s.mapValue.fields||{},f=o.mapValue.fields||{};if(sh(d)!==sh(f))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(void 0===f[_]||!po(d[_],f[_])))return!1;return!0}(r,i);default:return Xe()}var o}function ch(r,i){return void 0!==(r.values||[]).find(n=>po(n,i))}function uh(r,i){const n=Ll(r),s=Ll(i);if(n!==s)return At(n,s);switch(n){case 0:return 0;case 1:return At(r.booleanValue,i.booleanValue);case 2:return function(o,d){const f=Dn(o.integerValue||o.doubleValue),_=Dn(d.integerValue||d.doubleValue);return f<_?-1:f>_?1:f===_?0:isNaN(f)?isNaN(_)?0:-1:1}(r,i);case 3:return CC(r.timestampValue,i.timestampValue);case 4:return CC(lh(r),lh(i));case 5:return At(r.stringValue,i.stringValue);case 6:return function(o,d){const f=fo(o),_=fo(d);return f.compareTo(_)}(r.bytesValue,i.bytesValue);case 7:return function(o,d){const f=o.split("/"),_=d.split("/");for(let C=0;C<f.length&&C<_.length;C++){const T=At(f[C],_[C]);if(0!==T)return T}return At(f.length,_.length)}(r.referenceValue,i.referenceValue);case 8:return function(o,d){const f=At(Dn(o.latitude),Dn(d.latitude));return 0!==f?f:At(Dn(o.longitude),Dn(d.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(o,d){const f=o.values||[],_=d.values||[];for(let C=0;C<f.length&&C<_.length;++C){const T=uh(f[C],_[C]);if(T)return T}return At(f.length,_.length)}(r.arrayValue,i.arrayValue);case 10:return function(o,d){const f=o.fields||{},_=Object.keys(f),C=d.fields||{},T=Object.keys(C);_.sort(),T.sort();for(let I=0;I<_.length&&I<T.length;++I){const x=At(_[I],T[I]);if(0!==x)return x;const L=uh(f[_[I]],C[T[I]]);if(0!==L)return L}return At(_.length,T.length)}(r.mapValue,i.mapValue);default:throw Xe()}}function CC(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return At(r,i);const n=hs(r),s=hs(i),o=At(n.seconds,s.seconds);return 0!==o?o:At(n.nanos,s.nanos)}function wC(r){return q_(r)}function q_(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const o=hs(s);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?fo(r.bytesValue).toBase64():"referenceValue"in r?We.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let o="[",d=!0;for(const f of s.values||[])d?d=!1:o+=",",o+=q_(f);return o+"]"}(r.arrayValue):"mapValue"in r?function(s){const o=Object.keys(s.fields||{}).sort();let d="{",f=!0;for(const _ of o)f?f=!1:d+=",",d+=`${_}:${q_(s.fields[_])}`;return d+"}"}(r.mapValue):Xe();var i}function qp(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function EC(r){return!!r&&"integerValue"in r}function _S(r){return!!r&&"arrayValue"in r}function yS(r){return!!r&&"nullValue"in r}function DC(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Z_(r){return!!r&&"mapValue"in r}function dh(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return zn(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=dh(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=dh(r.arrayValue.values[n]);return i}return Object.assign({},r)}class sr{constructor(i){this.value=i}static empty(){return new sr({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!Z_(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=dh(n)}setAll(i){let n=$n.emptyPath(),s={},o=[];i.forEach((f,_)=>{if(!n.isImmediateParentOf(_)){const C=this.getFieldsMap(n);this.applyChanges(C,s,o),s={},o=[],n=_.popLast()}f?s[_.lastSegment()]=dh(f):o.push(_.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,o)}delete(i){const n=this.field(i.popLast());Z_(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return po(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let o=n.mapValue.fields[i.get(s)];Z_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(i,n,s){zn(n,(o,d)=>i[o]=d);for(const o of s)delete i[o]}clone(){return new sr(dh(this.value))}}function vS(r){const i=[];return zn(r.fields,(n,s)=>{const o=new $n([n]);if(Z_(s)){const d=vS(s.mapValue).fields;if(0===d.length)i.push(o);else for(const f of d)i.push(o.child(f))}else i.push(o)}),new ho(i)}class Nn{constructor(i,n,s,o,d){this.key=i,this.documentType=n,this.version=s,this.data=o,this.documentState=d}static newInvalidDocument(i){return new Nn(i,0,lt.min(),sr.empty(),0)}static newFoundDocument(i,n,s){return new Nn(i,1,n,s,0)}static newNoDocument(i,n){return new Nn(i,2,n,sr.empty(),0)}static newUnknownDocument(i,n){return new Nn(i,3,n,sr.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Nn&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new Nn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class AA{constructor(i,n=null,s=[],o=[],d=null,f=null,_=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=d,this.startAt=f,this.endAt=_,this.A=null}}function SC(r,i=null,n=[],s=[],o=null,d=null,f=null){return new AA(r,i,n,s,o,d,f)}function W_(r){const i=Ne(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+wC(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(o=s).field.canonicalString()+o.dir;var o}).join(","),Nl(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=AC(i.startAt)),i.endAt&&(n+="|ub:",n+=AC(i.endAt)),i.A=n}return i.A}function TC(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let o=0;o<r.orderBy.length;o++)if(!ph(r.orderBy[o],i.orderBy[o]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let o=0;o<r.filters.length;o++)if((n=r.filters[o]).op!==(s=i.filters[o]).op||!n.field.isEqual(s.field)||!po(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!kC(r.startAt,i.startAt)&&kC(r.endAt,i.endAt)}function K_(r){return We.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Yr extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new xA(i,n,s):"array-contains"===n?new p1(i,s):"in"===n?new m1(i,s):"not-in"===n?new g1(i,s):"array-contains-any"===n?new RA(i,s):new Yr(i,n,s)}static R(i,n,s){return"in"===n?new MC(i,s):new IC(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(uh(n,this.value)):null!==n&&Ll(this.value)===Ll(n)&&this.P(uh(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Xe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xA extends Yr{constructor(i,n,s){super(i,n,s),this.key=We.fromName(s.referenceValue)}matches(i){const n=We.comparator(i.key,this.key);return this.P(n)}}class MC extends Yr{constructor(i,n){super(i,"in",n),this.keys=bS(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class IC extends Yr{constructor(i,n){super(i,"not-in",n),this.keys=bS(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function bS(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>We.fromName(s.referenceValue))}class p1 extends Yr{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return _S(n)&&ch(n.arrayValue,this.value)}}class m1 extends Yr{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&ch(this.value.arrayValue,n)}}class g1 extends Yr{constructor(i,n){super(i,"not-in",n)}matches(i){if(ch(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!ch(this.value.arrayValue,n)}}class RA extends Yr{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!_S(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ch(this.value.arrayValue,s))}}class hh{constructor(i,n){this.position=i,this.before=n}}function AC(r){return`${r.before?"b":"a"}:${r.position.map(i=>wC(i)).join(",")}`}class fh{constructor(i,n="asc"){this.field=i,this.dir=n}}function ph(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function CS(r,i,n){let s=0;for(let o=0;o<r.position.length;o++){const d=i[o],f=r.position[o];if(s=d.field.isKeyField()?We.comparator(We.fromName(f.referenceValue),n.key):uh(f,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function kC(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!po(r.position[n],i.position[n]))return!1;return!0}class Na{constructor(i,n=null,s=[],o=[],d=null,f="F",_=null,C=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=d,this.limitType=f,this.startAt=_,this.endAt=C,this.V=null,this.S=null}}function xC(r,i,n,s,o,d,f,_){return new Na(r,i,n,s,o,d,f,_)}function La(r){return new Na(r)}function Q_(r){return!Nl(r.limit)&&"F"===r.limitType}function Zp(r){return!Nl(r.limit)&&"L"===r.limitType}function RC(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function OC(r){for(const i of r.filters)if(i.v())return i.field;return null}function PC(r){return null!==r.collectionGroup}function mh(r){const i=Ne(r);if(null===i.V){i.V=[];const n=OC(i),s=RC(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new fh(n)),i.V.push(new fh($n.keyField(),"asc"));else{let o=!1;for(const d of i.explicitOrderBy)i.V.push(d),d.field.isKeyField()&&(o=!0);if(!o){const d=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new fh($n.keyField(),d))}}}return i.V}function Vs(r){const i=Ne(r);if(!i.S)if("F"===i.limitType)i.S=SC(i.path,i.collectionGroup,mh(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const d of mh(i))n.push(new fh(d.field,"desc"===d.dir?"asc":"desc"));const s=i.endAt?new hh(i.endAt.position,!i.endAt.before):null,o=i.startAt?new hh(i.startAt.position,!i.startAt.before):null;i.S=SC(i.path,i.collectionGroup,n,i.filters,i.limit,s,o)}return i.S}function FC(r,i,n){return new Na(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function Wp(r,i){return TC(Vs(r),Vs(i))&&r.limitType===i.limitType}function NC(r){return`${W_(Vs(r))}|lt:${r.limitType}`}function J_(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${wC(s.value)}`;var s}).join(", ")}]`),Nl(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+AC(r.startAt)),r.endAt&&(i+=", endAt: "+AC(r.endAt)),`Target(${i})`}(Vs(r))}; limitType=${r.limitType})`}function ou(r,i){return i.isFoundDocument()&&function(n,s){const o=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):We.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,i)&&function(n,s){for(const o of n.explicitOrderBy)if(!o.field.isKeyField()&&null===s.data.field(o.field))return!1;return!0}(r,i)&&function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!CS(n.startAt,mh(n),s)||n.endAt&&CS(n.endAt,mh(n),s)));var n,s}function OA(r){return(i,n)=>{let s=!1;for(const o of mh(r)){const d=LC(o,i,n);if(0!==d)return d;s=s||o.field.isKeyField()}return 0}}function LC(r,i,n){const s=r.field.isKeyField()?We.comparator(i.key,n.key):function(o,d,f){const _=d.data.field(o),C=f.data.field(o);return null!==_&&null!==C?uh(_,C):Xe()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Xe()}}function wS(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(i)?"-0":i}}function PA(r){return{integerValue:""+r}}function gh(r,i){return bC(i)?PA(i):wS(r,i)}class X_{constructor(){this._=void 0}}function VC(r,i,n){return r instanceof Vl?function(s,o){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&(d.fields.__previous_value__=o),{mapValue:d}}(n,i):r instanceof Va?UC(r,i):r instanceof _h?DS(r,i):function(s,o){const d=ES(s,o),f=ey(d)+ey(s.C);return EC(d)&&EC(s.C)?PA(f):wS(s.N,f)}(r,i)}function BC(r,i,n){return r instanceof Va?UC(r,i):r instanceof _h?DS(r,i):n}function ES(r,i){return r instanceof Bl?EC(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class Vl extends X_{}class Va extends X_{constructor(i){super(),this.elements=i}}function UC(r,i){const n=SS(i);for(const s of r.elements)n.some(o=>po(o,s))||n.push(s);return{arrayValue:{values:n}}}class _h extends X_{constructor(i){super(),this.elements=i}}function DS(r,i){let n=SS(i);for(const s of r.elements)n=n.filter(o=>!po(o,s));return{arrayValue:{values:n}}}class Bl extends X_{constructor(i,n){super(),this.N=i,this.C=n}}function ey(r){return Dn(r.integerValue||r.doubleValue)}function SS(r){return _S(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class yh{constructor(i,n){this.field=i,this.transform=n}}class TS{constructor(i,n){this.version=i,this.transformResults=n}}class Yn{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new Yn}static exists(i){return new Yn(void 0,i)}static updateTime(i){return new Yn(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function vh(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class bh{}function FA(r,i,n){r instanceof Kp?function(s,o,d){const f=s.value.clone(),_=zC(s.fieldTransforms,o,d.transformResults);f.setAll(_),o.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(r,i,n):r instanceof Ba?function(s,o,d){if(!vh(s.precondition,o))return void o.convertToUnknownDocument(d.version);const f=zC(s.fieldTransforms,o,d.transformResults),_=o.data;_.setAll(GC(s)),_.setAll(f),o.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function ty(r,i,n){var o;r instanceof Kp?function(s,o,d){if(!vh(s.precondition,o))return;const f=s.value.clone(),_=iy(s.fieldTransforms,d,o);f.setAll(_),o.convertToFoundDocument(jC(o),f).setHasLocalMutations()}(r,i,n):r instanceof Ba?function(s,o,d){if(!vh(s.precondition,o))return;const f=iy(s.fieldTransforms,d,o),_=o.data;_.setAll(GC(s)),_.setAll(f),o.convertToFoundDocument(jC(o),_).setHasLocalMutations()}(r,i,n):vh(r.precondition,o=i)&&o.convertToNoDocument(lt.min())}function MS(r,i){let n=null;for(const s of r.fieldTransforms){const o=i.data.field(s.field),d=ES(s.transform,o||null);null!=d&&(null==n&&(n=sr.empty()),n.set(s.field,d))}return n||null}function ny(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&rh(n,s,(o,d)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof Va&&s instanceof Va||n instanceof _h&&s instanceof _h?rh(n.elements,s.elements,po):n instanceof Bl&&s instanceof Bl?po(n.C,s.C):n instanceof Vl&&s instanceof Vl);var n,s}(o,d))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function jC(r){return r.isFoundDocument()?r.version:lt.min()}class Kp extends bh{constructor(i,n,s,o=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}}class Ba extends bh{constructor(i,n,s,o,d=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=d,this.type=1}}function GC(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function zC(r,i,n){const s=new Map;vt(r.length===n.length);for(let o=0;o<n.length;o++){const d=r[o],f=d.transform,_=i.data.field(d.field);s.set(d.field,BC(f,_,n[o]))}return s}function iy(r,i,n){const s=new Map;for(const o of r){const d=o.transform,f=n.data.field(o.field);s.set(o.field,VC(d,f,i))}return s}class Ch extends bh{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class ry extends bh{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class IS{constructor(i){this.count=i}}var ei,jt;function $C(r){switch(r){case fe.OK:return Xe();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Xe()}}function YC(r){if(void 0===r)return Xn("GRPC error has no .code"),fe.UNKNOWN;switch(r){case ei.OK:return fe.OK;case ei.CANCELLED:return fe.CANCELLED;case ei.UNKNOWN:return fe.UNKNOWN;case ei.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case ei.INTERNAL:return fe.INTERNAL;case ei.UNAVAILABLE:return fe.UNAVAILABLE;case ei.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case ei.NOT_FOUND:return fe.NOT_FOUND;case ei.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case ei.ABORTED:return fe.ABORTED;case ei.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case ei.DATA_LOSS:return fe.DATA_LOSS;default:return Xe()}}(jt=ei||(ei={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class hi{constructor(i,n){this.comparator=i,this.root=n||$i.EMPTY}insert(i,n){return new hi(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(i){return new hi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,$i.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(i,s.key);if(0===o)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new qC(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new qC(this.root,i,this.comparator,!1)}getReverseIterator(){return new qC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new qC(this.root,i,this.comparator,!0)}}class qC{constructor(i,n,s,o){this.isReverse=o,this.nodeStack=[];let d=1;for(;!i.isEmpty();)if(d=n?s(i.key,n):1,o&&(d*=-1),d<0)i=this.isReverse?i.left:i.right;else{if(0===d){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class $i{constructor(i,n,s,o,d){this.key=i,this.value=n,this.color=null!=s?s:$i.RED,this.left=null!=o?o:$i.EMPTY,this.right=null!=d?d:$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,o,d){return new $i(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=o?o:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let o=this;const d=s(i,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(i,n,s),null):0===d?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(i,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,o=this;if(n(i,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(i,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(i,o.key)){if(o.right.isEmpty())return $i.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(i,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const i=this.left.check();if(i!==this.right.check())throw Xe();return i+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(r,i,n,s,o){return this}insert(r,i,n){return new $i(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(i){this.comparator=i,this.data=new hi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,i[1])>=0)return;n(o.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZC(this.data.getIterator())}getIteratorFrom(i){return new ZC(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof qn)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(o,d))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new qn(this.comparator);return n.data=i,n}}class ZC{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const NA=new hi(We.comparator);function rn(){return NA}const AS=new hi(We.comparator);function WC(){return AS}const LA=new hi(We.comparator);function KC(){return LA}const VA=new qn(We.comparator);function sn(...r){let i=VA;for(const n of r)i=i.add(n);return i}const kS=new qn(At);function Ua(){return kS}class Qp{constructor(i,n,s,o,d){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,Jp.createSynthesizedTargetChangeForCurrentChange(i,n)),new Qp(lt.min(),s,Ua(),rn(),sn())}}class Jp{constructor(i,n,s,o,d){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(i,n){return new Jp(Fn.EMPTY_BYTE_STRING,n,sn(),sn(),sn())}}class Xp{constructor(i,n,s,o){this.k=i,this.removedTargetIds=n,this.key=s,this.$=o}}class xS{constructor(i,n){this.targetId=i,this.O=n}}class QC{constructor(i,n,s=Fn.EMPTY_BYTE_STRING,o=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=o}}class BA{constructor(){this.F=0,this.M=mo(),this.L=Fn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=sn(),n=sn(),s=sn();return this.M.forEach((o,d)=>{switch(d){case 0:i=i.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Xe()}}),new Jp(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=mo()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class JC{constructor(i){this.tt=i,this.et=new Map,this.nt=rn(),this.st=sy(),this.it=new qn(At)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:Xe()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,o)=>{this.ht(o)&&n(o)})}ft(i){const n=i.targetId,s=i.O.count,o=this.dt(n);if(o){const d=o.target;if(K_(d))if(0===s){const f=new We(d.path);this.at(n,f,Nn.newNoDocument(f,lt.min()))}else vt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((d,f)=>{const _=this.dt(f);if(_){if(d.current&&K_(_.target)){const C=new We(_.target.path);null!==this.nt.get(C)||this.gt(f,C)||this.at(f,C,Nn.newNoDocument(C,i))}d.K&&(n.set(f,d.W()),d.G())}});let s=sn();this.st.forEach((d,f)=>{let _=!0;f.forEachWhile(C=>{const T=this.dt(C);return!T||2===T.purpose||(_=!1,!1)}),_&&(s=s.add(d))});const o=new Qp(i,n,this.it,this.nt,s);return this.nt=rn(),this.st=sy(),this.it=new qn(At),o}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const o=this.ut(i);this.gt(i,n)?o.H(n,1):o.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new BA,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new qn(At),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Pe("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new BA),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function sy(){return new hi(We.comparator)}function mo(){return new hi(We.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yo{constructor(i,n){this.databaseId=i,this.D=n}}function Er(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Bs(r,i){return r.D?i.toBase64():i.toUint8Array()}function RS(r,i){return Er(r,i.toTimestamp())}function Ci(r){return vt(!!r),lt.fromTimestamp(function(i){const n=hs(i);return new di(n.seconds,n.nanos)}(r))}function XC(r,i){return(n=r,new Tt(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function OS(r){const i=Tt.fromString(r);return vt(US(i)),i}function em(r,i){return XC(r.databaseId,i.path)}function qo(r,i){const n=OS(i);if(n.get(1)!==r.databaseId.projectId)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ie(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new We(ew(n))}function tm(r,i){return XC(r.databaseId,i)}function wh(r){const i=OS(r);return 4===i.length?Tt.emptyPath():ew(i)}function nm(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ew(r){return vt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function PS(r,i,n){return{name:em(r,i),fields:n.value.mapValue.fields}}function tw(r,i,n){const s=qo(r,i.name),o=Ci(i.updateTime),d=new sr({mapValue:{fields:i.fields}}),f=Nn.newFoundDocument(s,o,d);return n&&f.setHasCommittedMutations(),n?f.setHasCommittedMutations():f}function ay(r,i){let n;if(i instanceof Kp)n={update:PS(r,i.key,i.value)};else if(i instanceof Ch)n={delete:em(r,i.key)};else if(i instanceof Ba)n={update:PS(r,i.key,i.data),updateMask:zA(i.fieldMask)};else{if(!(i instanceof ry))return Xe();n={verify:em(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(o,d){const f=d.transform;if(f instanceof Vl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Va)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _h)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Bl)return{fieldPath:d.field.canonicalString(),increment:f.C};throw Xe()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(o=i.precondition).updateTime?{updateTime:RS(r,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),n;var o}function nw(r,i){const n=i.currentDocument?void 0!==(o=i.currentDocument).updateTime?Yn.updateTime(Ci(o.updateTime)):void 0!==o.exists?Yn.exists(o.exists):Yn.none():Yn.none(),s=i.updateTransforms?i.updateTransforms.map(o=>function(d,f){let _=null;"setToServerValue"in f?(vt("REQUEST_TIME"===f.setToServerValue),_=new Vl):"appendMissingElements"in f?_=new Va(f.appendMissingElements.values||[]):"removeAllFromArray"in f?_=new _h(f.removeAllFromArray.values||[]):"increment"in f?_=new Bl(d,f.increment):Xe();const C=$n.fromServerFormat(f.fieldPath);return new yh(C,_)}(r,o)):[];var o;if(i.update){const o=qo(r,i.update.name),d=new sr({mapValue:{fields:i.update.fields}});if(i.updateMask){const f=new ho((i.updateMask.fieldPaths||[]).map(T=>$n.fromServerFormat(T)));return new Ba(o,d,f,n,s)}return new Kp(o,d,n,s)}if(i.delete){const o=qo(r,i.delete);return new Ch(o,n)}if(i.verify){const o=qo(r,i.verify);return new ry(o,n)}return Xe()}function ly(r,i){return{documents:[tm(r,i.path)]}}function im(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=tm(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=tm(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const o=function(_){if(0===_.length)return;const C=_.map(T=>function(I){if("=="===I.op){if(DC(I.value))return{unaryFilter:{field:au(I.field),op:"IS_NAN"}};if(yS(I.value))return{unaryFilter:{field:au(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(DC(I.value))return{unaryFilter:{field:au(I.field),op:"IS_NOT_NAN"}};if(yS(I.value))return{unaryFilter:{field:au(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:au(I.field),op:BS(I.op),value:I.value}}}(T));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(i.filters);o&&(n.structuredQuery.where=o);const d=function(_){if(0!==_.length)return _.map(C=>{return{field:au((T=C).field),direction:VS(T.dir)};var T})}(i.orderBy);d&&(n.structuredQuery.orderBy=d);const f=(C=i.limit,r.D||Nl(C)?C:{value:C});var C;return null!==f&&(n.structuredQuery.limit=f),i.startAt&&(n.structuredQuery.startAt=sw(i.startAt)),i.endAt&&(n.structuredQuery.endAt=sw(i.endAt)),n}function iw(r){let i=wh(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){vt(1===s);const I=n.from[0];I.allDescendants?o=I.collectionId:i=i.child(I.collectionId)}let d=[];n.where&&(d=rw(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(I=>{return new fh(lu((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let _=null;n.limit&&(_=function(I){let x;return x="object"==typeof I?I.value:I,Nl(x)?null:x}(n.limit));let C=null;n.startAt&&(C=ow(n.startAt));let T=null;return n.endAt&&(T=ow(n.endAt)),xC(i,o,f,d,_,"F",C,T)}function rw(r){return r?void 0!==r.unaryFilter?[GA(r)]:void 0!==r.fieldFilter?[jA(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>rw(i)).reduce((i,n)=>i.concat(n)):Xe():[]}function sw(r){return{before:r.before,values:r.position}}function ow(r){return new hh(r.values||[],!!r.before)}function VS(r){return UA[r]}function BS(r){return HA[r]}function au(r){return{fieldPath:r.canonicalString()}}function lu(r){return $n.fromServerFormat(r.fieldPath)}function jA(r){return Yr.create(lu(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xe()}}(r.fieldFilter.op),r.fieldFilter.value)}function GA(r){switch(r.unaryFilter.op){case"IS_NAN":const i=lu(r.unaryFilter.field);return Yr.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=lu(r.unaryFilter.field);return Yr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lu(r.unaryFilter.field);return Yr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lu(r.unaryFilter.field);return Yr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xe()}}function zA(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function US(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function go(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=HS(i)),i=$A(r.get(n),i);return HS(i)}function $A(r,i){let n=i;const s=r.length;for(let o=0;o<s;o++){const d=r.charAt(o);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function HS(r){return r+"\x01\x01"}function Ha(r){const i=r.length;if(vt(i>=2),2===i)return vt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Tt.emptyPath();const n=i-2,s=[];let o="";for(let d=0;d<i;){const f=r.indexOf("\x01",d);switch((f<0||f>n)&&Xe(),r.charAt(f+1)){case"\x01":const _=r.substring(d,f);let C;0===o.length?C=_:(o+=_,C=o,o=""),s.push(C);break;case"\x10":o+=r.substring(d,f),o+="\0";break;case"\x11":o+=r.substring(d,f+1);break;default:Xe()}d=f+2}return new Tt(s)}class YA{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class fs{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}fs.store="owner",fs.key="owner";class Ul{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Ul.store="mutationQueues",Ul.keyPath="userId";class Sn{constructor(i,n,s,o,d){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=o,this.mutations=d}}Sn.store="mutations",Sn.keyPath="batchId",Sn.userMutationsIndex="userMutationsIndex",Sn.userMutationsKeyPath=["userId","batchId"];class or{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,go(n)]}static key(i,n,s){return[i,go(n),s]}}or.store="documentMutations",or.PLACEHOLDER=new or;class qA{constructor(i,n){this.path=i,this.readTime=n}}class ZA{constructor(i,n){this.path=i,this.version=n}}class Zn{constructor(i,n,s,o,d,f){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=o,this.readTime=d,this.parentPath=f}}Zn.store="remoteDocuments",Zn.readTimeIndex="readTimeIndex",Zn.readTimeIndexPath="readTime",Zn.collectionReadTimeIndex="collectionReadTimeIndex",Zn.collectionReadTimeIndexPath=["parentPath","readTime"];class Zo{constructor(i){this.byteSize=i}}Zo.store="remoteDocumentGlobal",Zo.key="remoteDocumentGlobalKey";class Dr{constructor(i,n,s,o,d,f,_){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=o,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=f,this.query=_}}Dr.store="targets",Dr.keyPath="targetId",Dr.queryTargetsIndexName="queryTargetsIndex",Dr.queryTargetsKeyPath=["canonicalId","targetId"];class Fi{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}Fi.store="targetDocuments",Fi.keyPath=["targetId","path"],Fi.documentTargetsIndex="documentTargetsIndex",Fi.documentTargetsKeyPath=["path","targetId"];class qr{constructor(i,n,s,o){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=o}}qr.key="targetGlobalKey",qr.store="targetGlobal";class Hl{constructor(i,n){this.collectionId=i,this.parent=n}}Hl.store="collectionParents",Hl.keyPath=["collectionId","parent"];class Wo{constructor(i,n,s,o){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=o}}Wo.store="clientMetadata",Wo.keyPath="clientId";class cu{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}cu.store="bundles",cu.keyPath="bundleId";class uu{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}uu.store="namedQueries",uu.keyPath="name";const jS=[Ul.store,Sn.store,or.store,Zn.store,Dr.store,fs.store,qr.store,Fi.store,Wo.store,Zo.store,Hl.store,cu.store,uu.store],aw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Me{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Me((s,o)=>{this.nextCallback=d=>{this.wrapSuccess(i,d).next(s,o)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,o)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Me.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Me.reject(n)}static resolve(i){return new Me((n,s)=>{n(i)})}static reject(i){return new Me((n,s)=>{s(i)})}static waitFor(i){return new Me((n,s)=>{let o=0,d=0,f=!1;i.forEach(_=>{++o,_.next(()=>{++d,f&&d===o&&n()},C=>s(C))}),f=!0,d===o&&n()})}static or(i){let n=Me.resolve(!1);for(const s of i)n=n.next(o=>o?Me.resolve(o):s());return n}static forEach(i,n){const s=[];return i.forEach((o,d)=>{s.push(n.call(this,o,d))}),this.waitFor(s)}}class Ko{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new Oi,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new Qo(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const o=uy(s.target.error);this.Tt.reject(new Qo(i,o))}}static open(i,n,s,o){try{return new Ko(n,i.transaction(o,s))}catch(d){throw new Qo(n,d)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Pe("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new lw(n)}}class _o{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===_o.Rt((0,Jt.z$)())&&Xn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Pe("SimpleDb","Removing database:",i),Dh(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if(!(0,Jt.hl)())return!1;if(_o.Pt())return!0;const i=(0,Jt.z$)(),n=_o.Rt(i),s=0<n&&n<10,o=_o.vt(i),d=0<o&&o<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||d)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,we.Z)(function*(){return n.db||(Pe("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,o)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=f=>{s(f.target.result)},d.onblocked=()=>{o(new Qo(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=f=>{const _=f.target.error;o("VersionError"===_.name?new Ie(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Ie(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new Qo(i,_))},d.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',f.oldVersion),n.At.Ct(f.target.result,d.transaction,f.oldVersion,n.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,o){var d=this;return(0,we.Z)(function*(){const f="readonly"===n;let _=0;for(;;){++_;try{d.db=yield d.Dt(i);const C=Ko.open(d.db,i,f?"readonly":"readwrite",s),T=o(C).catch(I=>(C.abort(I),Me.reject(I))).toPromise();return T.catch(()=>{}),yield C.It,T}catch(C){const T="FirebaseError"!==C.name&&_<3;if(Pe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),d.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WA{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return Dh(this.kt.delete())}}class Qo extends Ie{constructor(i,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Eh(r){return"IndexedDbTransactionError"===r.name}class lw{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Pe("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),Dh(s)}add(i){return Pe("SimpleDb","ADD",this.store.name,i,i),Dh(this.store.add(i))}get(i){return Dh(this.store.get(i)).next(n=>(void 0===n&&(n=null),Pe("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Pe("SimpleDb","DELETE",this.store.name,i),Dh(this.store.delete(i))}count(){return Pe("SimpleDb","COUNT",this.store.name),Dh(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),o=[];return this.Bt(s,(d,f)=>{o.push(f)}).next(()=>o)}Ut(i,n){Pe("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const o=this.cursor(s);return this.Bt(o,(d,f,_)=>_.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const o=this.cursor(s);return this.Bt(o,n)}jt(i){const n=this.cursor({});return new Me((s,o)=>{n.onerror=d=>{const f=uy(d.target.error);o(f)},n.onsuccess=d=>{const f=d.target.result;f?i(f.primaryKey,f.value).next(_=>{_?f.continue():s()}):s()}})}Bt(i,n){const s=[];return new Me((o,d)=>{i.onerror=f=>{d(f.target.error)},i.onsuccess=f=>{const _=f.target.result;if(!_)return void o();const C=new WA(_),T=n(_.primaryKey,_.value,C);if(T instanceof Me){const I=T.catch(x=>(C.done(),Me.reject(x)));s.push(I)}C.isDone?o():null===C.Ft?_.continue():_.continue(C.Ft)}}).next(()=>Me.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function Dh(r){return new Me((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const o=uy(s.target.error);n(o)}})}let cw=!1;function uy(r){const i=_o.Rt((0,Jt.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return cw||(cw=!0,setTimeout(()=>{throw s},0)),s}}return r}class KA extends cy{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function $e(r,i){const n=Ne(r);return _o.St(n.Qt,i)}class uw{constructor(i,n,s,o){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const d=this.mutations[o];d.key.isEqual(i.key)&&FA(d,i,s[o])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&ty(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&ty(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),o=s;this.applyToLocalView(o),s.isValidDocument()||o.convertToNoDocument(lt.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),sn())}isEqual(i){return this.batchId===i.batchId&&rh(this.mutations,i.mutations,(n,s)=>ny(n,s))&&rh(this.baseMutations,i.baseMutations,(n,s)=>ny(n,s))}}class dw{constructor(i,n,s,o){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(i,n,s){vt(i.mutations.length===s.length);let o=KC();const d=i.mutations;for(let f=0;f<d.length;f++)o=o.insert(d[f].key,s[f].version);return new dw(i,n,s,o)}}class jl{constructor(i,n,s,o,d=lt.min(),f=lt.min(),_=Fn.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=_}withSequenceNumber(i){return new jl(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class rm{constructor(i){this.Wt=i}}function hw(r,i){if(i.document)return tw(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=We.fromSegments(i.noDocument.path),s=du(i.noDocument.readTime),o=Nn.newNoDocument(n,s);return i.hasCommittedMutations?o.setHasCommittedMutations():o}if(i.unknownDocument){const n=We.fromSegments(i.unknownDocument.path),s=du(i.unknownDocument.version);return Nn.newUnknownDocument(n,s)}return Xe()}function sm(r,i,n){const s=Sh(n),o=i.key.path.popLast().toArray();if(i.isFoundDocument()){const d={name:em(_=r.Wt,(C=i).key),fields:C.data.value.mapValue.fields,updateTime:Er(_,C.version.toTimestamp())};return new Zn(null,null,d,i.hasCommittedMutations,s,o)}var _,C;if(i.isNoDocument()){const d=i.key.path.toArray(),f=om(i.version),_=i.hasCommittedMutations;return new Zn(null,new qA(d,f),null,_,s,o)}if(i.isUnknownDocument()){const d=i.key.path.toArray(),f=om(i.version);return new Zn(new ZA(d,f),null,null,!0,s,o)}return Xe()}function Sh(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function Ln(r){const i=new di(r[0],r[1]);return lt.fromTimestamp(i)}function om(r){const i=r.toTimestamp();return new YA(i.seconds,i.nanoseconds)}function du(r){const i=new di(r.seconds,r.nanoseconds);return lt.fromTimestamp(i)}function Gl(r,i){const n=(i.baseMutations||[]).map(d=>nw(r.Wt,d));for(let d=0;d<i.mutations.length-1;++d){const f=i.mutations[d];d+1<i.mutations.length&&void 0!==i.mutations[d+1].transform&&(f.updateTransforms=i.mutations[d+1].transform.fieldTransforms,i.mutations.splice(d+1,1),++d)}const s=i.mutations.map(d=>nw(r.Wt,d)),o=di.fromMillis(i.localWriteTimeMs);return new uw(i.batchId,o,n,s)}function am(r){const i=du(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?du(r.lastLimboFreeSnapshotVersion):lt.min();let s;var o;return void 0!==r.query.documents?(vt(1===(o=r.query).documents.length),s=Vs(La(wh(o.documents[0])))):s=Vs(iw(r.query)),new jl(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Fn.fromBase64String(r.resumeToken))}function fw(r,i){const n=om(i.snapshotVersion),s=om(i.lastLimboFreeSnapshotVersion);let o;o=K_(i.target)?ly(r.Wt,i.target):im(r.Wt,i.target);const d=i.resumeToken.toBase64();return new Dr(i.targetId,W_(i.target),n,d,i.sequenceNumber,s,o)}function dy(r){const i=iw({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?FC(i,i.limit,"L"):i}class GS{getBundleMetadata(i,n){return pw(i).get(n).next(s=>{if(s)return{id:(o=s).bundleId,createTime:du(o.createTime),version:o.version};var o})}saveBundleMetadata(i,n){return pw(i).put({bundleId:(s=n).id,createTime:om(Ci(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return zS(i).get(n).next(s=>{if(s)return{name:(o=s).name,query:dy(o.bundledQuery),readTime:du(o.readTime)};var o})}saveNamedQuery(i,n){return zS(i).put({name:(s=n).name,readTime:om(Ci(s.readTime)),bundledQuery:s.bundledQuery});var s}}function pw(r){return $e(r,cu.store)}function zS(r){return $e(r,uu.store)}class QA{constructor(){this.Gt=new mw}addToCollectionParentIndex(i,n){return this.Gt.add(n),Me.resolve()}getCollectionParents(i,n){return Me.resolve(this.Gt.getEntries(n))}}class mw{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n]||new qn(Tt.comparator),d=!o.has(s);return this.index[n]=o.add(s),d}has(i){const n=i.lastSegment(),s=i.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(i){return(this.index[i]||new qn(Tt.comparator)).toArray()}}class lm{constructor(){this.zt=new mw}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),o=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const d={collectionId:s,parent:go(o)};return $S(i).put(d)}return Me.resolve()}getCollectionParents(i,n){const s=[],o=IDBKeyRange.bound([n,""],[gS(n),""],!1,!0);return $S(i).Lt(o).next(d=>{for(const f of d){if(f.collectionId!==n)break;s.push(Ha(f.parent))}return s})}}function $S(r){return $e(r,Hl.store)}const YS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zr{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Zr(i,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function cm(r,i,n){const s=r.store(Sn.store),o=r.store(or.store),d=[],f=IDBKeyRange.only(n.batchId);let _=0;const C=s.Kt({range:f},(I,x,L)=>(_++,L.delete()));d.push(C.next(()=>{vt(1===_)}));const T=[];for(const I of n.mutations){const x=or.key(i,I.key.path,n.batchId);d.push(o.delete(x)),T.push(I.key)}return Me.waitFor(d).next(()=>T)}function um(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw Xe();i=r.noDocument}return JSON.stringify(i).length}Zr.DEFAULT_COLLECTION_PERCENTILE=10,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zr.DEFAULT=new Zr(41943040,Zr.DEFAULT_COLLECTION_PERCENTILE,Zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zr.DISABLED=new Zr(-1,0,0);class hy{constructor(i,n,s,o){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=o,this.Jt={}}static Yt(i,n,s,o){vt(""!==i.uid);const d=i.isAuthenticated()?i.uid:"";return new hy(d,n,s,o)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zl(i).Kt({index:Sn.userMutationsIndex,range:s},(o,d,f)=>{n=!1,f.done()}).next(()=>n)}addMutationBatch(i,n,s,o){const d=Jo(i),f=zl(i);return f.add({}).next(_=>{vt("number"==typeof _);const C=new uw(_,n,s,o),T=function(L,V,Y){const se=Y.baseMutations.map(Le=>ay(L.Wt,Le)),ve=Y.mutations.map(Le=>ay(L.Wt,Le));return new Sn(V,Y.batchId,Y.localWriteTime.toMillis(),se,ve)}(this.N,this.userId,C),I=[];let x=new qn((L,V)=>At(L.canonicalString(),V.canonicalString()));for(const L of o){const V=or.key(this.userId,L.key.path,_);x=x.add(L.key.path.popLast()),I.push(f.put(T)),I.push(d.put(V,or.PLACEHOLDER))}return x.forEach(L=>{I.push(this.Ht.addToCollectionParentIndex(i,L))}),i.addOnCommittedListener(()=>{this.Jt[_]=C.keys()}),Me.waitFor(I).next(()=>C)})}lookupMutationBatch(i,n){return zl(i).get(n).next(s=>s?(vt(s.userId===this.userId),Gl(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Me.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const o=s.keys();return this.Jt[n]=o,o}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,o=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return zl(i).Kt({index:Sn.userMutationsIndex,range:o},(f,_,C)=>{_.userId===this.userId&&(vt(_.batchId>=s),d=Gl(this.N,_)),C.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return zl(i).Kt({index:Sn.userMutationsIndex,range:n,reverse:!0},(o,d,f)=>{s=d.batchId,f.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zl(i).Lt(Sn.userMutationsIndex,n).next(s=>s.map(o=>Gl(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=or.prefixForPath(this.userId,n.path),o=IDBKeyRange.lowerBound(s),d=[];return Jo(i).Kt({range:o},(f,_,C)=>{const[T,I,x]=f,L=Ha(I);if(T===this.userId&&n.path.isEqual(L))return zl(i).get(x).next(V=>{if(!V)throw Xe();vt(V.userId===this.userId),d.push(Gl(this.N,V))});C.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new qn(At);const o=[];return n.forEach(d=>{const f=or.prefixForPath(this.userId,d.path),_=IDBKeyRange.lowerBound(f),C=Jo(i).Kt({range:_},(T,I,x)=>{const[L,V,Y]=T,se=Ha(V);L===this.userId&&d.path.isEqual(se)?s=s.add(Y):x.done()});o.push(C)}),Me.waitFor(o).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1,d=or.prefixForPath(this.userId,s),f=IDBKeyRange.lowerBound(d);let _=new qn(At);return Jo(i).Kt({range:f},(C,T,I)=>{const[x,L,V]=C,Y=Ha(L);x===this.userId&&s.isPrefixOf(Y)?Y.length===o&&(_=_.add(V)):I.done()}).next(()=>this.Zt(i,_))}Zt(i,n){const s=[],o=[];return n.forEach(d=>{o.push(zl(i).get(d).next(f=>{if(null===f)throw Xe();vt(f.userId===this.userId),s.push(Gl(this.N,f))}))}),Me.waitFor(o).next(()=>s)}removeMutationBatch(i,n){return cm(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Me.forEach(s,o=>this.referenceDelegate.markPotentiallyOrphaned(i,o))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Me.resolve();const s=IDBKeyRange.lowerBound(or.prefixForUser(this.userId)),o=[];return Jo(i).Kt({range:s},(d,f,_)=>{if(d[0]===this.userId){const C=Ha(d[1]);o.push(C)}else _.done()}).next(()=>{vt(0===o.length)})})}containsKey(i,n){return gw(i,this.userId,n)}ee(i){return Th(i).get(this.userId).next(n=>n||new Ul(this.userId,-1,""))}}function gw(r,i,n){const s=or.prefixForPath(i,n.path),o=s[1],d=IDBKeyRange.lowerBound(s);let f=!1;return Jo(r).Kt({range:d,qt:!0},(_,C,T)=>{const[I,x,L]=_;I===i&&x===o&&(f=!0),T.done()}).next(()=>f)}function zl(r){return $e(r,Sn.store)}function Jo(r){return $e(r,or.store)}function Th(r){return $e(r,Ul.store)}class hu{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new hu(0)}static ie(){return new hu(-1)}}class JA{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new hu(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>lt.fromTimestamp(new di(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(o=>(o.highestListenSequenceNumber=n,s&&(o.lastRemoteSnapshotVersion=s.toTimestamp()),n>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n),this.oe(i,o)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>Mh(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(vt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let o=0;const d=[];return Mh(i).Kt((f,_)=>{const C=am(_);C.sequenceNumber<=n&&null===s.get(C.targetId)&&(o++,d.push(this.removeTargetData(i,C)))}).next(()=>Me.waitFor(d)).next(()=>o)}forEachTarget(i,n){return Mh(i).Kt((s,o)=>{const d=am(o);n(d)})}re(i){return _w(i).get(qr.key).next(n=>(vt(null!==n),n))}oe(i,n){return _w(i).put(qr.key,n)}ae(i,n){return Mh(i).put(fw(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=W_(n),o=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Mh(i).Kt({range:o,index:Dr.queryTargetsIndexName},(f,_,C)=>{const T=am(_);TC(n,T.target)&&(d=T,C.done())}).next(()=>d)}addMatchingKeys(i,n,s){const o=[],d=ja(i);return n.forEach(f=>{const _=go(f.path);o.push(d.put(new Fi(s,_))),o.push(this.referenceDelegate.addReference(i,s,f))}),Me.waitFor(o)}removeMatchingKeys(i,n,s){const o=ja(i);return Me.forEach(n,d=>{const f=go(d.path);return Me.waitFor([o.delete([s,f]),this.referenceDelegate.removeReference(i,s,d)])})}removeMatchingKeysForTargetId(i,n){const s=ja(i),o=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(o)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),o=ja(i);let d=sn();return o.Kt({range:s,qt:!0},(f,_,C)=>{const T=Ha(f[1]),I=new We(T);d=d.add(I)}).next(()=>d)}containsKey(i,n){const s=go(n.path),o=IDBKeyRange.bound([s],[gS(s)],!1,!0);let d=0;return ja(i).Kt({index:Fi.documentTargetsIndex,qt:!0,range:o},([f,_],C,T)=>{0!==f&&(d++,T.done())}).next(()=>d>0)}Et(i,n){return Mh(i).get(n).next(s=>s?am(s):null)}}function Mh(r){return $e(r,Dr.store)}function _w(r){return $e(r,qr.store)}function ja(r){return $e(r,Fi.store)}function $l(r){return yw.apply(this,arguments)}function yw(){return(yw=(0,we.Z)(function*(r){if(r.code!==fe.FAILED_PRECONDITION||r.message!==aw)throw r;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function vw([r,i],[n,s]){const o=At(r,n);return 0===o?At(i,s):o}class XA{constructor(i){this.ue=i,this.buffer=new qn(vw),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ek{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,we.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(o){Eh(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield $l(o)}yield n._e(i)}))}}class _1{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Me.resolve(Pi.T);const s=new XA(n);return this.me.forEachTarget(i,o=>s.fe(o.sequenceNumber)).next(()=>this.me.ye(i,o=>s.fe(o))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),Me.resolve(YS)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YS):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,o,d,f,_,C,T;const I=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(i,o))).next(x=>(s=x,_=Date.now(),this.removeTargets(i,s,n))).next(x=>(d=x,C=Date.now(),this.removeOrphanedDocuments(i,s))).next(x=>(T=Date.now(),hS()<=eu.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-I}ms\n\tDetermined least recently used ${o} in `+(_-f)+`ms\n\tRemoved ${d} targets in `+(C-_)+`ms\n\tRemoved ${x} documents in `+(T-C)+`ms\nTotal Duration: ${T-I}ms`),Me.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:d,documentsRemoved:x})))}}class y1{constructor(i,n){this.db=i,this.garbageCollector=new _1(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(o=>s+o))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,o)=>n(o))}addReference(i,n,s){return bw(i,s)}removeReference(i,n,s){return bw(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return bw(i,n)}Ie(i,n){return function(s,o){let d=!1;return Th(s).jt(f=>gw(s,f,o).next(_=>(_&&(d=!0),Me.resolve(!_)))).next(()=>d)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let d=0;return this.Te(i,(f,_)=>{if(_<=n){const C=this.Ie(i,f).next(T=>{if(!T)return d++,s.getEntry(i,f).next(()=>(s.removeEntry(f),ja(i).delete([0,go(f.path)])))});o.push(C)}}).next(()=>Me.waitFor(o)).next(()=>s.apply(i)).next(()=>d)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return bw(i,n)}Te(i,n){const s=ja(i);let o,d=Pi.T;return s.Kt({index:Fi.documentTargetsIndex},([f,_],{path:C,sequenceNumber:T})=>{0===f?(d!==Pi.T&&n(new We(Ha(o)),d),d=T,o=C):d=Pi.T}).next(()=>{d!==Pi.T&&n(new We(Ha(o)),d)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function bw(r,i){return ja(r).put((s=r.currentSequenceNumber,new Fi(0,go(i.path),s)));var s}class dm{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[o,d]of s)if(this.equalsFn(o,i))return d}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),o=this.inner[s];if(void 0!==o){for(let d=0;d<o.length;d++)if(this.equalsFn(o[d][0],i))return void(o[d]=[i,n]);o.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],i))return 1===s.length?delete this.inner[n]:s.splice(o,1),!0;return!1}forEach(i){zn(this.inner,(n,s)=>{for(const[o,d]of s)i(o,d)})}isEmpty(){return Ol(this.inner)}}class Cw{constructor(){this.changes=new dm(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:lt.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:Nn.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Me.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class fy{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return Ga(i).put(Yl(n),s)}removeEntry(i,n){const s=Ga(i),o=Yl(n);return s.delete(o)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return Ga(i).get(Yl(n)).next(s=>this.Re(n,s))}be(i,n){return Ga(i).get(Yl(n)).next(s=>({document:this.Re(n,s),size:um(s)}))}getEntries(i,n){let s=rn();return this.Pe(i,n,(o,d)=>{const f=this.Re(o,d);s=s.insert(o,f)}).next(()=>s)}ve(i,n){let s=rn(),o=new hi(We.comparator);return this.Pe(i,n,(d,f)=>{const _=this.Re(d,f);s=s.insert(d,_),o=o.insert(d,um(f))}).next(()=>({documents:s,Ve:o}))}Pe(i,n,s){if(n.isEmpty())return Me.resolve();const o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),d=n.getIterator();let f=d.getNext();return Ga(i).Kt({range:o},(_,C,T)=>{const I=We.fromSegments(_);for(;f&&We.comparator(f,I)<0;)s(f,null),f=d.getNext();f&&f.isEqual(I)&&(s(f,C),f=d.hasNext()?d.getNext():null),f?T.Mt(f.path.toArray()):T.done()}).next(()=>{for(;f;)s(f,null),f=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(i,n,s){let o=rn();const d=n.path.length+1,f={};if(s.isEqual(lt.min())){const _=n.path.toArray();f.range=IDBKeyRange.lowerBound(_)}else{const _=n.path.toArray(),C=Sh(s);f.range=IDBKeyRange.lowerBound([_,C],!0),f.index=Zn.collectionReadTimeIndex}return Ga(i).Kt(f,(_,C,T)=>{if(_.length!==d)return;const I=hw(this.N,C);n.path.isPrefixOf(I.key.path)?ou(n,I)&&(o=o.insert(I.key,I)):T.done()}).next(()=>o)}newChangeBuffer(i){return new tk(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return qS(i).get(Zo.key).next(n=>(vt(!!n),n))}Ae(i,n){return qS(i).put(Zo.key,n)}Re(i,n){if(n){const s=hw(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(lt.min()))return s}return Nn.newInvalidDocument(i)}}class tk extends Cw{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new dm(s=>s.toString(),(s,o)=>s.isEqual(o))}applyChanges(i){const n=[];let s=0,o=new qn((d,f)=>At(d.canonicalString(),f.canonicalString()));return this.changes.forEach((d,f)=>{const _=this.De.get(d);if(f.document.isValidDocument()){const C=sm(this.Se.N,f.document,this.getReadTime(d));o=o.add(d.path.popLast()),s+=um(C)-_,n.push(this.Se.addEntry(i,d,C))}else if(s-=_,this.trackRemovals){const C=sm(this.Se.N,Nn.newNoDocument(d,lt.min()),this.getReadTime(d));n.push(this.Se.addEntry(i,d,C))}else n.push(this.Se.removeEntry(i,d))}),o.forEach(d=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,d))}),n.push(this.Se.updateMetadata(i,s)),Me.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:o})=>(o.forEach((d,f)=>{this.De.set(d,f)}),s))}}function qS(r){return $e(r,Zo.store)}function Ga(r){return $e(r,Zn.store)}function Yl(r){return r.path.toArray()}class nk{constructor(i){this.N=i}Ct(i,n,s,o){vt(s<o&&s>=0&&o<=11);const d=new Ko("createOrUpgrade",n);var _;s<1&&o>=1&&(i.createObjectStore(fs.store),(_=i).createObjectStore(Ul.store,{keyPath:Ul.keyPath}),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0}),_.createObjectStore(or.store),ZS(i),function(_){_.createObjectStore(Zn.store)}(i));let f=Me.resolve();return s<3&&o>=3&&(0!==s&&(function(_){_.deleteObjectStore(Fi.store),_.deleteObjectStore(Dr.store),_.deleteObjectStore(qr.store)}(i),ZS(i)),f=f.next(()=>function(_){const C=_.store(qr.store),T=new qr(0,0,lt.min().toTimestamp(),0);return C.put(qr.key,T)}(d))),s<4&&o>=4&&(0!==s&&(f=f.next(()=>function(_,C){return C.store(Sn.store).Lt().next(T=>{_.deleteObjectStore(Sn.store),_.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0});const I=C.store(Sn.store),x=T.map(L=>I.put(L));return Me.waitFor(x)})}(i,d))),f=f.next(()=>{!function(_){_.createObjectStore(Wo.store,{keyPath:Wo.keyPath})}(i)})),s<5&&o>=5&&(f=f.next(()=>this.Ce(d))),s<6&&o>=6&&(f=f.next(()=>(function(_){_.createObjectStore(Zo.store)}(i),this.Ne(d)))),s<7&&o>=7&&(f=f.next(()=>this.xe(d))),s<8&&o>=8&&(f=f.next(()=>this.ke(i,d))),s<9&&o>=9&&(f=f.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(i),function(_){const C=_.objectStore(Zn.store);C.createIndex(Zn.readTimeIndex,Zn.readTimeIndexPath,{unique:!1}),C.createIndex(Zn.collectionReadTimeIndex,Zn.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&o>=10&&(f=f.next(()=>this.$e(d))),s<11&&o>=11&&(f=f.next(()=>{(function(_){_.createObjectStore(cu.store,{keyPath:cu.keyPath})})(i),function(_){_.createObjectStore(uu.store,{keyPath:uu.keyPath})}(i)})),f}Ne(i){let n=0;return i.store(Zn.store).Kt((s,o)=>{n+=um(o)}).next(()=>{const s=new Zo(n);return i.store(Zo.store).put(Zo.key,s)})}Ce(i){const n=i.store(Ul.store),s=i.store(Sn.store);return n.Lt().next(o=>Me.forEach(o,d=>{const f=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(Sn.userMutationsIndex,f).next(_=>Me.forEach(_,C=>{vt(C.userId===d.userId);const T=Gl(this.N,C);return cm(i,d.userId,T).next(()=>{})}))}))}xe(i){const n=i.store(Fi.store),s=i.store(Zn.store);return i.store(qr.store).get(qr.key).next(o=>{const d=[];return s.Kt((f,_)=>{const C=new Tt(f),T=[0,go(C)];d.push(n.get(T).next(I=>I?Me.resolve():n.put(new Fi(0,go(C),o.highestListenSequenceNumber))))}).next(()=>Me.waitFor(d))})}ke(i,n){i.createObjectStore(Hl.store,{keyPath:Hl.keyPath});const s=n.store(Hl.store),o=new mw,d=f=>{if(o.add(f)){const _=f.lastSegment(),C=f.popLast();return s.put({collectionId:_,parent:go(C)})}};return n.store(Zn.store).Kt({qt:!0},(f,_)=>{const C=new Tt(f);return d(C.popLast())}).next(()=>n.store(or.store).Kt({qt:!0},([f,_,C],T)=>{const I=Ha(_);return d(I.popLast())}))}$e(i){const n=i.store(Dr.store);return n.Kt((s,o)=>{const d=am(o),f=fw(this.N,d);return n.put(f)})}}function ZS(r){r.createObjectStore(Fi.store,{keyPath:Fi.keyPath}).createIndex(Fi.documentTargetsIndex,Fi.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Dr.store,{keyPath:Dr.keyPath}).createIndex(Dr.queryTargetsIndexName,Dr.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(qr.store)}const ww="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ew{constructor(i,n,s,o,d,f,_,C,T,I){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=d,this.window=f,this.document=_,this.Fe=T,this.Me=I,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!Ew.bt())throw new Ie(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y1(this,o),this.We=n+"main",this.N=new rm(C),this.Ge=new _o(this.We,11,new nk(this.N)),this.ze=new JA(this.referenceDelegate,this.N),this.Ht=new lm,this.He=new fy(this.N,this.Ht),this.Je=new GS,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===I&&Xn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(fe.FAILED_PRECONDITION,ww);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new Pi(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,we.Z)(function*(o){if(n.started)return i(o)});return function(o){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,we.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,we.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>fm(i).put(new Wo(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Eh(i))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return hm(i).get(fs.key).next(n=>Me.resolve(this.cn(n)))}un(i){return fm(i).delete(this.clientId)}hn(){var i=this;return(0,we.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const o=$e(s,Wo.store);return o.Lt().next(d=>{const f=i.fn(d,18e5),_=d.filter(C=>-1===f.indexOf(C));return Me.forEach(_,C=>o.delete(C.clientId)).next(()=>_)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Me.resolve(!0):hm(i).get(fs.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Ie(fe.FAILED_PRECONDITION,ww);return!1}}return!(!this.networkEnabled||!this.inForeground)||fm(i).Lt().next(s=>void 0===this.fn(s,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&_)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Pe("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,we.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[fs.store,Wo.store],n=>{const s=new KA(n,Pi.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>fm(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return hy.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let d;return Pe("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",jS,f=>(d=new KA(f,this.Le?this.Le.next():Pi.T),"readwrite-primary"===n?this.sn(d).next(_=>!!_||this.rn(d)).next(_=>{if(!_)throw Xn(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ie(fe.FAILED_PRECONDITION,aw);return s(d)}).next(_=>this.an(d).next(()=>_)):this.En(d).next(()=>s(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}En(i){return hm(i).get(fs.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ie(fe.FAILED_PRECONDITION,ww)})}an(i){const n=new fs(this.clientId,this.allowTabSynchronization,Date.now());return hm(i).put(fs.key,n)}static bt(){return _o.bt()}on(i){const n=hm(i);return n.get(fs.key).next(s=>this.cn(s)?(Pe("IndexedDbPersistence","Releasing primary lease."),n.delete(fs.key)):Me.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(Xn(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,Jt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Pe("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Xn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){Xn("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function hm(r){return $e(r,fs.store)}function fm(r){return $e(r,Wo.store)}function Dw(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class ik{constructor(i,n){this.progress=i,this.Tn=n}}class fu{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(o=>{for(const d of s)d.applyToLocalView(o);return o})}bn(i,n){i.forEach((s,o)=>{for(const d of n)d.applyToLocalView(o)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return We.isDocumentKey((o=n).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(i,n.path):PC(n)?this.Sn(i,n,s):this.Dn(i,n,s);var o}Vn(i,n){return this.An(i,new We(n)).next(s=>{let o=WC();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}Sn(i,n,s){const o=n.collectionGroup;let d=WC();return this.Ht.getCollectionParents(i,o).next(f=>Me.forEach(f,_=>{const C=(T=n,I=_.child(o),new Na(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,I;return this.Dn(i,C,s).next(T=>{T.forEach((I,x)=>{d=d.insert(I,x)})})}).next(()=>d))}Dn(i,n,s){let o,d;return this.He.getDocumentsMatchingQuery(i,n,s).next(f=>(o=f,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(f=>(d=f,this.Cn(i,d,o).next(_=>{o=_;for(const C of d)for(const T of C.mutations){const I=T.key;let x=o.get(I);null==x&&(x=Nn.newInvalidDocument(I),o=o.insert(I,x)),ty(T,x,C.localWriteTime),x.isFoundDocument()||(o=o.remove(I))}}))).next(()=>(o.forEach((f,_)=>{ou(n,_)||(o=o.remove(f))}),o))}Cn(i,n,s){let o=sn();for(const f of n)for(const _ of f.mutations)_ instanceof Ba&&null===s.get(_.key)&&(o=o.add(_.key));let d=s;return this.He.getEntries(i,o).next(f=>(f.forEach((_,C)=>{C.isFoundDocument()&&(d=d.insert(_,C))}),d))}}class Sw{constructor(i,n,s,o){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=o}static kn(i,n){let s=sn(),o=sn();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:o=o.add(d.doc.key)}return new Sw(i,n.fromCache,s,o)}}class Tw{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,o){return 0===(d=n).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(lt.min())?this.Fn(i,n):this.On.Pn(i,o).next(d=>{const f=this.Mn(n,d);return(Q_(n)||Zp(n))&&this.Ln(n.limitType,f,o,s)?this.Fn(i,n):(hS()<=eu.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),J_(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(_=>(f.forEach(C=>{_=_.insert(C.key,C)}),_)))});var d}Mn(i,n){let s=new qn(OA(i));return n.forEach((o,d)=>{ou(i,d)&&(s=s.add(d))}),s}Ln(i,n,s,o){if(s.size!==n.size)return!0;const d="F"===i?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(o)>0)}Fn(i,n){return hS()<=eu.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",J_(n)),this.On.getDocumentsMatchingQuery(i,n,lt.min())}}class rk{constructor(i,n,s,o){this.persistence=i,this.Bn=n,this.N=o,this.Un=new hi(At),this.qn=new dm(d=>W_(d),TC),this.Kn=lt.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new fu(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function Mw(r,i,n,s){return new rk(r,i,n,s)}function WS(r,i){return py.apply(this,arguments)}function py(){return(py=(0,we.Z)(function*(r,i){const n=Ne(r);let s=n.In,o=n.Qn;const d=yield n.persistence.runTransaction("Handle user change","readonly",f=>{let _;return n.In.getAllMutationBatches(f).next(C=>(_=C,s=n.persistence.getMutationQueue(i),o=new fu(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(f))).next(C=>{const T=[],I=[];let x=sn();for(const L of _){T.push(L.batchId);for(const V of L.mutations)x=x.add(V.key)}for(const L of C){I.push(L.batchId);for(const V of L.mutations)x=x.add(V.key)}return o.Pn(f,x).next(L=>({Wn:L,removedBatchIds:T,addedBatchIds:I}))})});return n.In=s,n.Qn=o,n.Bn.$n(n.Qn),d})).apply(this,arguments)}function sk(r,i){const n=Ne(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=i.batch.keys(),d=n.jn.newChangeBuffer({trackRemovals:!0});return function(f,_,C,T){const I=C.batch,x=I.keys();let L=Me.resolve();return x.forEach(V=>{L=L.next(()=>T.getEntry(_,V)).next(Y=>{const se=C.docVersions.get(V);vt(null!==se),Y.version.compareTo(se)<0&&(I.applyToRemoteDocument(Y,C),Y.isValidDocument()&&T.addEntry(Y,C.commitVersion))})}),L.next(()=>f.In.removeMutationBatch(_,I))}(n,s,i,d).next(()=>d.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,o))})}function my(r){const i=Ne(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function ok(r,i){const n=Ne(r),s=i.snapshotVersion;let o=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const f=n.jn.newChangeBuffer({trackRemovals:!0});o=n.Un;const _=[];i.targetChanges.forEach((T,I)=>{const x=o.get(I);if(!x)return;_.push(n.ze.removeMatchingKeys(d,T.removedDocuments,I).next(()=>n.ze.addMatchingKeys(d,T.addedDocuments,I)));const L=T.resumeToken;if(L.approximateByteSize()>0){const V=x.withResumeToken(L,s).withSequenceNumber(d.currentSequenceNumber);o=o.insert(I,V),Y=x,ve=T,vt((se=V).resumeToken.approximateByteSize()>0),(0===Y.resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&_.push(n.ze.updateTargetData(d,V))}var Y,se,ve});let C=rn();if(i.documentUpdates.forEach((T,I)=>{i.resolvedLimboDocuments.has(T)&&_.push(n.persistence.referenceDelegate.updateLimboDocument(d,T))}),_.push(Iw(d,f,i.documentUpdates,s,void 0).next(T=>{C=T})),!s.isEqual(lt.min())){const T=n.ze.getLastRemoteSnapshotVersion(d).next(I=>n.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));_.push(T)}return Me.waitFor(_).next(()=>f.apply(d)).next(()=>n.Qn.vn(d,C)).next(()=>C)}).then(d=>(n.Un=o,d))}function Iw(r,i,n,s,o){let d=sn();return n.forEach(f=>d=d.add(f)),i.getEntries(r,d).next(f=>{let _=rn();return n.forEach((C,T)=>{const I=f.get(C),x=(null==o?void 0:o.get(C))||s;T.isNoDocument()&&T.version.isEqual(lt.min())?(i.removeEntry(C,x),_=_.insert(C,T)):!I.isValidDocument()||T.version.compareTo(I.version)>0||0===T.version.compareTo(I.version)&&I.hasPendingWrites?(i.addEntry(T,x),_=_.insert(C,T)):Pe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",I.version," Watch version:",T.version)}),_})}function KS(r,i){const n=Ne(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Ih(r,i){const n=Ne(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ze.getTargetData(s,i).next(d=>d?(o=d,Me.resolve(o)):n.ze.allocateTargetId(s).next(f=>(o=new jl(i,f,0,s.currentSequenceNumber),n.ze.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Un.get(s.targetId);return(null===o||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Ah(r,i,n){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,we.Z)(function*(r,i,n){const s=Ne(r),o=s.Un.get(i),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eh(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${i}: ${f}`)}s.Un=s.Un.remove(i),s.qn.delete(o.target)})).apply(this,arguments)}function kh(r,i,n){const s=Ne(r);let o=lt.min(),d=sn();return s.persistence.runTransaction("Execute query","readonly",f=>function(_,C,T){const I=Ne(_),x=I.qn.get(T);return void 0!==x?Me.resolve(I.Un.get(x)):I.ze.getTargetData(C,T)}(s,f,Vs(i)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(f,_.targetId).next(C=>{d=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(f,i,n?o:lt.min(),n?d:sn())).next(_=>({documents:_,Gn:d})))}function QS(r,i){const n=Ne(r),s=Ne(n.ze),o=n.Un.get(i);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,i).next(f=>f?f.target:null))}function kw(r){const i=Ne(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,o,d){const f=Ne(s);let _=rn(),C=Sh(d);const T=Ga(o),I=IDBKeyRange.lowerBound(C,!0);return T.Kt({index:Zn.readTimeIndex,range:I},(x,L)=>{const V=hw(f.N,L);_=_.insert(V.key,V),C=L.readTime}).next(()=>({Tn:_,readTime:Ln(C)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function xw(){return(xw=(0,we.Z)(function*(r){const i=Ne(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const o=Ga(s);let d=lt.min();return o.Kt({index:Zn.readTimeIndex,reverse:!0},(f,_,C)=>{_.readTime&&(d=Ln(_.readTime)),C.done()}).next(()=>d)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function Rw(){return(Rw=(0,we.Z)(function*(r,i,n,s){const o=Ne(r);let d=sn(),f=rn(),_=KC();for(const I of n){const x=i.zn(I.metadata.name);I.document&&(d=d.add(x)),f=f.insert(x,i.Hn(I)),_=_.insert(x,i.Jn(I.metadata.readTime))}const C=o.jn.newChangeBuffer({trackRemovals:!0}),T=yield Ih(o,(I=s,Vs(La(Tt.fromString(`__bundle__/docs/${I}`)))));var I;return o.persistence.runTransaction("Apply bundle documents","readwrite",I=>Iw(I,C,f,lt.min(),_).next(x=>(C.apply(I),x)).next(x=>o.ze.removeMatchingKeysForTargetId(I,T.targetId).next(()=>o.ze.addMatchingKeys(I,d,T.targetId)).next(()=>o.Qn.vn(I,x)).next(()=>x)))})).apply(this,arguments)}function ck(r,i){return Ow.apply(this,arguments)}function Ow(){return(Ow=(0,we.Z)(function*(r,i,n=sn()){const s=yield Ih(r,Vs(dy(i.bundledQuery))),o=Ne(r);return o.persistence.runTransaction("Save named query","readwrite",d=>{const f=Ci(i.readTime);if(s.snapshotVersion.compareTo(f)>=0)return o.Je.saveNamedQuery(d,i);const _=s.withResumeToken(Fn.EMPTY_BYTE_STRING,f);return o.Un=o.Un.insert(_.targetId,_),o.ze.updateTargetData(d,_).next(()=>o.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>o.ze.addMatchingKeys(d,n,s.targetId)).next(()=>o.Je.saveNamedQuery(d,i))})})).apply(this,arguments)}class uk{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Me.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Ci(s.createTime)}),Me.resolve()}getNamedQuery(i,n){return Me.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:dy(s.bundledQuery),readTime:Ci(s.readTime)}),Me.resolve();var s}}class Pw{constructor(){this.Zn=new qn(wi.ts),this.es=new qn(wi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new wi(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new wi(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new We(new Tt([])),s=new wi(n,i),o=new wi(n,i+1),d=[];return this.es.forEachInRange([s,o],f=>{this.rs(f),d.push(f.key)}),d}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new We(new Tt([])),s=new wi(n,i),o=new wi(n,i+1);let d=sn();return this.es.forEachInRange([s,o],f=>{d=d.add(f.key)}),d}containsKey(i){const n=new wi(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class wi{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return We.comparator(i.key,n.key)||At(i.ls,n.ls)}static ns(i,n){return At(i.ls,n.ls)||We.comparator(i.key,n.key)}}class JS{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new qn(wi.ts)}checkEmpty(i){return Me.resolve(0===this.In.length)}addMutationBatch(i,n,s,o){const d=this.fs;this.fs++;const f=new uw(d,n,s,o);this.In.push(f);for(const _ of o)this.ds=this.ds.add(new wi(_.key,d)),this.Ht.addToCollectionParentIndex(i,_.key.path.popLast());return Me.resolve(f)}lookupMutationBatch(i,n){return Me.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const o=this._s(n+1),d=o<0?0:o;return Me.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Me.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new wi(n,0),o=new wi(n,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,o],f=>{const _=this.ws(f.ls);d.push(_)}),Me.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new qn(At);return n.forEach(o=>{const d=new wi(o,0),f=new wi(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,f],_=>{s=s.add(_.ls)})}),Me.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,o=s.length+1;let d=s;We.isDocumentKey(d)||(d=d.child(""));const f=new wi(new We(d),0);let _=new qn(At);return this.ds.forEachWhile(C=>{const T=C.key.path;return!!s.isPrefixOf(T)&&(T.length===o&&(_=_.add(C.ls)),!0)},f),Me.resolve(this.gs(_))}gs(i){const n=[];return i.forEach(s=>{const o=this.ws(s);null!==o&&n.push(o)}),n}removeMutationBatch(i,n){vt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Me.forEach(n.mutations,o=>{const d=new wi(o.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(i,o.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new wi(n,0),o=this.ds.firstAfterOrEqual(s);return Me.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(i){return Me.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class dk{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new hi(We.comparator),this.size=0}addEntry(i,n,s){const o=n.key,d=this.docs.get(o),f=d?d.size:0,_=this.ps(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:_,readTime:s}),this.size+=_-f,this.Ht.addToCollectionParentIndex(i,o.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Me.resolve(s?s.document.clone():Nn.newInvalidDocument(n))}getEntries(i,n){let s=rn();return n.forEach(o=>{const d=this.docs.get(o);s=s.insert(o,d?d.document.clone():Nn.newInvalidDocument(o))}),Me.resolve(s)}getDocumentsMatchingQuery(i,n,s){let o=rn();const d=new We(n.path.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:_,value:{document:C,readTime:T}}=f.getNext();if(!n.path.isPrefixOf(_.path))break;T.compareTo(s)<=0||ou(n,C)&&(o=o.insert(C.key,C.clone()))}return Me.resolve(o)}Es(i,n){return Me.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new hk(this)}getSize(i){return Me.resolve(this.size)}}class hk extends Cw{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,o)=>{o.document.isValidDocument()?n.push(this.Se.addEntry(i,o.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Me.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class XS{constructor(i){this.persistence=i,this.Ts=new dm(n=>W_(n),TC),this.lastRemoteSnapshotVersion=lt.min(),this.highestTargetId=0,this.Is=0,this.As=new Pw,this.targetCount=0,this.Rs=hu.se()}forEachTarget(i,n){return this.Ts.forEach((s,o)=>n(o)),Me.resolve()}getLastRemoteSnapshotVersion(i){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Me.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Me.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new hu(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Me.resolve()}updateTargetData(i,n){return this.ae(n),Me.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(i,n,s){let o=0;const d=[];return this.Ts.forEach((f,_)=>{_.sequenceNumber<=n&&null===s.get(_.targetId)&&(this.Ts.delete(f),d.push(this.removeMatchingKeysForTargetId(i,_.targetId)),o++)}),Me.waitFor(d).next(()=>o)}getTargetCount(i){return Me.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Me.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Me.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const o=this.persistence.referenceDelegate,d=[];return o&&n.forEach(f=>{d.push(o.markPotentiallyOrphaned(i,f))}),Me.waitFor(d)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Me.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Me.resolve(s)}containsKey(i,n){return Me.resolve(this.As.containsKey(n))}}class fk{constructor(i,n){this.bs={},this.Le=new Pi(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new XS(this),this.Ht=new QA,this.He=new dk(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new rm(n),this.Je=new uk(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new JS(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Pe("MemoryPersistence","Starting transaction:",i);const o=new pk(this.Le.next());return this.referenceDelegate.vs(),s(o).next(d=>this.referenceDelegate.Vs(o).next(()=>d)).toPromise().then(d=>(o.raiseOnCommittedEvent(),d))}Ss(i,n){return Me.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class pk extends cy{constructor(i){super(),this.currentSequenceNumber=i}}class Fw{constructor(i){this.persistence=i,this.Ds=new Pw,this.Cs=null}static Ns(i){return new Fw(i)}get xs(){if(this.Cs)return this.Cs;throw Xe()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Me.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Me.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Me.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(o=>this.xs.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(o=>{o.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.xs,s=>{const o=We.fromPath(s);return this.ks(i,o).next(d=>{d||n.removeEntry(o)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Me.or([()=>Me.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function gy(r,i){return`firestore_clients_${r}_${i}`}function _y(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function yy(r,i){return`firestore_targets_${r}_${i}`}class xh{constructor(i,n,s,o){this.user=i,this.batchId=n,this.state=s,this.error=o}static $s(i,n,s){const o=JSON.parse(s);let d,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(d=new Ie(o.error.code,o.error.message))),f?new xh(i,n,o.state,d):(Xn("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class pm{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let o,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(o=new Ie(s.error.code,s.error.message))),d?new pm(i,s.state,o):(Xn("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class vy{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let o="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ua();for(let f=0;o&&f<s.activeTargetIds.length;++f)o=bC(s.activeTargetIds[f]),d=d.add(s.activeTargetIds[f]);return o?new vy(i,d):(Xn("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class mm{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new mm(n.clientId,n.onlineState):(Xn("SharedClientState",`Failed to parse online state: ${i}`),null)}}class Nw{constructor(){this.activeTargetIds=Ua()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class by{constructor(i,n,s,o,d){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new hi(At),this.started=!1,this.Ks=[];const f=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=gy(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Nw),this.Ws=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,we.Z)(function*(){const n=yield i.syncEngine.pn();for(const o of n){if(o===i.Ls)continue;const d=i.getItem(gy(i.persistenceKey,o));if(d){const f=vy.$s(o,d);f&&(i.qs=i.qs.insert(f.clientId,f))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const o=i.Xs(s);o&&i.Zs(o)}for(const o of i.Ks)i.Us(o);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,o)=>{o.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(yy(this.persistenceKey,i));if(s){const o=pm.$s(i,s);o&&(n=o.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(yy(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(o=>{this.ni(o)}),this.currentUser=i,s.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Pe("SharedClientState","READ",i,n),n}setItem(i,n){Pe("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Pe("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Pe("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void Xn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,we.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const o=n.ai(s.key);return n.ci(o,null)}{const o=n.ui(s.key,s.newValue);if(o)return n.ci(o.clientId,o)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const o=n.hi(s.key,s.newValue);if(o)return n.li(o)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const o=n.fi(s.key,s.newValue);if(o)return n.di(o)}}else if(s.key===n.Hs){if(null!==s.newValue){const o=n.Xs(s.newValue);if(o)return n.Zs(o)}}else if(s.key===n.Qs){const o=function(d){let f=Pi.T;if(null!=d)try{const _=JSON.parse(d);vt("number"==typeof _),f=_}catch(_){Xn("SharedClientState","Failed to read sequence number from WebStorage",_)}return f}(s.newValue);o!==Pi.T&&n.sequenceNumberHandler(o)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const o=new xh(this.currentUser,i,n,s),d=_y(this.persistenceKey,this.currentUser,i);this.setItem(d,o.Os())}ni(i){const n=_y(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const o=yy(this.persistenceKey,i),d=new pm(i,n,s);this.setItem(o,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return vy.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),o=Number(s[1]);return xh.$s(new xi(void 0!==s[2]?s[2]:null),o,n)}fi(i,n){const s=this.zs.exec(i),o=Number(s[1]);return pm.$s(o,n)}Xs(i){return mm.$s(i)}li(i){var n=this;return(0,we.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),o=this.ti(this.qs),d=this.ti(s),f=[],_=[];return d.forEach(C=>{o.has(C)||f.push(C)}),o.forEach(C=>{d.has(C)||_.push(C)}),this.syncEngine.gi(f,_).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Ua();return i.forEach((s,o)=>{n=n.unionWith(o.activeTargetIds)}),n}}class eT{constructor(){this.yi=new Nw,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new Nw,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class tT{Ei(i){}shutdown(){}}class Lw{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const nT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class v1{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class mk extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,o){const d=this.Bi(i,n);Pe("RestConnection","Sending: ",d,s);const f={};return this.Ui(f,o),this.qi(i,d,f,s).then(_=>(Pe("RestConnection","Received: ",_),_),_=>{throw ih("RestConnection",`${i} failed with error: `,_,"url: ",d,"request:",s),_})}Ki(i,n,s,o){return this.Li(i,n,s,o)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+$p,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${nT[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,o){return new Promise((d,f)=>{const _=new dS;_.listenOnce(EA.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case gC.NO_ERROR:const T=_.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(T)),d(T);break;case gC.TIMEOUT:Pe("Connection",'RPC "'+i+'" timed out'),f(new Ie(fe.DEADLINE_EXCEEDED,"Request time out"));break;case gC.HTTP_ERROR:const I=_.getStatus();if(Pe("Connection",'RPC "'+i+'" failed with status:',I,"response text:",_.getResponseText()),I>0){const x=_.getResponseJson().error;if(x&&x.status&&x.message){const L=function(V){const Y=V.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(Y)>=0?Y:fe.UNKNOWN}(x.status);f(new Ie(L,x.message))}else f(new Ie(fe.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new Ie(fe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+i+'" completed.')}});const C=JSON.stringify(o);_.send(n,"POST",C,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],o=u1(),d=uS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new _C({})),this.Ui(f.initMessageHeaders,n),(0,Jt.uI)()||(0,Jt.b$)()||(0,Jt.d)()||(0,Jt.w1)()||(0,Jt.Mn)()||(0,Jt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=s.join("");Pe("Connection","Creating WebChannel: "+_,f);const C=o.createWebChannel(_,f);let T=!1,I=!1;const x=new v1({vi:V=>{I?Pe("Connection","Not sending because WebChannel is closed:",V):(T||(Pe("Connection","Opening WebChannel transport."),C.open(),T=!0),Pe("Connection","WebChannel sending:",V),C.send(V))},Vi:()=>C.close()}),L=(V,Y,se)=>{V.listen(Y,ve=>{try{se(ve)}catch(Le){setTimeout(()=>{throw Le},0)}})};return L(C,z_.EventType.OPEN,()=>{I||Pe("Connection","WebChannel transport opened.")}),L(C,z_.EventType.CLOSE,()=>{I||(I=!0,Pe("Connection","WebChannel transport closed"),x.$i())}),L(C,z_.EventType.ERROR,V=>{I||(I=!0,ih("Connection","WebChannel transport errored:",V),x.$i(new Ie(fe.UNAVAILABLE,"The operation could not be completed")))}),L(C,z_.EventType.MESSAGE,V=>{var Y;if(!I){const se=V.data[0];vt(!!se);const ve=se,Le=ve.error||(null===(Y=ve[0])||void 0===Y?void 0:Y.error);if(Le){Pe("Connection","WebChannel received error:",Le);const Ge=Le.status;let Be=function(ii){const Ss=ei[ii];if(void 0!==Ss)return YC(Ss)}(Ge),nt=Le.message;void 0===Be&&(Be=fe.INTERNAL,nt="Unknown error status: "+Ge+" with message "+Le.message),I=!0,x.$i(new Ie(Be,nt)),C.close()}else Pe("Connection","WebChannel received:",se),x.Oi(se)}}),L(d,d1.STAT_EVENT,V=>{V.stat===DA.PROXY?Pe("Connection","Detected buffering proxy"):V.stat===DA.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function pu(){return"undefined"!=typeof window?window:null}function Vw(){return"undefined"!=typeof document?document:null}function mu(r){return new Yo(r,!0)}class Rh{constructor(i,n,s=1e3,o=1.5,d=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=o,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),o=Math.max(0,n-s);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class iT{constructor(i,n,s,o,d,f){this.Oe=i,this.er=s,this.nr=o,this.credentialsProvider=d,this.listener=f,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Rh(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,we.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,we.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,we.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===fe.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const o=new Ie(fe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(o)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,we.Z)(function*(){i.state=0,i.start()}))}pr(i){return Pe("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oh extends iT{constructor(i,n,s,o,d){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,d),this.N=o}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(C=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:Xe(),o=i.targetChange.targetIds||[],d=function(C,T){return C.D?(vt(void 0===T||"string"==typeof T),Fn.fromBase64String(T||"")):(vt(void 0===T||T instanceof Uint8Array),Fn.fromUint8Array(T||new Uint8Array))}(r,i.targetChange.resumeToken),f=i.targetChange.cause,_=f&&function(C){const T=void 0===C.code?fe.UNKNOWN:YC(C.code);return new Ie(T,C.message||"")}(f);n=new QC(s,o,d,_||null)}else if("documentChange"in i){const s=i.documentChange,o=qo(r,s.document.name),d=Ci(s.document.updateTime),f=new sr({mapValue:{fields:s.document.fields}}),_=Nn.newFoundDocument(o,d,f);n=new Xp(s.targetIds||[],s.removedTargetIds||[],_.key,_)}else if("documentDelete"in i){const s=i.documentDelete,o=qo(r,s.document),d=s.readTime?Ci(s.readTime):lt.min(),f=Nn.newNoDocument(o,d);n=new Xp([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in i){const s=i.documentRemove,o=qo(r,s.document);n=new Xp([],s.removedTargetIds||[],o,null)}else{if(!("filter"in i))return Xe();{const s=i.filter,d=new IS(s.count||0);n=new xS(s.targetId,d)}}var C;return n}(this.N,i),s=function(o){if(!("targetChange"in o))return lt.min();const d=o.targetChange;return d.targetIds&&d.targetIds.length?lt.min():d.readTime?Ci(d.readTime):lt.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=nm(this.N),n.addTarget=function(o,d){let f;const _=d.target;return f=K_(_)?{documents:ly(o,_)}:{query:im(o,_)},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?f.resumeToken=Bs(o,d.resumeToken):d.snapshotVersion.compareTo(lt.min())>0&&(f.readTime=Er(o,d.snapshotVersion.toTimestamp())),f}(this.N,i);const s=function(r,i){const n=function(s,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=nm(this.N),n.removeTarget=i,this.wr(n)}}class gk extends iT{constructor(i,n,s,o,d){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,d),this.N=o,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(vt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(vt(void 0!==i),r.map(n=>function(s,o){let d=Ci(s.updateTime?s.updateTime:o);return d.isEqual(lt.min())&&(d=Ci(o)),new TS(d,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=Ci(i.commitTime);return this.listener.vr(s,n)}return vt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=nm(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>ay(this.N,s))};this.wr(n)}}class b1 extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Li(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ie(fe.UNKNOWN,o.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(o=>this.nr.Ki(i,n,s,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Ie(fe.UNKNOWN,o.toString())})}terminate(){this.Dr=!0}}class _k{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Xn(n),this.$r=!1):Pe("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Xo{constructor(i,n,s,o,d){var f=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(_=>{s.enqueueAndForget((0,we.Z)(function*(){var C;$a(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,we.Z)(function*(T){const I=Ne(T);I.Kr.add(4),yield za(I),I.Wr.set("Unknown"),I.Kr.delete(4),yield Ph(I)}),function(T){return C.apply(this,arguments)})(f))}))}),this.Wr=new _k(s,o)}}function Ph(r){return rT.apply(this,arguments)}function rT(){return(rT=(0,we.Z)(function*(r){if($a(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function za(r){return Bw.apply(this,arguments)}function Bw(){return(Bw=(0,we.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function Cy(r,i){const n=Ne(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),gm(n)?Hw(n):Lh(n).cr()&&Uw(n,i))}function wy(r,i){const n=Ne(r),s=Lh(n);n.qr.delete(i),s.cr()&&sT(n,i),0===n.qr.size&&(s.cr()?s.lr():$a(n)&&n.Wr.set("Unknown"))}function Uw(r,i){r.Gr.Y(i.targetId),Lh(r).Ir(i)}function sT(r,i){r.Gr.Y(i),Lh(r).Ar(i)}function Hw(r){r.Gr=new JC({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),Lh(r).start(),r.Wr.Or()}function gm(r){return $a(r)&&!Lh(r).ar()&&r.qr.size>0}function $a(r){return 0===Ne(r).Kr.size}function Ey(r){r.Gr=void 0}function oT(r){return jw.apply(this,arguments)}function jw(){return(jw=(0,we.Z)(function*(r){r.qr.forEach((i,n)=>{Uw(r,i)})})).apply(this,arguments)}function C1(r,i){return Gw.apply(this,arguments)}function Gw(){return(Gw=(0,we.Z)(function*(r,i){Ey(r),gm(r)?(r.Wr.Lr(i),Hw(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function yk(r,i,n){return zw.apply(this,arguments)}function zw(){return(zw=(0,we.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof QC&&2===i.state&&i.cause)try{yield(s=(0,we.Z)(function*(o,d){const f=d.cause;for(const _ of d.targetIds)o.qr.has(_)&&(yield o.remoteSyncer.rejectListen(_,f),o.qr.delete(_),o.Gr.removeTarget(_))}),function(o,d){return s.apply(this,arguments)})(r,i)}catch(s){Pe("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield _m(r,s)}else if(i instanceof Xp?r.Gr.rt(i):i instanceof xS?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(lt.min()))try{const s=yield my(r.localStore);n.compareTo(s)>=0&&(yield function(o,d){const f=o.Gr._t(d);return f.targetChanges.forEach((_,C)=>{if(_.resumeToken.approximateByteSize()>0){const T=o.qr.get(C);T&&o.qr.set(C,T.withResumeToken(_.resumeToken,d))}}),f.targetMismatches.forEach(_=>{const C=o.qr.get(_);if(!C)return;o.qr.set(_,C.withResumeToken(Fn.EMPTY_BYTE_STRING,C.snapshotVersion)),sT(o,_);const T=new jl(C.target,_,1,C.sequenceNumber);Uw(o,T)}),o.remoteSyncer.applyRemoteEvent(f)}(r,n))}catch(s){Pe("RemoteStore","Failed to raise snapshot:",s),yield _m(r,s)}var s})).apply(this,arguments)}function _m(r,i,n){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,we.Z)(function*(r,i,n){if(!Eh(i))throw i;r.Kr.add(1),yield za(r),r.Wr.set("Offline"),n||(n=()=>my(r.localStore)),r.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield Ph(r)}))})).apply(this,arguments)}function $w(r,i){return i().catch(n=>_m(r,n,i))}function Fh(r){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,we.Z)(function*(r){const i=Ne(r),n=ql(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;aT(i);)try{const o=yield KS(i.localStore,s);if(null===o){0===i.Ur.length&&n.lr();break}s=o.batchId,Sy(i,o)}catch(o){yield _m(i,o)}lT(i)&&qw(i)})).apply(this,arguments)}function aT(r){return $a(r)&&r.Ur.length<10}function Sy(r,i){r.Ur.push(i);const n=ql(r);n.cr()&&n.br&&n.Pr(i.mutations)}function lT(r){return $a(r)&&!ql(r).ar()&&r.Ur.length>0}function qw(r){ql(r).start()}function Ty(r){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,we.Z)(function*(r){ql(r).Sr()})).apply(this,arguments)}function ym(r){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,we.Z)(function*(r){const i=ql(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function vk(r,i,n){return cT.apply(this,arguments)}function cT(){return(cT=(0,we.Z)(function*(r,i,n){const s=r.Ur.shift(),o=dw.from(s,i,n);yield $w(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield Fh(r)})).apply(this,arguments)}function bk(r,i){return Ww.apply(this,arguments)}function Ww(){return(Ww=(0,we.Z)(function*(r,i){var n;i&&ql(r).br&&(yield(n=(0,we.Z)(function*(s,o){if($C(d=o.code)&&d!==fe.ABORTED){const f=s.Ur.shift();ql(s).hr(),yield $w(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield Fh(s)}var d}),function(s,o){return n.apply(this,arguments)})(r,i)),lT(r)&&qw(r)})).apply(this,arguments)}function Kw(r,i){return Qw.apply(this,arguments)}function Qw(){return(Qw=(0,we.Z)(function*(r,i){const n=Ne(r);i?(n.Kr.delete(2),yield Ph(n)):i||(n.Kr.add(2),yield za(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Lh(r){return r.zr||(r.zr=function(i,n,s){const o=Ne(i);return o.Cr(),new Oh(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:oT.bind(null,r),Ci:C1.bind(null,r),Tr:yk.bind(null,r)}),r.jr.push(function(){var i=(0,we.Z)(function*(n){n?(r.zr.hr(),gm(r)?Hw(r):r.Wr.set("Unknown")):(yield r.zr.stop(),Ey(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function ql(r){return r.Hr||(r.Hr=function(i,n,s){const o=Ne(i);return o.Cr(),new gk(n,o.nr,o.credentials,o.N,s)}(r.datastore,r.asyncQueue,{Si:Ty.bind(null,r),Ci:bk.bind(null,r),Vr:ym.bind(null,r),vr:vk.bind(null,r)}),r.jr.push(function(){var i=(0,we.Z)(function*(n){n?(r.Hr.hr(),yield Fh(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Pe("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class Jw{constructor(i,n,s,o,d){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=d,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(i,n,s,o,d){const f=Date.now()+s,_=new Jw(i,n,f,o,d);return _.start(s),_}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(fe.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vh(r,i){if(Xn("AsyncQueue",`${i}: ${r}`),Eh(r))return new Ie(fe.UNAVAILABLE,`${i}: ${r}`);throw r}class Bh{constructor(i){this.comparator=i?(n,s)=>i(n,s)||We.comparator(n.key,s.key):(n,s)=>We.comparator(n.key,s.key),this.keyedMap=WC(),this.sortedSet=new hi(this.comparator)}static emptySet(i){return new Bh(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof Bh)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,d=s.getNext().key;if(!o.isEqual(d))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new Bh;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class Ck{constructor(){this.Jr=new hi(We.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):Xe():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class Uh{constructor(i,n,s,o,d,f,_,C){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=d,this.fromCache=f,this.syncStateChanged=_,this.excludesMetadataChanges=C}static fromInitialDocuments(i,n,s,o){const d=[];return n.forEach(f=>{d.push({type:0,doc:f})}),new Uh(i,n,Bh.emptySet(n),d,s,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Wp(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class vm{constructor(){this.Xr=void 0,this.listeners=[]}}class wk{constructor(){this.queries=new dm(i=>NC(i),Wp),this.onlineState="Unknown",this.Zr=new Set}}function Xw(r,i){return e0.apply(this,arguments)}function e0(){return(e0=(0,we.Z)(function*(r,i){const n=Ne(r),s=i.query;let o=!1,d=n.queries.get(s);if(d||(o=!0,d=new vm),o)try{d.Xr=yield n.onListen(s)}catch(f){const _=Vh(f,`Initialization of query '${J_(i.query)}' failed`);return void i.onError(_)}n.queries.set(s,d),d.listeners.push(i),i.eo(n.onlineState),d.Xr&&i.no(d.Xr)&&dT(n)})).apply(this,arguments)}function Hh(r,i){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,we.Z)(function*(r,i){const n=Ne(r),s=i.query;let o=!1;const d=n.queries.get(s);if(d){const f=d.listeners.indexOf(i);f>=0&&(d.listeners.splice(f,1),o=0===d.listeners.length)}if(o)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function uT(r,i){const n=Ne(r);let s=!1;for(const o of i){const f=n.queries.get(o.query);if(f){for(const _ of f.listeners)_.no(o)&&(s=!0);f.Xr=o}}s&&dT(n)}function Ek(r,i,n){const s=Ne(r),o=s.queries.get(i);if(o)for(const d of o.listeners)d.onError(n);s.queries.delete(i)}function dT(r){r.Zr.forEach(i=>{i.next()})}class t0{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const o of i.docChanges)3!==o.type&&s.push(o);i=new Uh(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=Uh.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class My{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class hT{constructor(i){this.N=i}zn(i){return qo(this.N,i)}Hn(i){return i.metadata.exists?tw(this.N,i.document,!1):Nn.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Ci(i)}}class Dk{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=n0(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new hT(this.N);for(const o of i)if(o.metadata.queries){const d=s.zn(o.metadata.name);for(const f of o.metadata.queries){const _=(n.get(f)||sn()).add(d);n.set(f,_)}}return n}complete(){var i=this;return(0,we.Z)(function*(){const n=yield function(r,i,n,s){return Rw.apply(this,arguments)}(i.localStore,new hT(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const o of i.queries)yield ck(i.localStore,o,s.get(o.name));return i.progress.taskState="Success",new ik(Object.assign({},i.progress),n)})()}}function n0(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class r0{constructor(i){this.key=i}}class Iy{constructor(i){this.key=i}}class s0{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=sn(),this.mutatedKeys=sn(),this.po=OA(i),this.Eo=new Bh(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new Ck,o=n?n.Eo:this.Eo;let d=n?n.mutatedKeys:this.mutatedKeys,f=o,_=!1;const C=Q_(this.query)&&o.size===this.query.limit?o.last():null,T=Zp(this.query)&&o.size===this.query.limit?o.first():null;if(i.inorderTraversal((I,x)=>{const L=o.get(I),V=ou(this.query,x)?x:null,Y=!!L&&this.mutatedKeys.has(L.key),se=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let ve=!1;L&&V?L.data.isEqual(V.data)?Y!==se&&(s.track({type:3,doc:V}),ve=!0):this.Ro(L,V)||(s.track({type:2,doc:V}),ve=!0,(C&&this.po(V,C)>0||T&&this.po(V,T)<0)&&(_=!0)):!L&&V?(s.track({type:0,doc:V}),ve=!0):L&&!V&&(s.track({type:1,doc:L}),ve=!0,(C||T)&&(_=!0)),ve&&(V?(f=f.add(V),d=se?d.add(I):d.delete(I)):(f=f.delete(I),d=d.delete(I)))}),Q_(this.query)||Zp(this.query))for(;f.size>this.query.limit;){const I=Q_(this.query)?f.last():f.first();f=f.delete(I.key),d=d.delete(I.key),s.track({type:1,doc:I})}return{Eo:f,Ao:s,Ln:_,mutatedKeys:d}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const o=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const d=i.Ao.Yr();d.sort((T,I)=>function(x,L){const V=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return V(x)-V(L)}(T.type,I.type)||this.po(T.doc,I.doc)),this.bo(s);const f=n?this.Po():[],_=0===this.yo.size&&this.current?1:0,C=_!==this.mo;return this.mo=_,0!==d.length||C?{snapshot:new Uh(this.query,i.Eo,o,d,i.mutatedKeys,0===_,C,!1),vo:f}:{vo:f}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Ck,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=sn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new Iy(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new r0(s))}),n}So(i){this._o=i.Gn,this.yo=sn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return Uh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class fT{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class Sk{constructor(i){this.key=i,this.Co=!1}}class Tk{constructor(i,n,s,o,d,f){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=d,this.maxConcurrentLimboResolutions=f,this.No={},this.xo=new dm(_=>NC(_),Wp),this.ko=new Map,this.$o=new Set,this.Oo=new hi(We.comparator),this.Fo=new Map,this.Mo=new Pw,this.Lo={},this.Bo=new Map,this.Uo=hu.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function pT(r,i){return o0.apply(this,arguments)}function o0(){return(o0=(0,we.Z)(function*(r,i){const n=Dm(r);let s,o;const d=n.xo.get(i);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),o=d.view.Do();else{const f=yield Ih(n.localStore,Vs(i)),_=n.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,o=yield Ay(n,i,s,"current"===_),n.isPrimaryClient&&Cy(n.remoteStore,f)}return o})).apply(this,arguments)}function Ay(r,i,n,s){return jh.apply(this,arguments)}function jh(){return(jh=(0,we.Z)(function*(r,i,n,s){r.Ko=(I,x,L)=>{return(V=(0,we.Z)(function*(Y,se,ve,Le){let Ge=se.view.Io(ve);Ge.Ln&&(Ge=yield kh(Y.localStore,se.query,!1).then(({documents:ii})=>se.view.Io(ii,Ge)));const Be=Le&&Le.targetChanges.get(se.targetId),nt=se.view.applyChanges(Ge,Y.isPrimaryClient,Be);return Tn(Y,se.targetId,nt.vo),nt.snapshot}),function(Y,se,ve,Le){return V.apply(this,arguments)})(r,I,x,L);var V};const o=yield kh(r.localStore,i,!0),d=new s0(i,o.Gn),f=d.Io(o.documents),_=Jp.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),C=d.applyChanges(f,r.isPrimaryClient,_);Tn(r,n,C.vo);const T=new fT(i,n,d);return r.xo.set(i,T),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),C.snapshot})).apply(this,arguments)}function ky(r,i){return mT.apply(this,arguments)}function mT(){return(mT=(0,we.Z)(function*(r,i){const n=Ne(r),s=n.xo.get(i),o=n.ko.get(s.targetId);if(o.length>1)return n.ko.set(s.targetId,o.filter(d=>!Wp(d,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Ah(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),wy(n.remoteStore,s.targetId),zh(n,s.targetId)}).catch($l))):(zh(n,s.targetId),yield Ah(n.localStore,s.targetId,!0))})).apply(this,arguments)}function Xt(){return(Xt=(0,we.Z)(function*(r,i,n){const s=Sm(r);try{const o=yield function(d,f){const _=Ne(d),C=di.now(),T=f.reduce((x,L)=>x.add(L.key),sn());let I;return _.persistence.runTransaction("Locally write mutations","readwrite",x=>_.Qn.Pn(x,T).next(L=>{I=L;const V=[];for(const Y of f){const se=MS(Y,I.get(Y.key));null!=se&&V.push(new Ba(Y.key,se,vS(se.value.mapValue),Yn.exists(!0)))}return _.In.addMutationBatch(x,C,V,f)})).then(x=>(x.applyToLocalDocumentSet(I),{batchId:x.batchId,changes:I}))}(s.localStore,i);s.sharedClientState.addPendingMutation(o.batchId),function(d,f,_){let C=d.Lo[d.currentUser.toKey()];C||(C=new hi(At)),C=C.insert(f,_),d.Lo[d.currentUser.toKey()]=C}(s,o.batchId,n),yield Za(s,o.changes),yield Fh(s.remoteStore)}catch(o){const d=Vh(o,"Failed to persist write");n.reject(d)}})).apply(this,arguments)}function qa(r,i){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,we.Z)(function*(r,i){const n=Ne(r);try{const s=yield ok(n.localStore,i);i.targetChanges.forEach((o,d)=>{const f=n.Fo.get(d);f&&(vt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Co=!0:o.modifiedDocuments.size>0?vt(f.Co):o.removedDocuments.size>0&&(vt(f.Co),f.Co=!1))}),yield Za(n,s,i)}catch(s){yield $l(s)}})).apply(this,arguments)}function Gh(r,i,n){const s=Ne(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const o=[];s.xo.forEach((d,f)=>{const _=f.view.eo(i);_.snapshot&&o.push(_.snapshot)}),function(d,f){const _=Ne(d);_.onlineState=f;let C=!1;_.queries.forEach((T,I)=>{for(const x of I.listeners)x.eo(f)&&(C=!0)}),C&&dT(_)}(s.eventManager,i),o.length&&s.No.Tr(o),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function w1(r,i,n){return bt.apply(this,arguments)}function bt(){return(bt=(0,we.Z)(function*(r,i,n){const s=Ne(r);s.sharedClientState.updateQueryState(i,"rejected",n);const o=s.Fo.get(i),d=o&&o.key;if(d){let f=new hi(We.comparator);f=f.insert(d,Nn.newNoDocument(d,lt.min()));const _=sn().add(d),C=new Qp(lt.min(),new Map,new qn(At),f,_);yield qa(s,C),s.Oo=s.Oo.remove(d),s.Fo.delete(i),Ry(s)}else yield Ah(s.localStore,i,!1).then(()=>zh(s,i,n)).catch($l)})).apply(this,arguments)}function Us(r,i){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,we.Z)(function*(r,i){const n=Ne(r),s=i.batch.batchId;try{const o=yield sk(n.localStore,i);a0(n,s,null),yT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Za(n,o)}catch(o){yield $l(o)}})).apply(this,arguments)}function gu(r,i,n){return gT.apply(this,arguments)}function gT(){return(gT=(0,we.Z)(function*(r,i,n){const s=Ne(r);try{const o=yield function(d,f){const _=Ne(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let T;return _.In.lookupMutationBatch(C,f).next(I=>(vt(null!==I),T=I.keys(),_.In.removeMutationBatch(C,I))).next(()=>_.In.performConsistencyCheck(C)).next(()=>_.Qn.Pn(C,T))})}(s.localStore,i);a0(s,i,n),yT(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield Za(s,o)}catch(o){yield $l(o)}})).apply(this,arguments)}function xy(){return(xy=(0,we.Z)(function*(r,i){const n=Ne(r);$a(n.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const f=Ne(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>f.In.getHighestUnacknowledgedBatchId(_))}(n.localStore);if(-1===s)return void i.resolve();const o=n.Bo.get(s)||[];o.push(i),n.Bo.set(s,o)}catch(s){const o=Vh(s,"Initialization of waitForPendingWrites() operation failed");i.reject(o)}})).apply(this,arguments)}function yT(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function a0(r,i,n){const s=Ne(r);let o=s.Lo[s.currentUser.toKey()];if(o){const d=o.get(i);d&&(n?d.reject(n):d.resolve(),o=o.remove(i)),s.Lo[s.currentUser.toKey()]=o}}function zh(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||ps(r,s)})}function ps(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(wy(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),Ry(r))}function Tn(r,i,n){for(const s of n)s instanceof r0?(r.Mo.addReference(s.key,i),yo(r,s)):s instanceof Iy?(Pe("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||ps(r,s.key)):Xe()}function yo(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Pe("SyncEngine","New document in limbo: "+n),r.$o.add(s),Ry(r))}function Ry(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new We(Tt.fromString(i)),s=r.Uo.next();r.Fo.set(s,new Sk(n)),r.Oo=r.Oo.insert(n,s),Cy(r.remoteStore,new jl(Vs(La(n.path)),s,2,Pi.T))}}function Za(r,i,n){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,we.Z)(function*(r,i,n){const s=Ne(r),o=[],d=[],f=[];var _;s.xo.isEmpty()||(s.xo.forEach((_,C)=>{f.push(s.Ko(C,i,n).then(T=>{if(T){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,T.fromCache?"not-current":"current"),o.push(T);const I=Sw.kn(C.targetId,T);d.push(I)}}))}),yield Promise.all(f),s.No.Tr(o),yield(_=(0,we.Z)(function*(C,T){const I=Ne(C);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Me.forEach(T,L=>Me.forEach(L.Nn,V=>I.persistence.referenceDelegate.addReference(x,L.targetId,V)).next(()=>Me.forEach(L.xn,V=>I.persistence.referenceDelegate.removeReference(x,L.targetId,V)))))}catch(x){if(!Eh(x))throw x;Pe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of T){const L=x.targetId;if(!x.fromCache){const V=I.Un.get(L),se=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);I.Un=I.Un.insert(L,se)}}}),function(C,T){return _.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function l0(r,i){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,we.Z)(function*(r,i){const n=Ne(r);if(!n.currentUser.isEqual(i)){Pe("SyncEngine","User change. New user:",i.toKey());const s=yield WS(n.localStore,i);n.currentUser=i,(o=n).Bo.forEach(f=>{f.forEach(_=>{_.reject(new Ie(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield Za(n,s.Wn)}var o})).apply(this,arguments)}function wm(r,i){const n=Ne(r),s=n.Fo.get(i);if(s&&s.Co)return sn().add(s.key);{let o=sn();const d=n.ko.get(i);if(!d)return o;for(const f of d){const _=n.xo.get(f);o=o.unionWith(_.view.To)}return o}}function Mk(r,i){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,we.Z)(function*(r,i){const n=Ne(r),s=yield kh(n.localStore,i.query,!0),o=i.view.So(s);return n.isPrimaryClient&&Tn(n,i.targetId,o.vo),o})).apply(this,arguments)}function Ik(r){return Py.apply(this,arguments)}function Py(){return(Py=(0,we.Z)(function*(r){const i=Ne(r);return kw(i.localStore).then(n=>Za(i,n))})).apply(this,arguments)}function c0(r,i,n,s){return _u.apply(this,arguments)}function _u(){return(_u=(0,we.Z)(function*(r,i,n,s){const o=Ne(r),d=yield function(f,_){const C=Ne(f),T=Ne(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",I=>T.Xt(I,_).next(x=>x?C.Qn.Pn(I,x):Me.resolve(null)))}(o.localStore,i);var _;null!==d?("pending"===n?yield Fh(o.remoteStore):"acknowledged"===n||"rejected"===n?(a0(o,i,s||null),yT(o,i),_=i,Ne(Ne(o.localStore).In).te(_)):Xe(),yield Za(o,d)):Pe("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function Fy(){return(Fy=(0,we.Z)(function*(r,i){const n=Ne(r);if(Dm(n),Sm(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),o=yield yu(n,s.toArray());n.qo=!0,yield Kw(n.remoteStore,!0);for(const d of o)Cy(n.remoteStore,d)}else if(!1===i&&!1!==n.qo){const s=[];let o=Promise.resolve();n.ko.forEach((d,f)=>{n.sharedClientState.isLocalQueryTarget(f)?s.push(f):o=o.then(()=>(zh(n,f),Ah(n.localStore,f,!0))),wy(n.remoteStore,f)}),yield o,yield yu(n,s),function(d){const f=Ne(d);f.Fo.forEach((_,C)=>{wy(f.remoteStore,C)}),f.Mo.us(),f.Fo=new Map,f.Oo=new hi(We.comparator)}(n),n.qo=!1,yield Kw(n.remoteStore,!1)}})).apply(this,arguments)}function yu(r,i,n){return d0.apply(this,arguments)}function d0(){return(d0=(0,we.Z)(function*(r,i,n){const s=Ne(r),o=[],d=[];for(const f of i){let _;const C=s.ko.get(f);if(C&&0!==C.length){_=yield Ih(s.localStore,Vs(C[0]));for(const T of C){const I=s.xo.get(T),x=yield Mk(s,I);x.snapshot&&d.push(x.snapshot)}}else{const T=yield QS(s.localStore,f);_=yield Ih(s.localStore,T),yield Ay(s,Em(T),f,!1)}o.push(_)}return s.No.Tr(d),o})).apply(this,arguments)}function Em(r){return xC(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function vT(r){const i=Ne(r);return Ne(Ne(i.localStore).persistence).pn()}function bT(r,i,n,s){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,we.Z)(function*(r,i,n,s){const o=Ne(r);if(o.qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(o.ko.has(i))switch(n){case"current":case"not-current":{const d=yield kw(o.localStore),f=Qp.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield Za(o,d,f);break}case"rejected":yield Ah(o.localStore,i,!0),zh(o,i,s);break;default:Xe()}})).apply(this,arguments)}function Ly(r,i,n){return h0.apply(this,arguments)}function h0(){return(h0=(0,we.Z)(function*(r,i,n){const s=Dm(r);if(s.qo){for(const o of i){if(s.ko.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const d=yield QS(s.localStore,o),f=yield Ih(s.localStore,d);yield Ay(s,Em(d),f.targetId,!1),Cy(s.remoteStore,f)}for(const o of n)s.ko.has(o)&&(yield Ah(s.localStore,o,!1).then(()=>{wy(s.remoteStore,o),zh(s,o)}).catch($l))}})).apply(this,arguments)}function Dm(r){const i=Ne(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=qa.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=wm.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=w1.bind(null,i),i.No.Tr=uT.bind(null,i.eventManager),i.No.jo=Ek.bind(null,i.eventManager),i}function Sm(r){const i=Ne(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Us.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=gu.bind(null,i),i}class Ak{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,we.Z)(function*(){n.N=mu(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return Mw(this.persistence,new Tw,i.initialUser,this.N)}Go(i){return new fk(Fw.Ns,this.N)}Wo(i){return new eT}terminate(){var i=this;return(0,we.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class Ct extends Ak{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield n().call(s,i),yield function(r){return xw.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield Sm(s.Jo.syncEngine),yield Fh(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return Mw(this.persistence,new Tw,i.initialUser,this.N)}zo(i){return new ek(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=Dw(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Zr.withCacheSize(this.cacheSizeBytes):Zr.DEFAULT;return new Ew(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,pu(),Vw(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new eT}}class D1 extends Ct{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,we.Z)(function*(){yield n().call(s,i);const o=s.Jo.syncEngine;s.sharedClientState instanceof by&&(s.sharedClientState.syncEngine={_i:c0.bind(null,o),mi:bT.bind(null,o),gi:Ly.bind(null,o),pn:vT.bind(null,o),wi:Ik.bind(null,o)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,we.Z)(function*(f){yield function(r,i){return Fy.apply(this,arguments)}(s.Jo.syncEngine,f),s.gcScheduler&&(f&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):f||s.gcScheduler.stop())});return function(f){return d.apply(this,arguments)}}())})()}Wo(i){const n=pu();if(!by.bt(n))throw new Ie(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Dw(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new by(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class vu{initialize(i,n){var s=this;return(0,we.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=o=>Gh(s.syncEngine,o,1),s.remoteStore.remoteSyncer.handleCredentialChange=l0.bind(null,s.syncEngine),yield Kw(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new wk}createDatastore(i){const n=mu(i.databaseInfo.databaseId),s=new mk(i.databaseInfo);return new b1(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,o=i.asyncQueue,d=_=>Gh(this.syncEngine,_,0),f=Lw.bt()?new Lw:new tT,new Xo(n,s,o,d,f);var n,s,o,d,f}createSyncEngine(i,n){return function(s,o,d,f,_,C,T){const I=new Tk(s,o,d,f,_,C);return T&&(I.qo=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,we.Z)(function*(n){const s=Ne(n);Pe("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield za(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function CT(r,i=10240){let n=0;return{read:()=>(0,we.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vy{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class kk{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new Oi,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,we.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,we.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,we.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),o=Number(s);isNaN(o)&&i.sa(`length string (${s}) is not valid number`);const d=yield i.ia(o);return new My(JSON.parse(d),n.length+o)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,we.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,we.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,we.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class S1{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,we.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Ie(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(o=(0,we.Z)(function*(d,f){const _=Ne(d),C=nm(_.N)+"/documents",T={documents:f.map(V=>em(_.N,V))},I=yield _.Ki("BatchGetDocuments",C,T),x=new Map;I.forEach(V=>{const Y=function(r,i){return"found"in i?function(n,s){vt(!!s.found);const o=qo(n,s.found.name),d=Ci(s.found.updateTime),f=new sr({mapValue:{fields:s.found.fields}});return Nn.newFoundDocument(o,d,f)}(r,i):"missing"in i?function(n,s){vt(!!s.missing),vt(!!s.readTime);const o=qo(n,s.missing),d=Ci(s.readTime);return Nn.newNoDocument(o,d)}(r,i):Xe()}(_.N,V);x.set(Y.key.toString(),Y)});const L=[];return f.forEach(V=>{const Y=x.get(V.toString());vt(!!Y),L.push(Y)}),L}),function(d,f){return o.apply(this,arguments)})(n.datastore,i);var o;return s.forEach(o=>n.recordVersion(o)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new Ch(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,we.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,o)=>{const d=We.fromPath(o);i.mutations.push(new ry(d,i.precondition(d)))}),yield(s=(0,we.Z)(function*(o,d){const f=Ne(o),_=nm(f.N)+"/documents",C={writes:d.map(T=>ay(f.N,T))};yield f.Li("Commit",_,C)}),function(o,d){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw Xe();n=lt.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Ie(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?Yn.updateTime(n):Yn.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(lt.min()))throw new Ie(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yn.updateTime(n)}return Yn.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class T1{constructor(i,n,s,o){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=o,this.aa=5,this.rr=new Rh(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,we.Z)(function*(){const n=new S1(i.datastore),s=i.ua(n);s&&s.then(o=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(o)}).catch(d=>{i.ha(d)}))}).catch(o=>{i.ha(o)})}))}ua(i){try{const n=this.updateFunction(i);return!Nl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!$C(n)}return!1}}class xk{constructor(i,n,s){var o=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=xi.UNAUTHENTICATED,this.clientId=Ls.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var d=(0,we.Z)(function*(f){Pe("FirestoreClient","Received user=",f.uid),yield o.credentialListener(f),o.user=f});return function(f){return d.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,we.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const o=Vh(s,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function Yi(r,i){return f0.apply(this,arguments)}function f0(){return(f0=(0,we.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var o=(0,we.Z)(function*(d){s.isEqual(d)||(yield WS(i.localStore,d),s=d)});return function(d){return o.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function wT(r,i){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,we.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield p0(r);Pe("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(o=>{return(d=(0,we.Z)(function*(f,_){const C=Ne(f);C.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const T=$a(C);C.Kr.add(3),yield za(C),T&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(_),C.Kr.delete(3),yield Ph(C)}),function(f,_){return d.apply(this,arguments)})(i.remoteStore,o);var d}),r.onlineComponents=i})).apply(this,arguments)}function p0(r){return m0.apply(this,arguments)}function m0(){return(m0=(0,we.Z)(function*(r){return r.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield Yi(r,new Ak)),r.offlineComponents})).apply(this,arguments)}function By(r){return g0.apply(this,arguments)}function g0(){return(g0=(0,we.Z)(function*(r){return r.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield wT(r,new vu)),r.onlineComponents})).apply(this,arguments)}function ET(r){return p0(r).then(i=>i.persistence)}function _0(r){return p0(r).then(i=>i.localStore)}function Uy(r){return By(r).then(i=>i.remoteStore)}function y0(r){return By(r).then(i=>i.syncEngine)}function $h(r){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,we.Z)(function*(r){const i=yield By(r),n=i.eventManager;return n.onListen=pT.bind(null,i.syncEngine),n.onUnlisten=ky.bind(null,i.syncEngine),n})).apply(this,arguments)}function DT(r,i,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,d,f,_,C){const T=new Vy({next:x=>{d.enqueueAndForget(()=>Hh(o,I));const L=x.docs.has(f);!L&&x.fromCache?C.reject(new Ie(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&_&&"server"===_.source?C.reject(new Ie(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(x)},error:x=>C.reject(x)}),I=new t0(La(f.path),T,{includeMetadataChanges:!0,uo:!0});return Xw(o,I)}(yield $h(r),r.asyncQueue,i,n,s)})),s.promise}function ST(r,i,n={}){const s=new Oi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(o,d,f,_,C){const T=new Vy({next:x=>{d.enqueueAndForget(()=>Hh(o,I)),x.fromCache&&"server"===_.source?C.reject(new Ie(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(x)},error:x=>C.reject(x)}),I=new t0(f,T,{includeMetadataChanges:!0,uo:!0});return Xw(o,I)}(yield $h(r),r.asyncQueue,i,n,s)})),s.promise}class Lk{constructor(i,n,s,o,d,f,_,C){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=d,this.forceLongPolling=f,this.autoDetectLongPolling=_,this.useFetchStreams=C}}class Yh{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof Yh&&i.projectId===this.projectId&&i.database===this.database}}const b0=new Map;function bu(r,i,n){if(!n)throw new Ie(fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function Vk(r,i,n,s){if(!0===i&&!0===s)throw new Ie(fe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function C0(r){if(!We.isDocumentKey(r))throw new Ie(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function TT(r){if(We.isDocumentKey(r))throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jy(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=(n=r).constructor?n.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var n;return"function"==typeof r?"a function":Xe()}function Zt(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Ie(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jy(r);throw new Ie(fe.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function MT(r,i){if(i<=0)throw new Ie(fe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class IT{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Ie(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Ie(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,Vk("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class qh{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,i instanceof Yh?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Ie(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(s.options.projectId)}(i))}get app(){if(!this._app)throw new Ie(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new SA;switch(n.type){case"gapi":const s=n.client;return vt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Y_(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Ie(fe.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=b0.get(i);n&&(Pe("ComponentProvider","Removing Datastore"),b0.delete(i),n.terminate())}(this),Promise.resolve()}}class Mn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Mn(this.firestore,i,this._key)}}class Sr{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new Sr(this.firestore,i,this._query)}}class Ka extends Sr{constructor(i,n,s){super(i,n,La(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Mn(this.firestore,null,new We(i))}withConverter(i){return new Ka(this.firestore,i,this._path)}}function Uk(r,i,...n){if(r=(0,Jt.m9)(r),bu("collection","path",i),r instanceof qh){const s=Tt.fromString(i,...n);return TT(s),new Ka(r,null,s)}{if(!(r instanceof Mn||r instanceof Ka))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(i,...n));return TT(s),new Ka(r.firestore,null,s)}}function Gy(r,i,...n){if(r=(0,Jt.m9)(r),1===arguments.length&&(i=Ls.I()),bu("doc","path",i),r instanceof qh){const s=Tt.fromString(i,...n);return C0(s),new Mn(r,null,new We(s))}{if(!(r instanceof Mn||r instanceof Ka))throw new Ie(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Tt.fromString(i,...n));return C0(s),new Mn(r.firestore,r instanceof Ka?r.converter:null,new We(s))}}function AT(r,i){return r=(0,Jt.m9)(r),i=(0,Jt.m9)(i),(r instanceof Mn||r instanceof Ka)&&(i instanceof Mn||i instanceof Ka)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function kT(r,i){return r=(0,Jt.m9)(r),i=(0,Jt.m9)(i),r instanceof Sr&&i instanceof Sr&&r.firestore===i.firestore&&Wp(r._query,i._query)&&r.converter===i.converter}class Hk{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Rh(this,"async_queue_retry"),this.Ea=()=>{const n=Vw();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=Vw();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=Vw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new Oi;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,we.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Eh(n))throw n;Pe("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,Xn("INTERNAL UNHANDLED ERROR: ",function(o){let d=o.message||"";return o.stack&&(d=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const o=Jw.createAndSchedule(this,i,n,s,d=>this.Ra(d));return this._a.push(o),o}Ta(){this.ma&&Xe()}verifyOperationInProgress(){}ba(){var i=this;return(0,we.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function E0(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const o of["next","error","complete"])if(o in s&&"function"==typeof s[o])return!0;return!1}(r)}class jk{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class Pn extends qh{constructor(i,n){super(i,n),this.type="firestore",this._queue=new Hk,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||D0(this),this._firestoreClient.terminate()}}function zt(r){return r._firestoreClient||D0(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function D0(r){var i;const n=r._freezeSettings(),s=(d=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new Lk(r._databaseId,d,r._persistenceKey,(_=n).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var d,_;r._firestoreClient=new xk(r._credentials,r._queue,s)}function RT(r,i,n){const s=new Oi;return r.asyncQueue.enqueue((0,we.Z)(function*(){try{yield Yi(r,n),yield wT(r,i),s.resolve()}catch(o){if(!("FirebaseError"===(d=o).name?d.code===fe.FAILED_PRECONDITION||d.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),s.reject(o)}var d})).then(()=>s.promise)}function LT(r){if(r._initialized||r._terminated)throw new Ie(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Ie(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class ea{constructor(i){this._byteString=i}static fromBase64String(i){try{return new ea(Fn.fromBase64String(i))}catch(n){throw new Ie(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new ea(Fn.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Hs{constructor(i){this._methodName=i}}class T0{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Ie(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Ie(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return At(this._lat,i._lat)||At(this._long,i._long)}}const VT=/^__.*__$/;class $k{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new Ba(i,this.data,this.fieldMask,n,this.fieldTransforms):new Kp(i,this.data,n,this.fieldTransforms)}}class Yk{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new Ba(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function M0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class zy{constructor(i,n,s,o,d,f){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=o,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new zy(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.ka(i),o}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),o=this.Ca({path:s,xa:!1});return o.Sa(),o}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return xm(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(M0(this.Da)&&VT.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class I0{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||mu(i)}Ba(i,n,s,o=!1){return new zy({Da:i,methodName:n,La:s,path:$n.emptyPath(),xa:!1,Ma:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Cu(r){const i=r._freezeSettings(),n=mu(r._databaseId);return new I0(r._databaseId,!!i.ignoreUndefinedProperties,n)}function Am(r,i,n,s,o,d={}){const f=r.Ba(d.merge||d.mergeFields?2:0,i,n,o);Yy("Data must be an object, but it was:",f,s);const _=R0(s,f);let C,T;if(d.merge)C=new ho(f.fieldMask),T=f.fieldTransforms;else if(d.mergeFields){const I=[];for(const x of d.mergeFields){const L=qy(i,x,n);if(!f.contains(L))throw new Ie(fe.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);F0(I,L)||I.push(L)}C=new ho(I),T=f.fieldTransforms.filter(x=>C.covers(x.field))}else C=null,T=f.fieldTransforms;return new $k(new sr(_),C,T)}class km extends Hs{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof km}}function A0(r,i,n){return new zy({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class $y extends Hs{_toFieldTransform(i){return new yh(i.path,new Vl)}isEqual(i){return i instanceof $y}}class qk extends Hs{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=A0(this,i,!0),s=this.Ua.map(d=>Ql(d,n)),o=new Va(s);return new yh(i.path,o)}isEqual(i){return this===i}}class Zk extends Hs{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=A0(this,i,!0),s=this.Ua.map(d=>Ql(d,n)),o=new _h(s);return new yh(i.path,o)}isEqual(i){return this===i}}class Wk extends Hs{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new Bl(i.N,gh(i.N,this.qa));return new yh(i.path,n)}isEqual(i){return this===i}}function k0(r,i,n,s){const o=r.Ba(1,i,n);Yy("Data must be an object, but it was:",o,s);const d=[],f=sr.empty();zn(s,(C,T)=>{const I=P0(i,C,n);T=(0,Jt.m9)(T);const x=o.$a(I);if(T instanceof km)d.push(I);else{const L=Ql(T,x);null!=L&&(d.push(I),f.set(I,L))}});const _=new ho(d);return new Yk(f,_,o.fieldTransforms)}function x0(r,i,n,s,o,d){const f=r.Ba(1,i,n),_=[qy(i,s,n)],C=[o];if(d.length%2!=0)throw new Ie(fe.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<d.length;L+=2)_.push(qy(i,d[L])),C.push(d[L+1]);const T=[],I=sr.empty();for(let L=_.length-1;L>=0;--L)if(!F0(T,_[L])){const V=_[L];let Y=C[L];Y=(0,Jt.m9)(Y);const se=f.$a(V);if(Y instanceof km)T.push(V);else{const ve=Ql(Y,se);null!=ve&&(T.push(V),I.set(V,ve))}}const x=new ho(T);return new Yk(I,x,f.fieldTransforms)}function Zh(r,i,n,s=!1){return Ql(n,r.Ba(s?4:3,i))}function Ql(r,i){if(O0(r=(0,Jt.m9)(r)))return Yy("Unsupported field value:",i,r),R0(r,i);if(r instanceof Hs)return function(n,s){if(!M0(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const o=[];let d=0;for(const f of n){let _=Ql(f,s.Oa(d));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),d++}return{arrayValue:{values:o}}}(r,i)}return function(n,s){if(null===(n=(0,Jt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return gh(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const o=di.fromDate(n);return{timestampValue:Er(s.N,o)}}if(n instanceof di){const o=new di(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Er(s.N,o)}}if(n instanceof T0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ea)return{bytesValue:Bs(s.N,n._byteString)};if(n instanceof Mn){const o=s.databaseId,d=n.firestore._databaseId;if(!d.isEqual(o))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:XC(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${jy(n)}`)}(r,i)}function R0(r,i){const n={};return Ol(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):zn(r,(s,o)=>{const d=Ql(o,i.Na(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function O0(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof di||r instanceof T0||r instanceof ea||r instanceof Mn||r instanceof Hs)}function Yy(r,i,n){if(!O0(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=jy(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function qy(r,i,n){if((i=(0,Jt.m9)(i))instanceof Kl)return i._internalPath;if("string"==typeof i)return P0(r,i);throw xm("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const BT=new RegExp("[~\\*/\\[\\]]");function P0(r,i,n){if(i.search(BT)>=0)throw xm(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kl(...i.split("."))._internalPath}catch(s){throw xm(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xm(r,i,n,s,o){const d=s&&!s.isEmpty(),f=void 0!==o;let _=`Function ${i}() called with invalid data`;n&&(_+=" (via `toFirestore()`)"),_+=". ";let C="";return(d||f)&&(C+=" (found",d&&(C+=` in field ${s}`),f&&(C+=` in document ${o}`),C+=")"),new Ie(fe.INVALID_ARGUMENT,_+r+C)}function F0(r,i){return r.some(n=>n.isEqual(i))}class Rm{constructor(i,n,s,o,d){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=o,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new Kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Kk extends Rm{data(){return super.data()}}function Zy(r,i){return"string"==typeof i?P0(r,i):i instanceof Kl?i._internalPath:i._delegate._internalPath}class bo{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ms extends Rm{constructor(i,n,s,o,d,f){super(i,n,s,o,f),this._firestore=i,this._firestoreImpl=i,this.metadata=d}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new Om(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(Zy("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Om extends ms{data(i={}){return super.data(i)}}class ta{constructor(i,n,s,o){this._firestore=i,this._userDataWriter=n,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new Om(this._firestore,this._userDataWriter,s.key,s,new bo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ie(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Om(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bo(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const _=new Om(s._firestore,s._userDataWriter,f.doc.key,f.doc,new bo(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,T=-1;return 0!==f.type&&(C=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),T=d.indexOf(f.doc.key)),{type:na(f.type),doc:_,oldIndex:C,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function na(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function UT(r,i){return r instanceof ms&&i instanceof ms?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof ta&&i instanceof ta&&r._firestore===i._firestore&&kT(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function Wh(r){if(Zp(r)&&0===r.explicitOrderBy.length)throw new Ie(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}function Jl(r,...i){for(const n of i)r=n._apply(r);return r}class x1 extends Pm{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=Cu(i.firestore),s=function(o,d,f,_,C,T,I){let x;if(C.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){G0(I,T);const V=[];for(const Y of I)V.push(j0(_,o,Y));x={arrayValue:{values:V}}}else x=j0(_,o,I)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||G0(I,T),x=Zh(f,"where",I,"in"===T||"not-in"===T);const L=Yr.create(C,T,x);return function(V,Y){if(Y.v()){const ve=OC(V);if(null!==ve&&!ve.isEqual(Y.field))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ve.toString()}' and '${Y.field.toString()}'`);const Le=RC(V);null!==Le&&zT(0,Y.field,Le)}const se=function(ve,Le){for(const Ge of ve.filters)if(Le.indexOf(Ge.op)>=0)return Ge.op;return null}(V,function(ve){switch(ve){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==se)throw new Ie(fe.INVALID_ARGUMENT,se===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${se.toString()}' filters.`)}(o,L),L}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Sr(i.firestore,i.converter,function(o,d){const f=o.filters.concat([d]);return new Na(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(i._query,s))}}class L0 extends Pm{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,o,d){if(null!==s.startAt)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new fh(o,d);return function(_,C){if(null===RC(_)){const T=OC(_);null!==T&&zT(0,T,C.field)}}(s,f),f}(i._query,this.Ka,this.Wa);return new Sr(i.firestore,i.converter,function(s,o){const d=s.explicitOrderBy.concat([o]);return new Na(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class Wy extends Pm{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new Sr(i.firestore,i.converter,FC(i._query,this.Ga,this.za))}}class jT extends Pm{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=H0(i,this.type,this.Ha,this.Ja);return new Sr(i.firestore,i.converter,(o=n,new Na((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)));var s,o}}class B0 extends Pm{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=H0(i,this.type,this.Ha,this.Ja);return new Sr(i.firestore,i.converter,(o=n,new Na((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)));var s,o}}function H0(r,i,n,s){if(n[0]=(0,Jt.m9)(n[0]),n[0]instanceof Rm)return function(o,d,f,_,C){if(!_)throw new Ie(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const T=[];for(const I of mh(o))if(I.field.isKeyField())T.push(qp(d,_.key));else{const x=_.data.field(I.field);if(Fl(x))throw new Ie(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}T.push(x)}return new hh(T,C)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const o=Cu(r.firestore);return function(d,f,_,C,T,I){const x=d.explicitOrderBy;if(T.length>x.length)throw new Ie(fe.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let V=0;V<T.length;V++){const Y=T[V];if(x[V].field.isKeyField()){if("string"!=typeof Y)throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof Y}`);if(!PC(d)&&-1!==Y.indexOf("/"))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${Y}' contains a slash.`);const se=d.path.child(Tt.fromString(Y));if(!We.isDocumentKey(se))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${se}' is not because it contains an odd number of segments.`);const ve=new We(se);L.push(qp(f,ve))}else{const se=Zh(_,C,Y);L.push(se)}}return new hh(L,I)}(r._query,r.firestore._databaseId,o,i,n,s)}}function j0(r,i,n){if("string"==typeof(n=(0,Jt.m9)(n))){if(""===n)throw new Ie(fe.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!PC(i)&&-1!==n.indexOf("/"))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(Tt.fromString(n));if(!We.isDocumentKey(s))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qp(r,new We(s))}if(n instanceof Mn)return qp(r,n._key);throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${jy(n)}.`)}function G0(r,i){if(!Array.isArray(r)||0===r.length)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Ie(fe.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function zT(r,i,n){if(!n.isEqual(i))throw new Ie(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Ky{convertValue(i,n="none"){switch(Ll(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Dn(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes(fo(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw Xe()}}convertObject(i,n){const s={};return zn(i.fields,(o,d)=>{s[o]=this.convertValue(d,n)}),s}convertGeoPoint(i){return new T0(Dn(i.latitude),Dn(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=vC(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lh(i));default:return null}}convertTimestamp(i){const n=hs(i);return new di(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=Tt.fromString(i);vt(US(s));const o=new Yh(s.get(1),s.get(3)),d=new We(s.popFirst(5));return o.isEqual(n)||Xn(`Document ${d} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Fm(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class ex extends Ky{constructor(i){super(),this.firestore=i}convertBytes(i){return new ea(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}class z0{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Cu(i)}set(i,n,s){this._verifyNotCommitted();const o=Qa(i,this._firestore),d=Fm(o.converter,n,s),f=Am(this._dataReader,"WriteBatch.set",o._key,d,null!==o.converter,s);return this._mutations.push(f.toMutation(o._key,Yn.none())),this}update(i,n,s,...o){this._verifyNotCommitted();const d=Qa(i,this._firestore);let f;return f="string"==typeof(n=(0,Jt.m9)(n))||n instanceof Kl?x0(this._dataReader,"WriteBatch.update",d._key,n,s,o):k0(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(f.toMutation(d._key,Yn.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=Qa(i,this._firestore);return this._mutations=this._mutations.concat(new Ch(n._key,Yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qa(r,i){if((r=(0,Jt.m9)(r)).firestore!==i)throw new Ie(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ti extends Ky{constructor(i){super(),this.firestore=i}convertBytes(i){return new ea(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function $T(r,i,n){r=Zt(r,Mn);const s=Zt(r.firestore,Pn),o=Fm(r.converter,i,n);return Xl(s,[Am(Cu(s),"setDoc",r._key,o,null!==r.converter,n).toMutation(r._key,Yn.none())])}function Qy(r,i,n,...s){r=Zt(r,Mn);const o=Zt(r.firestore,Pn),d=Cu(o);let f;return f="string"==typeof(i=(0,Jt.m9)(i))||i instanceof Kl?x0(d,"updateDoc",r._key,i,n,s):k0(d,"updateDoc",r._key,i),Xl(o,[f.toMutation(r._key,Yn.exists(!0))])}function qT(r,...i){var n,s,o;r=(0,Jt.m9)(r);let d={includeMetadataChanges:!1},f=0;"object"!=typeof i[f]||E0(i[f])||(d=i[f],f++);const _={includeMetadataChanges:d.includeMetadataChanges};if(E0(i[f])){const x=i[f];i[f]=null===(n=x.next)||void 0===n?void 0:n.bind(x),i[f+1]=null===(s=x.error)||void 0===s?void 0:s.bind(x),i[f+2]=null===(o=x.complete)||void 0===o?void 0:o.bind(x)}let C,T,I;if(r instanceof Mn)T=Zt(r.firestore,Pn),I=La(r._key.path),C={next:x=>{i[f]&&i[f](Jy(T,r,x))},error:i[f+1],complete:i[f+2]};else{const x=Zt(r,Sr);T=Zt(x.firestore,Pn),I=x._query;const L=new ti(T);C={next:V=>{i[f]&&i[f](new ta(T,L,x,V))},error:i[f+1],complete:i[f+2]},Wh(r._query)}return function(x,L,V,Y){const se=new Vy(Y),ve=new t0(L,se,V);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Xw(yield $h(x),ve)})),()=>{se.Xo(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Hh(yield $h(x),ve)}))}}(zt(T),I,_,C)}function Xl(r,i){return function(n,s){const o=new Oi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,i,n){return Xt.apply(this,arguments)}(yield y0(n),s,o)})),o.promise}(zt(r),i)}function Jy(r,i,n){const s=n.docs.get(i._key),o=new ti(r);return new ms(r,o,i._key,s,new bo(n.hasPendingWrites,n.fromCache),i.converter)}class ZT extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=Cu(i)}get(i){const n=Qa(i,this._firestore),s=new ex(this._firestore);return this._transaction.lookup([n._key]).then(o=>{if(!o||1!==o.length)return Xe();const d=o[0];if(d.isFoundDocument())return new Rm(this._firestore,s,d.key,d,n.converter);if(d.isNoDocument())return new Rm(this._firestore,s,n._key,null,n.converter);throw Xe()})}set(i,n,s){const o=Qa(i,this._firestore),d=Fm(o.converter,n,s),f=Am(this._dataReader,"Transaction.set",o._key,d,null!==o.converter,s);return this._transaction.set(o._key,f),this}update(i,n,s,...o){const d=Qa(i,this._firestore);let f;return f="string"==typeof(n=(0,Jt.m9)(n))||n instanceof Kl?x0(this._dataReader,"Transaction.update",d._key,n,s,o):k0(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,f),this}delete(i){const n=Qa(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=Qa(i,this._firestore),s=new ti(this._firestore);return super.get(i).then(o=>new ms(this._firestore,s,n._key,o._document,new bo(!1,!1),n.converter))}}function Lm(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function JT(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function XT(){if("undefined"==typeof atob)throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){$p=r})(vp.SDK_VERSION),(0,vp._registerComponent)(new ED.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new Pn(n,new MA(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,vp.registerVersion)("@firebase/firestore","3.1.0",void 0);class Qh{constructor(i){this._delegate=i}static fromBase64String(i){return XT(),new Qh(ea.fromBase64String(i))}static fromUint8Array(i){return JT(),new Qh(ea.fromUint8Array(i))}toBase64(){return XT(),this._delegate.toBase64()}toUint8Array(){return JT(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ev(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class ax{enableIndexedDbPersistence(i,n){return function(r,i){LT(r=Zt(r,Pn));const n=zt(r),s=r._freezeSettings(),o=new vu;return RT(n,o,new Ct(o,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){LT(r=Zt(r,Pn));const i=zt(r),n=r._freezeSettings(),s=new vu;return RT(i,s,new D1(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Ie(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new Oi;return r._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(n=(0,we.Z)(function*(s){if(!_o.bt())return Promise.resolve();const o=s+"main";yield _o.delete(o)}),function(s){return n.apply(this,arguments)})(Dw(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class Z0{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof Yh||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&ih("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var o;const d=(r=Zt(r,qh))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==i&&ih("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},d),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let f,_;if("string"==typeof s.mockUserToken)f=s.mockUserToken,_=xi.MOCK_USER;else{f=(0,Jt.Sg)(s.mockUserToken,null===(o=r._app)||void 0===o?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Ie(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xi(C)}r._credentials=new TA(new pS(f,_))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,we.Z)(function*(){const i=yield ET(r),n=yield Uy(r);return i.setNetworkEnabled(!0),function(s){const o=Ne(s);return o.Kr.delete(0),Ph(o)}(n)}))}(zt(r=Zt(r,Pn)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,we.Z)(function*(){const i=yield ET(r),n=yield Uy(r);return i.setNetworkEnabled(!1),(s=(0,we.Z)(function*(o){const d=Ne(o);d.Kr.add(0),yield za(d),d.Wr.set("Offline")}),function(o){return s.apply(this,arguments)})(n);var s}))}(zt(r=Zt(r,Pn)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,Vk("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new Oi;return i.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,i){return xy.apply(this,arguments)}(yield y0(i),n)})),n.promise}(zt(r=Zt(r,Pn)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new Vy(i);return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield $h(r),o=n,Ne(s).Zr.add(o),void o.next();var s,o})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return s=yield $h(r),o=n,void Ne(s).Zr.delete(o);var s,o}))}}(zt(r=Zt(r,Pn)),E0(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new Hm(this,Uk(this._delegate,i))}catch(n){throw ar(n,"collection()","Firestore.collection()")}}doc(i){try{return new gs(this,Gy(this._delegate,i))}catch(n){throw ar(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Tr(this,function(r,i){if(r=Zt(r,qh),bu("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Ie(fe.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Sr(r,null,(n=i,new Na(Tt.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw ar(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new Oi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const s=yield(o=r,By(o).then(d=>d.datastore));var o;new T1(r.asyncQueue,s,i,n).run()})),n.promise}(zt(r),n=>i(new ZT(r,n)))}(this._delegate,n=>i(new tM(this,n)))}batch(){return zt(this._delegate),new W0(new z0(this._delegate,i=>Xl(this._delegate,i)))}loadBundle(i){return function(r,i){const n=zt(r=Zt(r,Pn)),s=new jk;return function(r,i,n,s){const o=function(d,f){let _;return _="string"==typeof d?(new TextEncoder).encode(d):d,C=function(C,T){if(C instanceof Uint8Array)return CT(C,T);if(C instanceof ArrayBuffer)return CT(new Uint8Array(C),T);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new kk(C,f);var C}(n,mu(i));r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(r,i,n){const s=Ne(r);var o;(o=(0,we.Z)(function*(d,f,_){try{const C=yield f.getMetadata();if(yield function(L,V){const Y=Ne(L),se=Ci(V.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",ve=>Y.Je.getBundleMetadata(ve,V.id)).then(ve=>!!ve&&ve.createTime.compareTo(se)>=0)}(d.localStore,C))return yield f.close(),void _._completeWith((L=C,{taskState:"Success",documentsLoaded:L.totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}));_._updateProgress(n0(C));const T=new Dk(C,d.localStore,f.N);let I=yield f.Qo();for(;I;){const L=yield T.fo(I);L&&_._updateProgress(L),I=yield f.Qo()}const x=yield T.complete();yield Za(d,x.Tn,void 0),yield function(L,V){const Y=Ne(L);return Y.persistence.runTransaction("Save bundle","readwrite",se=>Y.Je.saveBundleMetadata(se,V))}(d.localStore,C),_._completeWith(x.progress)}catch(C){ih("SyncEngine",`Loading bundle failed with ${C}`),_._failWith(C)}var L}),function(d,f,_){return o.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield y0(r),o,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,we.Z)(function*(){return function(n,s){const o=Ne(n);return o.persistence.runTransaction("Get named query","readonly",d=>o.Je.getNamedQuery(d,s))}(yield _0(r),i)}))}(zt(r=Zt(r,Pn)),i).then(n=>n?new Sr(r,null,n.query):null)}(this._delegate,i).then(n=>n?new Tr(this,n):null)}}class Vm extends Ky{constructor(i){super(),this.firestore=i}convertBytes(i){return new Qh(new ea(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return gs.forKey(n,this.firestore,null)}}class tM{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new Vm(i)}get(i){const n=Jh(i);return this._delegate.get(n).then(s=>new Bm(this._firestore,new ms(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const o=Jh(i);return s?(Lm("Transaction.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const d=Jh(i);return 2===arguments.length?this._delegate.update(d,n):this._delegate.update(d,n,s,...o),this}delete(i){const n=Jh(i);return this._delegate.delete(n),this}}class W0{constructor(i){this._delegate=i}set(i,n,s){const o=Jh(i);return s?(Lm("WriteBatch.set",s),this._delegate.set(o,n,s)):this._delegate.set(o,n),this}update(i,n,s,...o){const d=Jh(i);return 2===arguments.length?this._delegate.update(d,n):this._delegate.update(d,n,s,...o),this}delete(i){const n=Jh(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class wu{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new Om(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new Um(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=wu.INSTANCES;let o=s.get(i);o||(o=new WeakMap,s.set(i,o));let d=o.get(n);return d||(d=new wu(i,new Vm(i),n),o.set(n,d)),d}}wu.INSTANCES=new WeakMap;class gs{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Vm(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new gs(n,new Mn(n._delegate,s,new We(i)))}static forKey(i,n,s){return new gs(n,new Mn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new Hm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new Hm(this.firestore,Uk(this._delegate,i))}catch(n){throw ar(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,Jt.m9)(i))instanceof Mn&&AT(this._delegate,i)}set(i,n){n=Lm("DocumentReference.set",n);try{return n?$T(this._delegate,i,n):$T(this._delegate,i)}catch(s){throw ar(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?Qy(this._delegate,i):Qy(this._delegate,i,n,...s)}catch(o){throw ar(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Xl(Zt(r.firestore,Pn),[new Ch(r._key,Yn.none())])}(this._delegate)}onSnapshot(...i){const n=K0(i),s=Q0(i,o=>new Bm(this.firestore,new ms(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return qT(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Zt(r,Mn);const i=Zt(r.firestore,Pn),n=zt(i),s=new ti(i);return function(r,i){const n=new Oi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(o,d,f){try{const _=yield function(C,T){const I=Ne(C);return I.persistence.runTransaction("read document","readonly",x=>I.Qn.An(x,T))}(o,d);_.isFoundDocument()?f.resolve(_):_.isNoDocument()?f.resolve(null):f.reject(new Ie(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const C=Vh(_,`Failed to get document '${d} from cache`);f.reject(C)}}),function(o,d,f){return s.apply(this,arguments)})(yield _0(r),i,n);var s})),n.promise}(n,r._key).then(o=>new ms(i,s,r._key,o,new bo(null!==o&&o.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Zt(r,Mn);const i=Zt(r.firestore,Pn);return DT(zt(i),r._key,{source:"server"}).then(n=>Jy(i,r,n))}(this._delegate):function(r){r=Zt(r,Mn);const i=Zt(r.firestore,Pn);return DT(zt(i),r._key).then(n=>Jy(i,r,n))}(this._delegate),n.then(s=>new Bm(this.firestore,new ms(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new gs(this.firestore,this._delegate.withConverter(i?wu.getInstance(this.firestore,i):null))}}function ar(r,i,n){return r.message=r.message.replace(i,n),r}function K0(r){for(const i of r)if("object"==typeof i&&!ev(i))return i;return{}}function Q0(r,i){var n,s;let o;return o=ev(r[0])?r[0]:ev(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:d=>{o.next&&o.next(i(d))},error:null===(n=o.error)||void 0===n?void 0:n.bind(o),complete:null===(s=o.complete)||void 0===s?void 0:s.bind(o)}}class Bm{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new gs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return UT(this._delegate,i._delegate)}}class Um extends Bm{data(i){const n=this._delegate.data(i);return function(r,i){r||Xe()}(void 0!==n),n}}class Tr{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new Vm(i)}where(i,n,s){try{return new Tr(this.firestore,Jl(this._delegate,function(r,i,n){const s=i,o=Zy("where",r);return new x1(o,s,n)}(i,n,s)))}catch(o){throw ar(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new Tr(this.firestore,Jl(this._delegate,function(r,i="asc"){const n=i,s=Zy("orderBy",r);return new L0(s,n)}(i,n)))}catch(s){throw ar(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Tr(this.firestore,Jl(this._delegate,function(r){return MT("limit",r),new Wy("limit",r,"F")}(i)))}catch(n){throw ar(n,"limit()","Query.limit()")}}limitToLast(i){try{return new Tr(this.firestore,Jl(this._delegate,function(r){return MT("limitToLast",r),new Wy("limitToLast",r,"L")}(i)))}catch(n){throw ar(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Tr(this.firestore,Jl(this._delegate,function(...r){return new jT("startAt",r,!0)}(...i)))}catch(n){throw ar(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Tr(this.firestore,Jl(this._delegate,function(...r){return new jT("startAfter",r,!1)}(...i)))}catch(n){throw ar(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Tr(this.firestore,Jl(this._delegate,function(...r){return new B0("endBefore",r,!0)}(...i)))}catch(n){throw ar(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Tr(this.firestore,Jl(this._delegate,function(...r){return new B0("endAt",r,!1)}(...i)))}catch(n){throw ar(n,"endAt()","Query.endAt()")}}isEqual(i){return kT(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Zt(r,Sr);const i=Zt(r.firestore,Pn),n=zt(i),s=new ti(i);return function(r,i){const n=new Oi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(s=(0,we.Z)(function*(o,d,f){try{const _=yield kh(o,d,!0),C=new s0(d,_.Gn),T=C.Io(_.documents),I=C.applyChanges(T,!1);f.resolve(I.snapshot)}catch(_){const C=Vh(_,`Failed to execute query '${d} against cache`);f.reject(C)}}),function(o,d,f){return s.apply(this,arguments)})(yield _0(r),i,n);var s})),n.promise}(n,r._query).then(o=>new ta(i,s,r,o))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Zt(r,Sr);const i=Zt(r.firestore,Pn),n=zt(i),s=new ti(i);return ST(n,r._query,{source:"server"}).then(o=>new ta(i,s,r,o))}(this._delegate):function(r){r=Zt(r,Sr);const i=Zt(r.firestore,Pn),n=zt(i),s=new ti(i);return Wh(r._query),ST(n,r._query).then(o=>new ta(i,s,r,o))}(this._delegate),n.then(s=>new iM(this.firestore,new ta(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=K0(i),s=Q0(i,o=>new iM(this.firestore,new ta(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return qT(this._delegate,n,s)}withConverter(i){return new Tr(this.firestore,this._delegate.withConverter(i?wu.getInstance(this.firestore,i):null))}}class nM{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Um(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iM{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new Tr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new Um(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new nM(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new Um(this._firestore,s))})}isEqual(i){return UT(this._delegate,i._delegate)}}class Hm extends Tr{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new gs(this.firestore,i):null}doc(i){try{return new gs(this.firestore,void 0===i?Gy(this._delegate):Gy(this._delegate,i))}catch(n){throw ar(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Zt(r.firestore,Pn),s=Gy(r),o=Fm(r.converter,i);return Xl(n,[Am(Cu(r.firestore),"addDoc",s._key,o,null!==r.converter,{}).toMutation(s._key,Yn.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new gs(this.firestore,n))}isEqual(i){return AT(this._delegate,i._delegate)}withConverter(i){return new Hm(this.firestore,this._delegate.withConverter(i?wu.getInstance(this.firestore,i):null))}}function Jh(r){return Zt(r,Mn)}class rM{constructor(...i){this._delegate=new Kl(...i)}static documentId(){return new rM($n.keyField().canonicalString())}isEqual(i){return(i=(0,Jt.m9)(i))instanceof Kl&&this._delegate._internalPath.isEqual(i._internalPath)}}class Xh{constructor(i){this._delegate=i}static serverTimestamp(){const i=new $y("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new Xh(i)}static delete(){const i=new km("deleteField");return i._methodName="FieldValue.delete",new Xh(i)}static arrayUnion(...i){const n=function(...r){return new qk("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new Xh(n)}static arrayRemove(...i){const n=function(...r){return new Zk("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new Xh(n)}static increment(i){const n=function(r){return new Wk("increment",r)}(i);return n._methodName="FieldValue.increment",new Xh(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const F1={Firestore:Z0,GeoPoint:T0,Timestamp:di,Blob:Qh,Transaction:tM,WriteBatch:W0,DocumentReference:gs,DocumentSnapshot:Bm,Query:Tr,QueryDocumentSnapshot:Um,QuerySnapshot:iM,CollectionReference:Hm,FieldPath:rM,FieldValue:Xh,setLogLevel:function(r){!function(r){Ri.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};!function(r){(function(r,i){r.INTERNAL.registerComponent(new ED.wA("firestore-compat",n=>((i,n)=>new Z0(i,n,new ax))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},F1)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.3")}(wD.Z);var xe=N(9765),Vn=N(6682),tv=N(9746),Co=N(5345);function Bn(r,i){return"function"==typeof i?n=>n.pipe(Bn((s,o)=>(0,En.D)(r(s,o)).pipe((0,Je.U)((d,f)=>i(s,d,o,f))))):n=>n.lift(new V1(r))}class V1{constructor(i){this.project=i}call(i,n){return n.subscribe(new B1(i,this.project))}}class B1 extends Co.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(o){return void this.destination.error(o)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new Co.IY(this),o=this.destination;o.add(s),this.innerSubscription=(0,Co.ft)(i,s),this.innerSubscription!==s&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}var U1=N(7771),Rt=N(5319),sM=N(7971),cx=N(8858);class ux extends xe.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new H1(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,d=s.length;let f;if(this.closed)throw new sM.N;if(this.isStopped||this.hasError?f=Rt.w.EMPTY:(this.observers.push(i),f=new cx.W(this,i)),o&&i.add(i=new tv.ht(i,o)),n)for(let _=0;_<d&&!i.closed;_++)i.next(s[_]);else for(let _=0;_<d&&!i.closed;_++)i.next(s[_].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),f}_getNow(){return(this.scheduler||U1.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,o=this._events,d=o.length;let f=0;for(;f<d&&!(i-o[f].time<s);)f++;return d>n&&(f=Math.max(f,d-n)),f>0&&o.splice(0,f),o}}class H1{constructor(i,n){this.time=i,this.value=n}}function oM(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},o=>o.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let o,f,d=0,_=!1,C=!1;return function(I){let x;d++,!o||_?(_=!1,o=new ux(r,i,s),x=o.subscribe(this),f=I.subscribe({next(L){o.next(L)},error(L){_=!0,o.error(L)},complete(){C=!0,f=void 0,o.complete()}}),C&&(f=void 0)):x=o.subscribe(this),this.add(()=>{d--,x.unsubscribe(),x=void 0,f&&!C&&n&&0===d&&(f.unsubscribe(),f=void 0,o=void 0)})}}(s))}const nv=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})(),dx=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var ec=N(9193);function un(r){return i=>0===r?(0,ec.c)():i.lift(new $1(r))}class $1{constructor(i){if(this.total=i,this.total<0)throw new dx}call(i,n){return n.subscribe(new hx(i,this.total))}}class hx extends Ii.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function fx(r=null){return i=>i.lift(new px(r))}class px{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new J0(i,this.defaultValue))}}class J0 extends Ii.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Eu(r=gx){return i=>i.lift(new aM(r))}class aM{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new mx(i,this.errorFactory))}}class mx extends Ii.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function gx(){return new nv}var iv=N(4487);function tc(r,i){const n=arguments.length>=2;return s=>s.pipe(r?qt((o,d)=>r(o,d,s)):iv.y,un(1),n?fx(i):Eu(()=>new nv))}function X0(r,i){return i?Bn(()=>r,i):Bn(()=>r)}var rv=N(9673),eE=N(7841);const jm=new c.OlP("angularfire2.auth.use-emulator"),tE=new c.OlP("angularfire2.auth.settings"),_x=new c.OlP("angularfire2.auth.tenant-id"),yx=new c.OlP("angularfire2.auth.langugage-code"),vx=new c.OlP("angularfire2.auth.use-device-language"),cM=new c.OlP("angularfire.auth.persistence"),bx=(r,i,n,s,o,d,f,_)=>(0,Jn.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const C=i.runOutsideAngular(()=>r.auth());if(n&&C.useEmulator(...n),s&&(C.tenantId=s),C.languageCode=o,d&&C.useDeviceLanguage(),f)for(const[T,I]of Object.entries(f))C.settings[T]=I;return _&&C.setPersistence(_),C},[n,s,o,d,f,_]);let ia=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I,x,L){const V=new xe.xQ,Y=(0,Ue.of)(void 0).pipe((0,tv.QV)(f.outsideAngular),Bn(()=>d.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,670)))),(0,Je.U)(()=>(0,nn.on)(n,d,s)),(0,Je.U)(se=>bx(se,d,_,T,I,x,C,L)),oM({bufferSize:1,refCount:!1}));if(Zu(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ue.of)(null);else{Y.pipe(tc()).subscribe();const ve=Y.pipe(Bn(Be=>Be.getRedirectResult().then(nt=>nt,()=>null)),Jn.iC,oM({bufferSize:1,refCount:!1})),Le=Y.pipe(Bn(Be=>new ln.y(nt=>({unsubscribe:d.runOutsideAngular(()=>Be.onAuthStateChanged(ii=>nt.next(ii),ii=>nt.error(ii),()=>nt.complete()))})))),Ge=Y.pipe(Bn(Be=>new ln.y(nt=>({unsubscribe:d.runOutsideAngular(()=>Be.onIdTokenChanged(ii=>nt.next(ii),ii=>nt.error(ii),()=>nt.complete()))}))));this.authState=ve.pipe(X0(Le),(0,rv.R)(f.outsideAngular),(0,tv.QV)(f.insideAngular)),this.user=ve.pipe(X0(Ge),(0,rv.R)(f.outsideAngular),(0,tv.QV)(f.insideAngular)),this.idToken=this.user.pipe(Bn(Be=>Be?(0,En.D)(Be.getIdToken()):(0,Ue.of)(null))),this.idTokenResult=this.user.pipe(Bn(Be=>Be?(0,En.D)(Be.getIdTokenResult()):(0,Ue.of)(null))),this.credential=(0,Vn.T)(ve,V,this.authState.pipe(qt(Be=>!Be))).pipe((0,Je.U)(Be=>(null==Be?void 0:Be.user)?Be:null),(0,rv.R)(f.outsideAngular),(0,tv.QV)(f.insideAngular))}return(0,nn.pX)(this,Y,d,{spy:{apply:(se,ve,Le)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Le.then(Ge=>V.next(Ge))}}})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(nn.Dh),c.LFG(nn.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Jn.HU),c.LFG(jm,8),c.LFG(tE,8),c.LFG(_x,8),c.LFG(yx,8),c.LFG(vx,8),c.LFG(cM,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Cx=(()=>{class r{constructor(){eE.Z.registerVersion("angularfire",Jn.q4.full,"auth-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[ia]}),r})();function wx(r,i){return function(r,i=Mi.z){return new ln.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function iE(r,i){return wx(r,i).pipe((0,Je.U)(n=>({payload:n,type:"query"})))}function rE(r,i){return iE(r,i).pipe(Qt(void 0),Cr(),(0,Je.U)(([n,s])=>{const o=s.payload.docChanges(),d=o.map(f=>({type:f.type,payload:f}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((f,_)=>{const C=o.find(I=>I.doc.ref.isEqual(f.ref)),T=null==n?void 0:n.payload.docs.find(I=>I.ref.isEqual(f.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(f.metadata)||!C&&T&&JSON.stringify(T.metadata)===JSON.stringify(f.metadata)||d.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:f}})}),d}))}function Ex(r,i,n){return rE(r,n).pipe(Ld((s,o)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return uM(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return uM(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return uM(r,i.oldIndex,1)}return r}(r,s))}),r}(s,o.map(d=>d.payload),i),[]),Vd(),(0,Je.U)(s=>s.map(o=>({type:o.type,payload:o}))))}function uM(r,i,n,...s){const o=r.slice();return o.splice(i,n,...s),o}function hM(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class Sx{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=rE(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,Je.U)(s=>s.filter(o=>i.indexOf(o.type)>-1)))),n.pipe(Qt(void 0),Cr(),qt(([s,o])=>o.length>0||!s),(0,Je.U)(([s,o])=>o),Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=hM(i);return Ex(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return iE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),Jn.iC)}get(i){return(0,En.D)(this.query.get(i)).pipe(Jn.iC)}add(i){return this.ref.add(i)}doc(i){return new Tx(this.ref.doc(i),this.afs)}}class Tx{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:o,query:d}=sv(s,n);return new Sx(o,d,this.afs)}snapshotChanges(){return function(r,i){return wx(r,i).pipe(Qt(void 0),Cr(),(0,Je.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Je.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,En.D)(this.ref.get(i)).pipe(Jn.iC)}}class Mx{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?rE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),qt(n=>n.length>0),Jn.iC):rE(this.query,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}auditTrail(i){return this.stateChanges(i).pipe(Ld((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=hM(i);return Ex(this.query,n,this.afs.schedulers.outsideAngular).pipe(Jn.iC)}valueChanges(i={}){return iE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Je.U)(s=>s.payload.docs.map(o=>i.idField?Object.assign({[i.idField]:o.id},o.data()):o.data())),Jn.iC)}get(i){return(0,En.D)(this.query.get(i)).pipe(Jn.iC)}}const ef=new c.OlP("angularfire2.enableFirestorePersistence"),fM=new c.OlP("angularfire2.firestore.persistenceSettings"),Ix=new c.OlP("angularfire2.firestore.settings"),Ax=new c.OlP("angularfire2.firestore.use-emulator");function sv(r,i=(n=>n)){return{query:i(r),ref:r}}let ov=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I,x,L,V,Y,se,ve,Le){this.schedulers=C;const Ge=(0,nn.on)(n,_,s),Be=I;x&&bx(Ge,_,L,Y,se,ve,V,Le),[this.firestore,this.persistenceEnabled$]=(0,Jn.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const nt=_.runOutsideAngular(()=>Ge.firestore());if(d&&nt.settings(d),Be&&nt.useEmulator(...Be),o&&!Zu(f)){const ii=()=>{try{return(0,En.D)(nt.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Ss){return"undefined"!=typeof console&&console.warn(Ss),(0,Ue.of)(!1)}};return[nt,_.runOutsideAngular(ii)]}return[nt,(0,Ue.of)(!1)]},[d,Be,o])}collection(n,s){let o;o="string"==typeof n?this.firestore.collection(n):n;const{ref:d,query:f}=sv(o,s),_=this.schedulers.ngZone.run(()=>d);return new Sx(_,f,this)}collectionGroup(n,s){const o=s||(f=>f),d=this.firestore.collectionGroup(n);return new Mx(o(d),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const o=this.schedulers.ngZone.run(()=>s);return new Tx(o,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(nn.Dh),c.LFG(nn.xv,8),c.LFG(ef,8),c.LFG(Ix,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Jn.HU),c.LFG(fM,8),c.LFG(Ax,8),c.LFG(ia,8),c.LFG(jm,8),c.LFG(tE,8),c.LFG(_x,8),c.LFG(yx,8),c.LFG(vx,8),c.LFG(cM,8))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),_s=(()=>{class r{constructor(){eE.Z.registerVersion("angularfire",Jn.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:ef,useValue:!0},{provide:fM,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[ov]}),r})();class ys extends xe.xQ{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const n=super._subscribe(i);return n&&!n.closed&&i.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new sM.N;return this._value}next(i){super.next(this._value=i)}}function lr(r,...i){return i.length?i.some(n=>r[n]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}var Ni=N(3342);function pv(r,i=Mi.P){return n=>n.lift(new Zx(r,i))}class Zx{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new Wx(i,this.dueTime,this.scheduler))}}class Wx extends Ii.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(wo,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function wo(r){r.debouncedNext()}function Kx(r){return i=>i.lift(new SM(r))}class SM{constructor(i){this.total=i}call(i,n){return n.subscribe(new Qx(i,this.total))}}class Qx extends Ii.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){++this.count>this.total&&this.destination.next(i)}}function Pt(r){return i=>i.lift(new TM(r))}class TM{constructor(i){this.notifier=i}call(i,n){const s=new MM(i),o=(0,Co.ft)(this.notifier,new Co.IY(s));return o&&!s.seenValue?(s.add(o),n.subscribe(s)):s}}class MM extends Co.Ds{constructor(i){super(i),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function qe(r){return null!=r&&"false"!=`${r}`}function ni(r,i=0){return function(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}(r)?Number(r):i}function ic(r){return Array.isArray(r)?r:[r]}function Un(r){return null==r?"":"string"==typeof r?r:`${r}px`}function Hn(r){return r instanceof c.SBq?r.nativeElement:r}function uE(r,i=/\s+/){const n=[];if(null!=r){const s=Array.isArray(r)?r:`${r}`.split(i);for(const o of s){const d=`${o}`.trim();d&&n.push(d)}}return n}let dE;try{dE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){dE=!1}let sf,Wt=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?function(r){return"browser"===r}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!dE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.Lbi))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(c.Lbi))},token:r,providedIn:"root"}),r})(),Du=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();const IM=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function AM(){if(sf)return sf;if("object"!=typeof document||!document)return sf=new Set(IM),sf;let r=document.createElement("input");return sf=new Set(IM.filter(i=>(r.setAttribute("type",i),r.type===i))),sf}let Su,rc,oa,Gm;function Wn(r){return function(){if(null==Su&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Su=!0}))}finally{Su=Su||!1}return Su}()?r:!!r.capture}function hE(){if(null==oa){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return oa=!1,oa;if("scrollBehavior"in document.documentElement.style)oa=!0;else{const r=Element.prototype.scrollTo;oa=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return oa}function sc(){if("object"!=typeof document||!document)return 0;if(null==rc){const r=document.createElement("div"),i=r.style;r.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";const n=document.createElement("div"),s=n.style;s.width="2px",s.height="1px",r.appendChild(n),document.body.appendChild(r),rc=0,0===r.scrollLeft&&(r.scrollLeft=1,rc=0===r.scrollLeft?1:2),r.parentNode.removeChild(r)}return rc}function Tu(r){if(function(){if(null==Gm){const r="undefined"!=typeof document?document.head:null;Gm=!(!r||!r.createShadowRoot&&!r.attachShadow)}return Gm}()){const i=r.getRootNode?r.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function zm(){let r="undefined"!=typeof document&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const i=r.shadowRoot.activeElement;if(i===r)break;r=i}return r}function js(r){return r.composedPath?r.composedPath()[0]:r.target}let fE=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),xM=(()=>{class r{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((n,s)=>this._cleanupObserver(s))}observe(n){const s=Hn(n);return new ln.y(o=>{const f=this._observeElement(s).subscribe(o);return()=>{f.unsubscribe(),this._unobserveElement(s)}})}_observeElement(n){if(this._observedElements.has(n))this._observedElements.get(n).count++;else{const s=new xe.xQ,o=this._mutationObserverFactory.create(d=>s.next(d));o&&o.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:o,stream:s,count:1})}return this._observedElements.get(n).stream}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){const{observer:s,stream:o}=this._observedElements.get(n);s&&s.disconnect(),o.complete(),this._observedElements.delete(n)}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(fE))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(fE))},token:r,providedIn:"root"}),r})(),pE=(()=>{class r{constructor(n,s,o){this._contentObserver=n,this._elementRef=s,this._ngZone=o,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(n){this._disabled=qe(n),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=ni(n),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const n=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?n.pipe(pv(this.debounce)):n).subscribe(this.event)})}_unsubscribe(){var n;null===(n=this._currentSubscription)||void 0===n||n.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(xM),c.Y36(c.SBq),c.Y36(c.R0b))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),mE=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[fE]}),r})();class FM{constructor(i){this._items=i,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xe.xQ,this._typeaheadSubscription=Rt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new xe.xQ,this.change=new xe.xQ,i instanceof c.n_E&&i.changes.subscribe(n=>{if(this._activeItem){const o=n.toArray().indexOf(this._activeItem);o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o)}})}skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ni.b)(n=>this._pressedLetters.push(n)),pv(i),qt(()=>this._pressedLetters.length>0),(0,Je.U)(()=>this._pressedLetters.join(""))).subscribe(n=>{const s=this._getItemsArray();for(let o=1;o<s.length+1;o++){const d=(this._activeItemIndex+o)%s.length,f=s[d];if(!this._skipPredicateFn(f)&&0===f.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(d);break}}this._pressedLetters=[]}),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}setActiveItem(i){const n=this._activeItem;this.updateActiveItem(i),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(i){const n=i.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(d=>!i[d]||this._allowedModifierKeys.indexOf(d)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;default:return void((o||lr(i,"shiftKey"))&&(i.key&&1===i.key.length?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){const n=this._getItemsArray(),s="number"==typeof i?i:n.indexOf(i),o=n[s];this._activeItem=null==o?null:o,this._activeItemIndex=s}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){const n=this._getItemsArray();for(let s=1;s<=n.length;s++){const o=(this._activeItemIndex+i*s+n.length)%n.length;if(!this._skipPredicateFn(n[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,n){const s=this._getItemsArray();if(s[i]){for(;this._skipPredicateFn(s[i]);)if(!s[i+=n])return;this.setActiveItem(i)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class NM extends FM{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}}class aa extends FM{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}let Iu=(()=>{class r{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const s=function(r){try{return r.frameElement}catch(i){return null}}(function(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(n));if(s&&(-1===_E(s)||!this.isVisible(s)))return!1;let o=n.nodeName.toLowerCase(),d=_E(n);return n.hasAttribute("contenteditable")?-1!==d:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function(r){let i=r.nodeName.toLowerCase(),n="input"===i&&r.type;return"text"===n||"password"===n||"select"===i||"textarea"===i}(n))&&("audio"===o?!!n.hasAttribute("controls")&&-1!==d:"video"===o?-1!==d&&(null!==d||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,s){return function(r){return!function(r){return function(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function(r){let i=r.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(r)||function(r){return function(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||gE(r))}(n)&&!this.isDisabled(n)&&((null==s?void 0:s.ignoreVisibility)||this.isVisible(n))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt))},token:r,providedIn:"root"}),r})();function gE(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let i=r.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function _E(r){if(!gE(r))return null;const i=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class BM{constructor(i,n,s,o,d=!1){this._element=i,this._checker=n,this._ngZone=s,this._document=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}destroy(){const i=this._startAnchor,n=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let n=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let s=0;s<n.length;s++)n[s].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]):n[s].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,n[s]);return"start"==i?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(n.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",n),!this._checker.isFocusable(n)){const s=this._getFirstTabbableElement(n);return null==s||s.focus(i),!!s}return n.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const n=this._getRegionBoundary("start");return n&&n.focus(i),!!n}focusLastTabbableElement(i){const n=this._getRegionBoundary("end");return n&&n.focus(i),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=0;s<n.length;s++){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[s]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let n=i.children||i.childNodes;for(let s=n.length-1;s>=0;s--){let o=n[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[s]):null;if(o)return o}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,n){i?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(un(1)).subscribe(i)}}let Xa=(()=>{class r{constructor(n,s,o){this._checker=n,this._ngZone=s,this._document=o}create(n,s=!1){return new BM(n,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Iu),c.LFG(c.R0b),c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Iu),c.LFG(c.R0b),c.LFG(q))},token:r,providedIn:"root"}),r})(),vE=(()=>{class r{constructor(n,s,o){this._elementRef=n,this._focusTrapFactory=s,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(n){this.focusTrap.enabled=qe(n)}get autoCapture(){return this._autoCapture}set autoCapture(n){this._autoCapture=qe(n)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(n){const s=n.autoCapture;s&&!s.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=zm(),this.focusTrap.focusInitialElementWhenReady()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Xa),c.Y36(q))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[c.TTD]}),r})();function bE(r){return 0===r.offsetX&&0===r.offsetY}function CE(r){const i=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}"undefined"!=typeof Element&&Element;const lR=new c.OlP("cdk-input-modality-detector-options"),cR={ignoreKeys:[18,17,224,91,16]},$m=Wn({passive:!0,capture:!0});let dR=(()=>{class r{constructor(n,s,o,d){this._platform=n,this._mostRecentTarget=null,this._modality=new ys(null),this._lastTouchMs=0,this._onKeydown=f=>{var _,C;(null===(C=null===(_=this._options)||void 0===_?void 0:_.ignoreKeys)||void 0===C?void 0:C.some(T=>T===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=js(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(bE(f)?"keyboard":"mouse"),this._mostRecentTarget=js(f))},this._onTouchstart=f=>{CE(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=js(f))},this._options=Object.assign(Object.assign({},cR),d),this.modalityDetected=this._modality.pipe(Kx(1)),this.modalityChanged=this.modalityDetected.pipe(Vd()),n.isBrowser&&s.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,$m),o.addEventListener("mousedown",this._onMousedown,$m),o.addEventListener("touchstart",this._onTouchstart,$m)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,$m),document.removeEventListener("mousedown",this._onMousedown,$m),document.removeEventListener("touchstart",this._onTouchstart,$m))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt),c.LFG(c.R0b),c.LFG(q),c.LFG(lR,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt),c.LFG(c.R0b),c.LFG(q),c.LFG(lR,8))},token:r,providedIn:"root"}),r})();const hR=new c.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),l=new c.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let u=(()=>{class r{constructor(n,s,o,d){this._ngZone=s,this._defaultOptions=d,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...s){const o=this._defaultOptions;let d,f;return 1===s.length&&"number"==typeof s[0]?f=s[0]:[d,f]=s,this.clear(),clearTimeout(this._previousTimeout),d||(d=o&&o.politeness?o.politeness:"polite"),null==f&&o&&(f=o.duration),this._liveElement.setAttribute("aria-live",d),this._ngZone.runOutsideAngular(()=>new Promise(_=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,_(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const n="cdk-live-announcer-element",s=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let d=0;d<s.length;d++)s[d].parentNode.removeChild(s[d]);return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),this._document.body.appendChild(o),o}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(hR,8),c.LFG(c.R0b),c.LFG(q),c.LFG(l,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(hR,8),c.LFG(c.R0b),c.LFG(q),c.LFG(l,8))},token:r,providedIn:"root"}),r})(),h=(()=>{class r{constructor(n,s,o,d){this._elementRef=n,this._liveAnnouncer=s,this._contentObserver=o,this._ngZone=d,this._politeness="polite"}get politeness(){return this._politeness}set politeness(n){this._politeness="off"===n||"assertive"===n?n:"polite","off"===this._politeness?this._subscription&&(this._subscription.unsubscribe(),this._subscription=null):this._subscription||(this._subscription=this._ngZone.runOutsideAngular(()=>this._contentObserver.observe(this._elementRef).subscribe(()=>{const s=this._elementRef.nativeElement.textContent;s!==this._previousAnnouncedText&&(this._liveAnnouncer.announce(s,this._politeness),this._previousAnnouncedText=s)})))}ngOnDestroy(){this._subscription&&this._subscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(u),c.Y36(xM),c.Y36(c.R0b))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkAriaLive",""]],inputs:{politeness:["cdkAriaLive","politeness"]},exportAs:["cdkAriaLive"]}),r})();const m=new c.OlP("cdk-focus-monitor-default-options"),g=Wn({passive:!0,capture:!0});let b=(()=>{class r{constructor(n,s,o,d,f){this._ngZone=n,this._platform=s,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xe.xQ,this._rootNodeFocusAndBlurListener=_=>{const C=js(_),T="focus"===_.type?this._onFocus:this._onBlur;for(let I=C;I;I=I.parentElement)T.call(this,_,I)},this._document=d,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(n,s=!1){const o=Hn(n);if(!this._platform.isBrowser||1!==o.nodeType)return(0,Ue.of)(null);const d=Tu(o)||this._getDocument(),f=this._elementInfo.get(o);if(f)return s&&(f.checkChildren=!0),f.subject;const _={checkChildren:s,subject:new xe.xQ,rootNode:d};return this._elementInfo.set(o,_),this._registerGlobalListeners(_),_.subject}stopMonitoring(n){const s=Hn(n),o=this._elementInfo.get(s);o&&(o.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(o))}focusVia(n,s,o){const d=Hn(n);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([_,C])=>this._originChanged(_,s,C)):(this._setOrigin(s),"function"==typeof d.focus&&d.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(n,s,o){o?n.classList.add(s):n.classList.remove(s)}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(n){return 1===this._detectionMode||!!(null==n?void 0:n.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(n,s){this._toggleClass(n,"cdk-focused",!!s),this._toggleClass(n,"cdk-touch-focused","touch"===s),this._toggleClass(n,"cdk-keyboard-focused","keyboard"===s),this._toggleClass(n,"cdk-mouse-focused","mouse"===s),this._toggleClass(n,"cdk-program-focused","program"===s)}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=n,this._originFromTouchInteraction="touch"===n&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(n,s){const o=this._elementInfo.get(s),d=js(n);!o||!o.checkChildren&&s!==d||this._originChanged(s,this._getFocusOrigin(d),o)}_onBlur(n,s){const o=this._elementInfo.get(s);!o||o.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(o.subject,null))}_emitOrigin(n,s){this._ngZone.run(()=>n.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;const s=n.rootNode,o=this._rootNodeFocusListenerCount.get(s)||0;o||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,g),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,g)}),this._rootNodeFocusListenerCount.set(s,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pt(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(n){const s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const o=this._rootNodeFocusListenerCount.get(s);o>1?this._rootNodeFocusListenerCount.set(s,o-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,g),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,g),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,o){this._setClasses(n,s),this._emitOrigin(o.subject,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){const s=[];return this._elementInfo.forEach((o,d)=>{(d===n||o.checkChildren&&d.contains(n))&&s.push([d,o])}),s}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.R0b),c.LFG(Wt),c.LFG(dR),c.LFG(q,8),c.LFG(m,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(c.R0b),c.LFG(Wt),c.LFG(dR),c.LFG(q,8),c.LFG(m,8))},token:r,providedIn:"root"}),r})(),w=(()=>{class r{constructor(n,s){this._elementRef=n,this._focusMonitor=s,this.cdkFocusChange=new c.vpe}ngAfterViewInit(){const n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,1===n.nodeType&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(b))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const S="cdk-high-contrast-black-on-white",M="cdk-high-contrast-white-on-black",A="cdk-high-contrast-active";let R=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,o=s&&s.getComputedStyle?s.getComputedStyle(n):null,d=(o&&o.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(A),n.remove(S),n.remove(M),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(A),n.add(S)):2===s&&(n.add(A),n.add(M))}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt),c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt),c.LFG(q))},token:r,providedIn:"root"}),r})(),P=(()=>{class r{constructor(n){n._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(R))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Du,mE]]}),r})();const U=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(q)}});let ne=(()=>{class r{constructor(n){if(this.value="ltr",this.change=new c.vpe,n){const o=n.documentElement?n.documentElement.dir:null,d=(n.body?n.body.dir:null)||o;this.value="ltr"===d||"rtl"===d?d:"ltr"}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(U,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(U,8))},token:r,providedIn:"root"}),r})(),Ae=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();const be=new c.GfV("12.2.6");function Lt(r,i){if(1&r&&c._UZ(0,"mat-pseudo-checkbox",4),2&r){const n=c.oxw();c.Q6J("state",n.selected?"checked":"unchecked")("disabled",n.disabled)}}function Ei(r,i){if(1&r&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.hij("(",n.group.label,")")}}const Gs=["*"],Au=new c.GfV("12.2.6"),EE=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Vt=(()=>{class r{constructor(n,s,o){this._hasDoneGlobalChecks=!1,this._document=o,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const n=this._document.defaultView||window;return"object"==typeof n&&n?n:null}_checkIsEnabled(n){return!(!(0,c.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_isTestEnv(){const n=this._getWindow();return n&&(n.__karma__||n.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Au.full!==be.full&&console.warn("The Angular Material version ("+Au.full+") does not match the Angular CDK version ("+be.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(R),c.LFG(EE,8),c.LFG(q))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Ae],Ae]}),r})();function ku(r){return class extends r{constructor(...i){super(...i),this._disabled=!1}get disabled(){return this._disabled}set disabled(i){this._disabled=qe(i)}}}function el(r,i){return class extends r{constructor(...n){super(...n),this.defaultColor=i,this.color=i}get color(){return this._color}set color(n){const s=n||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function yv(r){return class extends r{constructor(...i){super(...i),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=qe(i)}}}function fR(r,i=0){return class extends r{constructor(...n){super(...n),this._tabIndex=i,this.defaultTabIndex=i}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(n){this._tabIndex=null!=n?ni(n):this.defaultTabIndex}}}function UM(r){return class extends r{constructor(...i){super(...i),this.stateChanges=new xe.xQ,this.errorState=!1}updateErrorState(){const i=this.errorState,d=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);d!==i&&(this.errorState=d,this.stateChanges.next())}}}const dB=new c.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return(0,c.f3M)(c.soG)}});class fi{constructor(){this._localeChanges=new xe.xQ,this.localeChanges=this._localeChanges}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return null==i||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,n){return this.getYear(i)-this.getYear(n)||this.getMonth(i)-this.getMonth(n)||this.getDate(i)-this.getDate(n)}sameDate(i,n){if(i&&n){let s=this.isValid(i),o=this.isValid(n);return s&&o?!this.compareDate(i,n):s==o}return i==n}clampDate(i,n,s){return n&&this.compareDate(i,n)<0?n:s&&this.compareDate(i,s)>0?s:i}}const oc=new c.OlP("mat-date-formats");let Zm;try{Zm="undefined"!=typeof Intl}catch(r){Zm=!1}const fB={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},pB=HM(31,r=>String(r+1)),mB={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},gB=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function HM(r,i){const n=Array(r);for(let s=0;s<r;s++)n[s]=i(s);return n}let _B=(()=>{class r extends fi{constructor(n,s){super(),this.useUtcForDisplay=!0,super.setLocale(n),this.useUtcForDisplay=!s.TRIDENT,this._clampDate=s.TRIDENT||s.EDGE}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){if(Zm){const s=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return HM(12,o=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,o,1))))}return fB[n]}getDateNames(){if(Zm){const n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return HM(31,s=>this._stripDirectionalityCharacters(this._format(n,new Date(2017,0,s+1))))}return pB}getDayOfWeekNames(n){if(Zm){const s=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return HM(7,o=>this._stripDirectionalityCharacters(this._format(s,new Date(2017,0,o+1))))}return mB[n]}getYearName(n){if(Zm){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(s,n))}return String(this.getYear(n))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,s,o){let d=this._createDateWithOverflow(n,s,o);return d.getMonth(),d}today(){return new Date}parse(n){return"number"==typeof n?new Date(n):n?new Date(Date.parse(n)):null}format(n,s){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");if(Zm){this._clampDate&&(n.getFullYear()<1||n.getFullYear()>9999)&&(n=this.clone(n)).setFullYear(Math.max(1,Math.min(9999,n.getFullYear()))),s=Object.assign(Object.assign({},s),{timeZone:"utc"});const o=new Intl.DateTimeFormat(this.locale,s);return this._stripDirectionalityCharacters(this._format(o,n))}return this._stripDirectionalityCharacters(n.toDateString())}addCalendarYears(n,s){return this.addCalendarMonths(n,12*s)}addCalendarMonths(n,s){let o=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+s,this.getDate(n));return this.getMonth(o)!=((this.getMonth(n)+s)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(n,s){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+s)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if("string"==typeof n){if(!n)return null;if(gB.test(n)){let s=new Date(n);if(this.isValid(s))return s}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(n,s,o){const d=new Date;return d.setFullYear(n,s,o),d.setHours(0,0,0,0),d}_2digit(n){return("00"+n).slice(-2)}_stripDirectionalityCharacters(n){return n.replace(/[\u200e\u200f]/g,"")}_format(n,s){const o=new Date;return o.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),o.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),n.format(o)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(dB,8),c.LFG(Wt))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),vB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:fi,useClass:_B}],imports:[[Du]]}),r})();const bB={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let CB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:oc,useValue:bB}],imports:[[vB]]}),r})(),lf=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),QP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt],Vt]}),r})();class DB{constructor(i,n,s){this._renderer=i,this.element=n,this.config=s,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JP={enterDuration:225,exitDuration:150},pR=Wn({passive:!0}),XP=["mousedown","touchstart"],eF=["mouseup","mouseleave","touchend","touchcancel"];class tF{constructor(i,n,s,o){this._target=i,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Hn(s))}fadeInRipple(i,n,s={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d=Object.assign(Object.assign({},JP),s.animation);s.centered&&(i=o.left+o.width/2,n=o.top+o.height/2);const f=s.radius||function(r,i,n){const s=Math.max(Math.abs(r-n.left),Math.abs(r-n.right)),o=Math.max(Math.abs(i-n.top),Math.abs(i-n.bottom));return Math.sqrt(s*s+o*o)}(i,n,o),_=i-o.left,C=n-o.top,T=d.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=_-f+"px",I.style.top=C-f+"px",I.style.height=2*f+"px",I.style.width=2*f+"px",null!=s.color&&(I.style.backgroundColor=s.color),I.style.transitionDuration=`${T}ms`,this._containerElement.appendChild(I),function(r){window.getComputedStyle(r).getPropertyValue("opacity")}(I),I.style.transform="scale(1)";const x=new DB(this,I,s);return x.state=0,this._activeRipples.add(x),s.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const L=x===this._mostRecentTransientRipple;x.state=1,!s.persistent&&(!L||!this._isPointerDown)&&x.fadeOut()},T),x}fadeOutRipple(i){const n=this._activeRipples.delete(i);if(i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!n)return;const s=i.element,o=Object.assign(Object.assign({},JP),i.config.animation);s.style.transitionDuration=`${o.exitDuration}ms`,s.style.opacity="0",i.state=2,this._runTimeoutOutsideZone(()=>{i.state=3,s.parentNode.removeChild(s)},o.exitDuration)}fadeOutAll(){this._activeRipples.forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const n=Hn(i);!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,this._registerEvents(XP))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(eF),this._pointerUpEventsRegistered=!0)}_onMousedown(i){const n=bE(i),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!s&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!CE(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=i.changedTouches;for(let s=0;s<n.length;s++)this.fadeInRipple(n[s].clientX,n[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_runTimeoutOutsideZone(i,n=0){this._ngZone.runOutsideAngular(()=>setTimeout(i,n))}_registerEvents(i){this._ngZone.runOutsideAngular(()=>{i.forEach(n=>{this._triggerElement.addEventListener(n,this,pR)})})}_removeTriggerEvents(){this._triggerElement&&(XP.forEach(i=>{this._triggerElement.removeEventListener(i,this,pR)}),this._pointerUpEventsRegistered&&eF.forEach(i=>{this._triggerElement.removeEventListener(i,this,pR)}))}}const nF=new c.OlP("mat-ripple-global-options");let Wm=(()=>{class r{constructor(n,s,o,d,f){this._elementRef=n,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new tF(this,s,n,o)}get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,s=0,o){return"number"==typeof n?this._rippleRenderer.fadeInRipple(n,s,Object.assign(Object.assign({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),n))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Wt),c.Y36(nF,8),c.Y36(K,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("mat-ripple-unbounded",s.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),r})(),jM=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt,Du],Vt]}),r})(),IB=(()=>{class r{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(K,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(n,s){2&n&&c.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(n,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),r})(),AB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt]]}),r})();const GM=new c.OlP("MAT_OPTION_PARENT_COMPONENT"),kB=ku(class{});let xB=0,iF=(()=>{class r extends kB{constructor(n){var s;super(),this._labelId="mat-optgroup-label-"+xB++,this._inert=null!==(s=null==n?void 0:n.inertGroups)&&void 0!==s&&s}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(GM,8))},r.\u0275dir=c.lG2({type:r,inputs:{label:"label"},features:[c.qOj]}),r})();const zM=new c.OlP("MatOptgroup");let RB=0;class rF{constructor(i,n=!1){this.source=i,this.isUserInput=n}}let OB=(()=>{class r{constructor(n,s,o,d){this._element=n,this._changeDetectorRef=s,this._parent=o,this.group=d,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+RB++,this.onSelectionChange=new c.vpe,this._stateChanges=new xe.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(n){this._disabled=qe(n)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(n,s){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(13===n.keyCode||32===n.keyCode)&&!lr(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue=n,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new rF(this,n))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(void 0),c.Y36(iF))},r.\u0275dir=c.lG2({type:r,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),SE=(()=>{class r extends OB{constructor(n,s,o,d){super(n,s,o,d)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(GM,8),c.Y36(zM,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(n,s){1&n&&c.NdJ("click",function(){return s._selectViaInteraction()})("keydown",function(d){return s._handleKeydown(d)}),2&n&&(c.Ikx("id",s.id),c.uIk("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),c.ekj("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[c.qOj],ngContentSelectors:Gs,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(n,s){1&n&&(c.F$t(),c.YNc(0,Lt,1,2,"mat-pseudo-checkbox",0),c.TgZ(1,"span",1),c.Hsn(2),c.qZA(),c.YNc(3,Ei,2,1,"span",2),c._UZ(4,"div",3)),2&n&&(c.Q6J("ngIf",s.multiple),c.xp6(3),c.Q6J("ngIf",s.group&&s.group._inert),c.xp6(1),c.Q6J("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},directives:[oi,Wm,IB],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),r})();function mR(r,i,n){if(n.length){let s=i.toArray(),o=n.toArray(),d=0;for(let f=0;f<r+1;f++)s[f].group&&s[f].group===o[d]&&d++;return d}return 0}function sF(r,i,n,s){return r<n?r:r+i>n+s?Math.max(0,r-s+i):n}let $M=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[jM,pr,Vt,AB]]}),r})();const oF=["*"],aF=".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n";class NB{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const i=Math.max(...this.tracker);return i>1?this.rowCount+i-1:this.rowCount}update(i,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(i),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(s=>this._trackTile(s))}_trackTile(i){const n=this._findMatchingGap(i.colspan);return this._markTilePosition(n,i),this.columnIndex=n+i.colspan,new LB(this.rowIndex,n)}_findMatchingGap(i){let n=-1,s=-1;do{this.columnIndex+i>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(s=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(n)))}while(s-n<i||0==s);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let i=0;i<this.tracker.length;i++)this.tracker[i]=Math.max(0,this.tracker[i]-1)}_findGapEndIndex(i){for(let n=i+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(i,n){for(let s=0;s<n.colspan;s++)this.tracker[i+s]=n.rowspan}}class LB{constructor(i,n){this.row=i,this.col=n}}const lF=new c.OlP("MAT_GRID_LIST");let cF=(()=>{class r{constructor(n,s){this._element=n,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(n){this._rowspan=Math.round(ni(n))}get colspan(){return this._colspan}set colspan(n){this._colspan=Math.round(ni(n))}_setStyle(n,s){this._element.nativeElement.style[n]=s}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(lF,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(n,s){2&n&&c.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:oF,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[aF],encapsulation:2,changeDetection:0}),r})();const VB=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class gR{constructor(){this._rows=0,this._rowspan=0}init(i,n,s,o){this._gutterSize=uF(i),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=s,this._direction=o}getBaseTileSize(i,n){return`(${i}% - (${this._gutterSize} * ${n}))`}getTilePosition(i,n){return 0===n?"0":Km(`(${i} + ${this._gutterSize}) * ${n}`)}getTileSize(i,n){return`(${i} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(i,n,s){let o=100/this._cols,d=(this._cols-1)/this._cols;this.setColStyles(i,s,o,d),this.setRowStyles(i,n,o,d)}setColStyles(i,n,s,o){let d=this.getBaseTileSize(s,o);i._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(d,n)),i._setStyle("width",Km(this.getTileSize(d,i.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(i){return`${this._rowspan} * ${this.getTileSize(i,1)}`}getComputedHeight(){return null}}class BB extends gR{constructor(i){super(),this.fixedRowHeight=i}init(i,n,s,o){super.init(i,n,s,o),this.fixedRowHeight=uF(this.fixedRowHeight),VB.test(this.fixedRowHeight)}setRowStyles(i,n){i._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),i._setStyle("height",Km(this.getTileSize(this.fixedRowHeight,i.rowspan)))}getComputedHeight(){return["height",Km(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["height",null]),i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class UB extends gR{constructor(i){super(),this._parseRatio(i)}setRowStyles(i,n,s,o){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,o),i._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),i._setStyle("paddingTop",Km(this.getTileSize(this.baseTileHeight,i.rowspan)))}getComputedHeight(){return["paddingBottom",Km(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(i){i._setListStyle(["paddingBottom",null]),i._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(i){const n=i.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class HB extends gR{setRowStyles(i,n){let d=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);i._setStyle("top",this.getTilePosition(d,n)),i._setStyle("height",Km(this.getTileSize(d,i.rowspan)))}reset(i){i._tiles&&i._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function Km(r){return`calc(${r})`}function uF(r){return r.match(/([A-Za-z%]+)$/)?r:`${r}px`}let GB=(()=>{class r{constructor(n,s){this._element=n,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(n){this._cols=Math.max(1,Math.round(ni(n)))}get gutterSize(){return this._gutter}set gutterSize(n){this._gutter=`${null==n?"":n}`}get rowHeight(){return this._rowHeight}set rowHeight(n){const s=`${null==n?"":n}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(n){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===n?new HB:n&&n.indexOf(":")>-1?new UB(n):new BB(n)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new NB);const n=this._tileCoordinator,s=this._tiles.filter(d=>!d._gridList||d._gridList===this),o=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,n,this.cols,o),s.forEach((d,f)=>{const _=n.positions[f];this._tileStyler.setStyle(d,_.row,_.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(n){n&&(this._element.nativeElement.style[n[0]]=n[1])}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(ne,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-grid-list"]],contentQueries:function(n,s,o){if(1&n&&c.Suo(o,cF,5),2&n){let d;c.iGM(d=c.CRH())&&(s._tiles=d)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(n,s){2&n&&c.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:lF,useExisting:r}])],ngContentSelectors:oF,decls:2,vars:0,template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[aF],encapsulation:2,changeDetection:0}),r})(),zB=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[QP,Vt],QP,Vt]}),r})();function $B(r,i){if(1&r&&(c.O4$(),c._UZ(0,"circle",3)),2&r){const n=c.oxw();c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),c.uIk("r",n._getCircleRadius())}}function YB(r,i){if(1&r&&(c.O4$(),c._UZ(0,"circle",3)),2&r){const n=c.oxw();c.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),c.uIk("r",n._getCircleRadius())}}function qB(r,i){if(1&r&&(c.O4$(),c._UZ(0,"circle",3)),2&r){const n=c.oxw();c.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),c.uIk("r",n._getCircleRadius())}}function ZB(r,i){if(1&r&&(c.O4$(),c._UZ(0,"circle",3)),2&r){const n=c.oxw();c.Udp("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),c.uIk("r",n._getCircleRadius())}}const dF=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",KB=el(class{constructor(r){this._elementRef=r}},"primary"),hF=new c.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class xu extends KB{constructor(i,n,s,o,d){super(i),this._document=s,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const f=xu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(s.head)||f.set(s.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===o&&!!d&&!d._forceAnimations,d&&(d.diameter&&(this.diameter=d.diameter),d.strokeWidth&&(this.strokeWidth=d.strokeWidth))}get diameter(){return this._diameter}set diameter(i){this._diameter=ni(i),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(i){this._strokeWidth=ni(i)}get value(){return"determinate"===this.mode?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,ni(i)))}ngOnInit(){const i=this._elementRef.nativeElement;this._styleRoot=Tu(i)||this._document.head,this._attachStyleNode(),i.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const i=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${i} ${i}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const i=this._styleRoot,n=this._diameter,s=xu._diameters;let o=s.get(i);if(!o||!o.has(n)){const d=this._document.createElement("style");d.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),d.textContent=this._getAnimationText(),i.appendChild(d),o||(o=new Set,s.set(i,o)),o.add(n)}}_getAnimationText(){const i=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*i).replace(/END_VALUE/g,""+.2*i).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}xu.\u0275fac=function(i){return new(i||xu)(c.Y36(c.SBq),c.Y36(Wt),c.Y36(q,8),c.Y36(K,8),c.Y36(hF))},xu.\u0275cmp=c.Xpm({type:xu,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(i,n){2&i&&(c.uIk("aria-valuemin","determinate"===n.mode?0:null)("aria-valuemax","determinate"===n.mode?100:null)("aria-valuenow","determinate"===n.mode?n.value:null)("mode",n.mode),c.Udp("width",n.diameter,"px")("height",n.diameter,"px"),c.ekj("_mat-animation-noopable",n._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[c.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(i,n){1&i&&(c.O4$(),c.TgZ(0,"svg",0),c.YNc(1,$B,1,9,"circle",1),c.YNc(2,YB,1,7,"circle",2),c.qZA()),2&i&&(c.Udp("width",n.diameter,"px")("height",n.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===n.mode),c.uIk("viewBox",n._getViewBox()),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[Ji,Cn],styles:[dF],encapsulation:2,changeDetection:0}),xu._diameters=new WeakMap;let XB=(()=>{class r extends xu{constructor(n,s,o,d,f){super(n,s,o,d,f),this.mode="indeterminate"}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Wt),c.Y36(q,8),c.Y36(K,8),c.Y36(hF))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(n,s){2&n&&(c.Udp("width",s.diameter,"px")("height",s.diameter,"px"),c.ekj("_mat-animation-noopable",s._noopAnimations))},inputs:{color:"color"},features:[c.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,s){1&n&&(c.O4$(),c.TgZ(0,"svg",0),c.YNc(1,qB,1,9,"circle",1),c.YNc(2,ZB,1,7,"circle",2),c.qZA()),2&n&&(c.Udp("width",s.diameter,"px")("height",s.diameter,"px"),c.Q6J("ngSwitch","indeterminate"===s.mode),c.uIk("viewBox",s._getViewBox()),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1))},directives:[Ji,Cn],styles:[dF],encapsulation:2,changeDetection:0}),r})(),eU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt,pr],Vt]}),r})();var YM=N(9796),tU=N(9105);function Ru(r,i,n,s){return(0,tU.m)(n)&&(s=n,n=void 0),s?Ru(r,i,n).pipe((0,Je.U)(o=>(0,YM.k)(o)?s(...o):s(o))):new ln.y(o=>{fF(r,i,function(f){o.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},o,n)})}function fF(r,i,n,s,o){let d;if(function(r){return r&&"function"==typeof r.addEventListener&&"function"==typeof r.removeEventListener}(r)){const f=r;r.addEventListener(i,n,o),d=()=>f.removeEventListener(i,n,o)}else if(function(r){return r&&"function"==typeof r.on&&"function"==typeof r.off}(r)){const f=r;r.on(i,n),d=()=>f.off(i,n)}else if(function(r){return r&&"function"==typeof r.addListener&&"function"==typeof r.removeListener}(r)){const f=r;r.addListener(i,n),d=()=>f.removeListener(i,n)}else{if(!r||!r.length)throw new TypeError("Invalid event target");for(let f=0,_=r.length;f<_;f++)fF(r[f],i,n,s,o)}s.add(d)}var sU=N(6465),aU=N(6102);const pF=new class extends aU.v{flush(i){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let s,o=-1,d=n.length;i=i||n.shift();do{if(s=i.execute(i.state,i.delay))break}while(++o<d&&(i=n.shift()));if(this.active=!1,s){for(;++o<d&&(i=n.shift());)i.unsubscribe();throw s}}}(class extends sU.o{constructor(i,n){super(i,n),this.scheduler=i,this.work=n}requestAsyncId(i,n,s=0){return null!==s&&s>0?super.requestAsyncId(i,n,s):(i.actions.push(this),i.scheduled||(i.scheduled=requestAnimationFrame(()=>i.flush(null))))}recycleAsyncId(i,n,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(i,n,s);0===i.actions.length&&(cancelAnimationFrame(n),i.scheduled=void 0)}});var yR=N(4581);class uU{constructor(i){this.durationSelector=i}call(i,n){return n.subscribe(new dU(i,this.durationSelector))}}class dU extends Co.Ds{constructor(i,n){super(i),this.durationSelector=n,this.hasValue=!1}_next(i){if(this.value=i,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:o}=this;n=o(i)}catch(o){return this.destination.error(o)}const s=(0,Co.ft)(n,new Co.IY(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}}clearThrottle(){const{value:i,hasValue:n,throttled:s}=this;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(i))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var vR=N(6561);function fU(r){const{index:i,period:n,subscriber:s}=r;if(s.next(i),!s.closed){if(-1===n)return s.complete();r.index=i+1,this.schedule(r,n)}}function qM(r,i=Mi.P){return function(r){return function(n){return n.lift(new uU(r))}}(()=>function(r=0,i,n){let s=-1;return(0,vR.k)(i)?s=Number(i)<1?1:Number(i):(0,Nd.K)(i)&&(n=i),(0,Nd.K)(n)||(n=Mi.P),new ln.y(o=>{const d=(0,vR.k)(r)?r:+r-n.now();return n.schedule(fU,d,{index:0,period:s,subscriber:o})})}(r,i))}class gF{constructor(i=!1,n,s=!0){this._multiple=i,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new xe.xQ,n&&n.length&&(i?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n)),this._emitChangeEvent()}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n)),this._emitChangeEvent()}toggle(i){this.isSelected(i)?this.deselect(i):this.select(i)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(i){return this._selection.has(i)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){this.isSelected(i)||(this._multiple||this._unmarkAll(),this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){}}let Qm=(()=>{class r{constructor(n,s,o){this._ngZone=n,this._platform=s,this._scrolled=new xe.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new ln.y(s=>{this._globalSubscription||this._addGlobalListener();const o=n>0?this._scrolled.pipe(qM(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ue.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){const o=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(qt(d=>!d||o.indexOf(d)>-1))}getAncestorScrollContainers(n){const s=[];return this.scrollContainers.forEach((o,d)=>{this._scrollableContainsElement(d,n)&&s.push(d)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let o=Hn(s),d=n.getElementRef().nativeElement;do{if(o==d)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ru(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.R0b),c.LFG(Wt),c.LFG(q,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(c.R0b),c.LFG(Wt),c.LFG(q,8))},token:r,providedIn:"root"}),r})(),vv=(()=>{class r{constructor(n,s,o,d){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=o,this.dir=d,this._destroyed=new xe.xQ,this._elementScrolled=new ln.y(f=>this.ngZone.runOutsideAngular(()=>Ru(this.elementRef.nativeElement,"scroll").pipe(Pt(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const s=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=o?n.end:n.start),null==n.right&&(n.right=o?n.start:n.end),null!=n.bottom&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),o&&0!=sc()?(null!=n.left&&(n.right=s.scrollWidth-s.clientWidth-n.left),2==sc()?n.left=n.right:1==sc()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const s=this.elementRef.nativeElement;hE()?s.scrollTo(n):(null!=n.top&&(s.scrollTop=n.top),null!=n.left&&(s.scrollLeft=n.left))}measureScrollOffset(n){const s="left",o="right",d=this.elementRef.nativeElement;if("top"==n)return d.scrollTop;if("bottom"==n)return d.scrollHeight-d.clientHeight-d.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==n?n=f?o:s:"end"==n&&(n=f?s:o),f&&2==sc()?n==s?d.scrollWidth-d.clientWidth-d.scrollLeft:d.scrollLeft:f&&1==sc()?n==s?d.scrollLeft+d.scrollWidth-d.clientWidth:-d.scrollLeft:n==s?d.scrollLeft:d.scrollWidth-d.clientWidth-d.scrollLeft}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Qm),c.Y36(c.R0b),c.Y36(ne,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),ac=(()=>{class r{constructor(n,s,o){this._platform=n,this._change=new xe.xQ,this._changeListener=d=>{this._change.next(d)},this._document=o,s.runOutsideAngular(()=>{if(n.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:s,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+s,height:o,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,s=this._getWindow(),o=n.documentElement,d=o.getBoundingClientRect();return{top:-d.top||n.body.scrollTop||s.scrollY||o.scrollTop||0,left:-d.left||n.body.scrollLeft||s.scrollX||o.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(qM(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt),c.LFG(c.R0b),c.LFG(q,8))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt),c.LFG(c.R0b),c.LFG(q,8))},token:r,providedIn:"root"}),r})(),Ou=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})(),bF=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Ae,Du,Ou],Ae,Ou]}),r})();function CF(r){return i=>i.lift(new MU(r))}class MU{constructor(i){this.value=i}call(i,n){return n.subscribe(new IU(i,this.value))}}class IU extends Ii.L{constructor(i,n){super(i),this.value=n}_next(i){this.destination.next(this.value)}}const ZM=["*"];function AU(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(n),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&r){const n=c.oxw();c.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function kU(r,i){1&r&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const xU=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],RU=["mat-drawer","mat-drawer-content","*"];function OU(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){return c.CHM(n),c.oxw()._onBackdropClicked()}),c.qZA()}if(2&r){const n=c.oxw();c.ekj("mat-drawer-shown",n._isShowingBackdrop())}}function PU(r,i){1&r&&(c.TgZ(0,"mat-sidenav-content",3),c.Hsn(1,2),c.qZA())}const FU=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],NU=["mat-sidenav","mat-sidenav-content","*"],wF=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",EF={transformDrawer:Nr("transform",[tr("open, open-instant",Kt({transform:"none",visibility:"visible"})),tr("void",Kt({"box-shadow":"none",visibility:"hidden"})),_n("void => open-instant",_i("0ms")),_n("void <=> open, open-instant => void",_i("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},LU=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),bR=new c.OlP("MAT_DRAWER_CONTAINER");let WM=(()=>{class r extends vv{constructor(n,s,o,d,f){super(o,d,f),this._changeDetectorRef=n,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>SF)),c.Y36(c.SBq),c.Y36(Qm),c.Y36(c.R0b))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,s){2&n&&c.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[c.qOj],ngContentSelectors:ZM,decls:1,vars:0,template:function(n,s){1&n&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),DF=(()=>{class r{constructor(n,s,o,d,f,_,C){this._elementRef=n,this._focusTrapFactory=s,this._focusMonitor=o,this._platform=d,this._ngZone=f,this._doc=_,this._container=C,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xe.xQ,this._animationEnd=new xe.xQ,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(qt(T=>T),(0,Je.U)(()=>{})),this.openedStart=this._animationStarted.pipe(qt(T=>T.fromState!==T.toState&&0===T.toState.indexOf("open")),CF(void 0)),this._closedStream=this.openedChange.pipe(qt(T=>!T),(0,Je.U)(()=>{})),this.closedStart=this._animationStarted.pipe(qt(T=>T.fromState!==T.toState&&"void"===T.toState),CF(void 0)),this._destroyed=new xe.xQ,this.onPositionChanged=new c.vpe,this._modeChanged=new xe.xQ,this.openedChange.subscribe(T=>{T?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Ru(this._elementRef.nativeElement,"keydown").pipe(qt(T=>27===T.keyCode&&!this.disableClose&&!lr(T)),Pt(this._destroyed)).subscribe(T=>this._ngZone.run(()=>{this.close(),T.stopPropagation(),T.preventDefault()}))}),this._animationEnd.pipe(Vd((T,I)=>T.fromState===I.fromState&&T.toState===I.toState)).subscribe(T=>{const{fromState:I,toState:x}=T;(0===x.indexOf("open")&&"void"===I||"void"===x&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(n){(n="end"===n?"end":"start")!=this._position&&(this._position=n,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(n){this._mode=n,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(n){this._disableClose=qe(n)}get autoFocus(){const n=this._autoFocus;return null==n?"side"!==this.mode:n}set autoFocus(n){this._autoFocus=qe(n)}get opened(){return this._opened}set opened(n){this.toggle(qe(n))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var n;const s=null===(n=this._doc)||void 0===n?void 0:n.activeElement;return!!s&&this._elementRef.nativeElement.contains(s)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(n){return this.toggle(!0,n)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(n=!this.opened,s){return this._setOpen(n,!n&&this._isFocusWithinDrawer(),s)}_setOpen(n,s,o="program"){return this._opened=n,n?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=o):(this._animationState="void",s&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(d=>{this.openedChange.pipe(un(1)).subscribe(f=>d(f?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(n){this._animationStarted.next(n)}_animationDoneListener(n){this._animationEnd.next(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Xa),c.Y36(b),c.Y36(Wt),c.Y36(c.R0b),c.Y36(q,8),c.Y36(bR,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,s){1&n&&c.WFA("@transform.start",function(d){return s._animationStartListener(d)})("@transform.done",function(d){return s._animationDoneListener(d)}),2&n&&(c.uIk("align",null),c.d8E("@transform",s._animationState),c.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ZM,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},directives:[vv],encapsulation:2,data:{animation:[EF.transformDrawer]},changeDetection:0}),r})(),SF=(()=>{class r{constructor(n,s,o,d,f,_=!1,C){this._dir=n,this._element=s,this._ngZone=o,this._changeDetectorRef=d,this._animationMode=C,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new xe.xQ,this._doCheckSubject=new xe.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xe.xQ,n&&n.change.pipe(Pt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),f.change().pipe(Pt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=_}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(n){this._autosize=qe(n)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(n){this._backdropOverride=null==n?null:qe(n)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Qt(this._allDrawers),Pt(this._destroyed)).subscribe(n=>{this._drawers.reset(n.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Qt(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(n=>{this._watchDrawerToggle(n),this._watchDrawerPosition(n),this._watchDrawerMode(n)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(pv(10),Pt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(n=>n.open())}close(){this._drawers.forEach(n=>n.close())}updateContentMargins(){let n=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)n+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();n+=o,s-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();s+=o,n-=o}n=n||null,s=s||null,(n!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:n,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(n){n._animationStarted.pipe(qt(s=>s.fromState!==s.toState),Pt(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==n.mode&&n.openedChange.pipe(Pt(this._drawers.changes)).subscribe(()=>this._setContainerClass(n.opened))}_watchDrawerPosition(n){!n||n.onPositionChanged.pipe(Pt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(un(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(n){n&&n._modeChanged.pipe(Pt((0,Vn.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(n){const s=this._element.nativeElement.classList,o="mat-drawer-container-has-open";n?s.add(o):s.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(n=>{"end"==n.position?this._end=n:this._start=n}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(n=>n&&!n.disableClose&&this._canHaveBackdrop(n)).forEach(n=>n._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(n){return"side"!==n.mode||!!this._backdropOverride}_isDrawerOpen(n){return null!=n&&n.opened}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ne,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(ac),c.Y36(LU),c.Y36(K,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,WM,5),c.Suo(o,DF,5)),2&n){let d;c.iGM(d=c.CRH())&&(s._content=d.first),c.iGM(d=c.CRH())&&(s._allDrawers=d)}},viewQuery:function(n,s){if(1&n&&c.Gf(WM,5),2&n){let o;c.iGM(o=c.CRH())&&(s._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:bR,useExisting:r}])],ngContentSelectors:RU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,s){1&n&&(c.F$t(xU),c.YNc(0,AU,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,kU,2,0,"mat-drawer-content",1)),2&n&&(c.Q6J("ngIf",s.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!s._content))},directives:[oi,WM],styles:[wF],encapsulation:2,changeDetection:0}),r})(),CR=(()=>{class r extends WM{constructor(n,s,o,d,f){super(n,s,o,d,f)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>MF)),c.Y36(c.SBq),c.Y36(Qm),c.Y36(c.R0b))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,s){2&n&&c.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[c.qOj],ngContentSelectors:ZM,decls:1,vars:0,template:function(n,s){1&n&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),r})(),TF=(()=>{class r extends DF{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(n){this._fixedInViewport=qe(n)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(n){this._fixedTopGap=ni(n)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(n){this._fixedBottomGap=ni(n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,s){2&n&&(c.uIk("align",null),c.Udp("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:ZM,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},directives:[vv],encapsulation:2,data:{animation:[EF.transformDrawer]},changeDetection:0}),r})(),MF=(()=>{class r extends SF{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,CR,5),c.Suo(o,TF,5)),2&n){let d;c.iGM(d=c.CRH())&&(s._content=d.first),c.iGM(d=c.CRH())&&(s._allDrawers=d)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:bR,useExisting:r}]),c.qOj],ngContentSelectors:NU,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(n,s){1&n&&(c.F$t(FU),c.YNc(0,OU,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,PU,2,0,"mat-sidenav-content",1)),2&n&&(c.Q6J("ngIf",s.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!s._content))},directives:[oi,CR,vv],styles:[wF],encapsulation:2,changeDetection:0}),r})(),BU=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[pr,Vt,Du,Ou],Ou,Vt]}),r})();var IF=N(3098);function wR(r,i=Mi.P){const s=function(r){return r instanceof Date&&!isNaN(+r)}(r)?+r-i.now():Math.abs(r);return o=>o.lift(new HU(s,i))}class HU{constructor(i,n){this.delay=i,this.scheduler=n}call(i,n){return n.subscribe(new ER(i,this.delay,this.scheduler))}}class ER extends Ii.L{constructor(i,n,s){super(i),this.delay=n,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(i){const n=i.source,s=n.queue,o=i.scheduler,d=i.destination;for(;s.length>0&&s[0].time-o.now()<=0;)s.shift().notification.observe(d);if(s.length>0){const f=Math.max(0,s[0].time-o.now());this.schedule(i,f)}else this.unsubscribe(),n.active=!1}_schedule(i){this.active=!0,this.destination.add(i.schedule(ER.dispatch,this.delay,{source:this,destination:this.destination,scheduler:i}))}scheduleNotification(i){if(!0===this.errored)return;const n=this.scheduler,s=new jU(n.now()+this.delay,i);this.queue.push(s),!1===this.active&&this._schedule(n)}_next(i){this.scheduleNotification(IF.P.createNext(i))}_error(i){this.errored=!0,this.queue=[],this.destination.error(i),this.unsubscribe()}_complete(){this.scheduleNotification(IF.P.createComplete()),this.unsubscribe()}}class jU{constructor(i,n){this.time=i,this.notification=n}}class DR{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class Jm extends DR{constructor(i,n,s,o){super(),this.component=i,this.viewContainerRef=n,this.injector=s,this.componentFactoryResolver=o}}class Pu extends DR{constructor(i,n,s){super(),this.templateRef=i,this.viewContainerRef=n,this.context=s}get origin(){return this.templateRef.elementRef}attach(i,n=this.context){return this.context=n,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class GU extends DR{constructor(i){super(),this.element=i instanceof c.SBq?i.nativeElement:i}}class KM{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof Jm?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof Pu?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof GU?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class AF extends KM{constructor(i,n,s,o,d){super(),this.outletElement=i,this._componentFactoryResolver=n,this._appRef=s,this._defaultInjector=o,this.attachDomPortal=f=>{const _=f.element,C=this._document.createComment("dom-portal");_.parentNode.insertBefore(C,_),this.outletElement.appendChild(_),this._attachedPortal=f,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(_,C)})},this._document=d}attachComponentPortal(i){const s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let o;return i.viewContainerRef?(o=i.viewContainerRef.createComponent(s,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector),this.setDisposeFn(()=>o.destroy())):(o=s.create(i.injector||this._defaultInjector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=i,o}attachTemplatePortal(i){let n=i.viewContainerRef,s=n.createEmbeddedView(i.templateRef,i.context);return s.rootNodes.forEach(o=>this.outletElement.appendChild(o)),s.detectChanges(),this.setDisposeFn(()=>{let o=n.indexOf(s);-1!==o&&n.remove(o)}),this._attachedPortal=i,s}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let cf=(()=>{class r extends KM{constructor(n,s,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new c.vpe,this.attachDomPortal=d=>{const f=d.element,_=this._document.createComment("dom-portal");d.setAttachedHost(this),f.parentNode.insertBefore(_,f),this._getRootNode().appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(n){n.setAttachedHost(this);const s=null!=n.viewContainerRef?n.viewContainerRef:this._viewContainerRef,d=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),f=s.createComponent(d,s.length,n.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=n,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(n){n.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c._Vd),c.Y36(c.s_b),c.Y36(q))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[c.qOj]}),r})(),QM=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();class $U{constructor(i,n){this.predicate=i,this.inclusive=n}call(i,n){return n.subscribe(new YU(i,this.predicate,this.inclusive))}}class YU extends Ii.L{constructor(i,n,s){super(i),this.predicate=n,this.inclusive=s,this.index=0}_next(i){const n=this.destination;let s;try{s=this.predicate(i,this.index++)}catch(o){return void n.error(o)}this.nextOrComplete(i,s)}nextOrComplete(i,n){const s=this.destination;Boolean(n)?s.next(i):(this.inclusive&&s.next(i),s.complete())}}const xF=hE();class qU{constructor(i,n){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Un(-this._previousScrollPosition.left),i.style.top=Un(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,s=i.style,o=this._document.body.style,d=s.scrollBehavior||"",f=o.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),xF&&(s.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xF&&(s.scrollBehavior=d,o.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,s=this._viewportRuler.getViewportSize();return n.scrollHeight>s.height||n.scrollWidth>s.width}}class ZU{constructor(i,n,s,o){this._scrollDispatcher=i,this._ngZone=n,this._viewportRuler=s,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RF{enable(){}disable(){}attach(){}}function SR(r,i){return i.some(n=>r.bottom<n.top||r.top>n.bottom||r.right<n.left||r.left>n.right)}function OF(r,i){return i.some(n=>r.top<n.top||r.bottom>n.bottom||r.left<n.left||r.right>n.right)}class WU{constructor(i,n,s,o){this._scrollDispatcher=i,this._viewportRuler=n,this._ngZone=s,this._config=o,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:o}=this._viewportRuler.getViewportSize();SR(n,[{width:s,height:o,bottom:o,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KU=(()=>{class r{constructor(n,s,o,d){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=o,this.noop=()=>new RF,this.close=f=>new ZU(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new qU(this._viewportRuler,this._document),this.reposition=f=>new WU(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=d}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Qm),c.LFG(ac),c.LFG(c.R0b),c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Qm),c.LFG(ac),c.LFG(c.R0b),c.LFG(q))},token:r,providedIn:"root"}),r})();class Xm{constructor(i){if(this.scrollStrategy=new RF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const n=Object.keys(i);for(const s of n)void 0!==i[s]&&(this[s]=i[s])}}}class QU{constructor(i,n,s,o,d){this.offsetX=s,this.offsetY=o,this.panelClass=d,this.originX=i.originX,this.originY=i.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}}class JU{constructor(i,n){this.connectionPair=i,this.scrollableViewProperties=n}}let PF=(()=>{class r{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(q))},token:r,providedIn:"root"}),r})(),XU=(()=>{class r extends PF{constructor(n){super(n),this._keydownListener=s=>{const o=this._attachedOverlays;for(let d=o.length-1;d>-1;d--)if(o[d]._keydownEvents.observers.length>0){o[d]._keydownEvents.next(s);break}}}add(n){super.add(n),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(q))},token:r,providedIn:"root"}),r})(),e3=(()=>{class r extends PF{constructor(n,s){super(n),this._platform=s,this._cursorStyleIsSet=!1,this._clickListener=o=>{const d=js(o),f=this._attachedOverlays.slice();for(let _=f.length-1;_>-1;_--){const C=f[_];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(d))break;C._outsidePointerEvents.next(o)}}}}add(n){if(super.add(n),!this._isAttached){const s=this._document.body;s.addEventListener("click",this._clickListener,!0),s.addEventListener("auxclick",this._clickListener,!0),s.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q),c.LFG(Wt))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(q),c.LFG(Wt))},token:r,providedIn:"root"}),r})();const uf="undefined"!=typeof window?window:{},FF=void 0!==uf.__karma__&&!!uf.__karma__||void 0!==uf.jasmine&&!!uf.jasmine||void 0!==uf.jest&&!!uf.jest||void 0!==uf.Mocha&&!!uf.Mocha;let TE=(()=>{class r{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){const n=this._containerElement;n&&n.parentNode&&n.parentNode.removeChild(n)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||FF){const o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let d=0;d<o.length;d++)o[d].parentNode.removeChild(o[d])}const s=this._document.createElement("div");s.classList.add(n),FF?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q),c.LFG(Wt))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(q),c.LFG(Wt))},token:r,providedIn:"root"}),r})();class t3{constructor(i,n,s,o,d,f,_,C,T){this._portalOutlet=i,this._host=n,this._pane=s,this._config=o,this._ngZone=d,this._keyboardDispatcher=f,this._document=_,this._location=C,this._outsideClickDispatcher=T,this._backdropElement=null,this._backdropClick=new xe.xQ,this._attachments=new xe.xQ,this._detachments=new xe.xQ,this._locationChanges=Rt.w.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._keydownEvents=new xe.xQ,this._outsidePointerEvents=new xe.xQ,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){let n=this._portalOutlet.attach(i);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(un(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=Object.assign(Object.assign({},this._config),i),this._updateElementSize()}setDirection(i){this._config=Object.assign(Object.assign({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Un(this._config.width),i.height=Un(this._config.height),i.minWidth=Un(this._config.minWidth),i.minHeight=Un(this._config.minHeight),i.maxWidth=Un(this._config.maxWidth),i.maxHeight=Un(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let i=this._backdropElement;if(!i)return;let n,s=()=>{i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",s),i.parentNode&&i.parentNode.removeChild(i)),this._backdropElement==i&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(i,this._config.backdropClass,!1),clearTimeout(n)};i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",s)}),i.style.pointerEvents="none",n=this._ngZone.runOutsideAngular(()=>setTimeout(s,500))}_toggleClasses(i,n,s){const o=i.classList;ic(n).forEach(d=>{d&&(s?o.add(d):o.remove(d))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Pt((0,Vn.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}}const NF="cdk-overlay-connected-position-bounding-box",n3=/([A-Za-z%]+)$/;class TR{constructor(i,n,s,o,d){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xe.xQ,this._resizeSubscription=Rt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}get positions(){return this._preferredPositions}attach(i){this._validatePositions(),i.hostElement.classList.add(NF),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const i=this._originRect,n=this._overlayRect,s=this._viewportRect,o=[];let d;for(let f of this._preferredPositions){let _=this._getOriginPoint(i,f),C=this._getOverlayPoint(_,n,f),T=this._getOverlayFit(C,n,s,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(T,C,s)?o.push({position:f,origin:_,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!d||d.overlayFit.visibleArea<T.visibleArea)&&(d={overlayFit:T,overlayPoint:C,originPoint:_,position:f,overlayRect:n})}if(o.length){let f=null,_=-1;for(const C of o){const T=C.boundingBoxRect.width*C.boundingBoxRect.height*(C.position.weight||1);T>_&&(_=T,f=C)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(NF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const i=this._lastPosition||this._preferredPositions[0],n=this._getOriginPoint(this._originRect,i);this._applyPosition(i,n)}}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,n){let s,o;if("center"==n.originX)s=i.left+i.width/2;else{const d=this._isRtl()?i.right:i.left,f=this._isRtl()?i.left:i.right;s="start"==n.originX?d:f}return o="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,{x:s,y:o}}_getOverlayPoint(i,n,s){let o,d;return o="center"==s.overlayX?-n.width/2:"start"===s.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,d="center"==s.overlayY?-n.height/2:"top"==s.overlayY?0:-n.height,{x:i.x+o,y:i.y+d}}_getOverlayFit(i,n,s,o){const d=VF(n);let{x:f,y:_}=i,C=this._getOffset(o,"x"),T=this._getOffset(o,"y");C&&(f+=C),T&&(_+=T);let L=0-_,V=_+d.height-s.height,Y=this._subtractOverflows(d.width,0-f,f+d.width-s.width),se=this._subtractOverflows(d.height,L,V),ve=Y*se;return{visibleArea:ve,isCompletelyWithinViewport:d.width*d.height===ve,fitsInViewportVertically:se===d.height,fitsInViewportHorizontally:Y==d.width}}_canFitWithFlexibleDimensions(i,n,s){if(this._hasFlexibleDimensions){const o=s.bottom-n.y,d=s.right-n.x,f=LF(this._overlayRef.getConfig().minHeight),_=LF(this._overlayRef.getConfig().minWidth),T=i.fitsInViewportHorizontally||null!=_&&_<=d;return(i.fitsInViewportVertically||null!=f&&f<=o)&&T}return!1}_pushOverlayOnScreen(i,n,s){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const o=VF(n),d=this._viewportRect,f=Math.max(i.x+o.width-d.width,0),_=Math.max(i.y+o.height-d.height,0),C=Math.max(d.top-s.top-i.y,0),T=Math.max(d.left-s.left-i.x,0);let I=0,x=0;return I=o.width<=d.width?T||-f:i.x<this._viewportMargin?d.left-s.left-i.x:0,x=o.height<=d.height?C||-_:i.y<this._viewportMargin?d.top-s.top-i.y:0,this._previousPushAmount={x:I,y:x},{x:i.x+I,y:i.y+x}}_applyPosition(i,n){if(this._setTransformOrigin(i),this._setOverlayElementStyles(n,i),this._setBoundingBoxStyles(n,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const s=this._getScrollVisibility(),o=new JU(i,s);this._positionChanges.next(o)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,o=i.overlayY;s="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let d=0;d<n.length;d++)n[d].style.transformOrigin=`${s} ${o}`}_calculateBoundingBoxRect(i,n){const s=this._viewportRect,o=this._isRtl();let d,f,_,I,x,L;if("top"===n.overlayY)f=i.y,d=s.height-f+this._viewportMargin;else if("bottom"===n.overlayY)_=s.height-i.y+2*this._viewportMargin,d=s.height-_+this._viewportMargin;else{const V=Math.min(s.bottom-i.y+s.top,i.y),Y=this._lastBoundingBoxSize.height;d=2*V,f=i.y-V,d>Y&&!this._isInitialRender&&!this._growAfterOpen&&(f=i.y-Y/2)}if("end"===n.overlayX&&!o||"start"===n.overlayX&&o)L=s.width-i.x+this._viewportMargin,I=i.x-this._viewportMargin;else if("start"===n.overlayX&&!o||"end"===n.overlayX&&o)x=i.x,I=s.right-i.x;else{const V=Math.min(s.right-i.x+s.left,i.x),Y=this._lastBoundingBoxSize.width;I=2*V,x=i.x-V,I>Y&&!this._isInitialRender&&!this._growAfterOpen&&(x=i.x-Y/2)}return{top:f,left:x,bottom:_,right:L,width:I,height:d}}_setBoundingBoxStyles(i,n){const s=this._calculateBoundingBoxRect(i,n);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;o.height=Un(s.height),o.top=Un(s.top),o.bottom=Un(s.bottom),o.width=Un(s.width),o.left=Un(s.left),o.right=Un(s.right),o.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",o.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",d&&(o.maxHeight=Un(d)),f&&(o.maxWidth=Un(f))}this._lastBoundingBoxSize=s,eg(this._boundingBox.style,o)}_resetBoundingBoxStyles(){eg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,n){const s={},o=this._hasExactPosition(),d=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(o){const I=this._viewportRuler.getViewportScrollPosition();eg(s,this._getExactOverlayY(n,i,I)),eg(s,this._getExactOverlayX(n,i,I))}else s.position="static";let _="",C=this._getOffset(n,"x"),T=this._getOffset(n,"y");C&&(_+=`translateX(${C}px) `),T&&(_+=`translateY(${T}px)`),s.transform=_.trim(),f.maxHeight&&(o?s.maxHeight=Un(f.maxHeight):d&&(s.maxHeight="")),f.maxWidth&&(o?s.maxWidth=Un(f.maxWidth):d&&(s.maxWidth="")),eg(this._pane.style,s)}_getExactOverlayY(i,n,s){let o={top:"",bottom:""},d=this._getOverlayPoint(n,this._overlayRect,i);this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return d.y-=f,"bottom"===i.overlayY?o.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":o.top=Un(d.y),o}_getExactOverlayX(i,n,s){let f,o={left:"",right:""},d=this._getOverlayPoint(n,this._overlayRect,i);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,s)),f=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===f?o.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":o.left=Un(d.x),o}_getScrollVisibility(){const i=this._getOriginRect(),n=this._pane.getBoundingClientRect(),s=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OF(i,s),isOriginOutsideView:SR(i,s),isOverlayClipped:OF(n,s),isOverlayOutsideView:SR(n,s)}}_subtractOverflows(i,...n){return n.reduce((s,o)=>s-Math.max(o,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+i-this._viewportMargin,bottom:s.top+n-this._viewportMargin,width:i-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,n){return"x"===n?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&ic(i).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof c.SBq)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const n=i.width||0,s=i.height||0;return{top:i.y,bottom:i.y+s,left:i.x,right:i.x+n,height:s,width:n}}}function eg(r,i){for(let n in i)i.hasOwnProperty(n)&&(r[n]=i[n]);return r}function LF(r){if("number"!=typeof r&&null!=r){const[i,n]=r.split(n3);return n&&"px"!==n?null:parseFloat(i)}return r||null}function VF(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}class i3{constructor(i,n,s,o,d,f,_){this._preferredPositions=[],this._positionStrategy=new TR(s,o,d,f,_).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(i,n),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(i){this._overlayRef=i,this._positionStrategy.attach(i),this._direction&&(i.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(i){this._positionStrategy.withScrollableContainers(i)}withFallbackPosition(i,n,s,o){const d=new QU(i,n,s,o);return this._preferredPositions.push(d),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(i){return this._overlayRef?this._overlayRef.setDirection(i):this._direction=i,this}withOffsetX(i){return this._positionStrategy.withDefaultOffsetX(i),this}withOffsetY(i){return this._positionStrategy.withDefaultOffsetY(i),this}withLockedPosition(i){return this._positionStrategy.withLockedPosition(i),this}withPositions(i){return this._preferredPositions=i.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(i){return this._positionStrategy.setOrigin(i),this}}const BF="cdk-global-overlay-wrapper";class r3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(i){const n=i.getConfig();this._overlayRef=i,this._width&&!n.width&&i.updateSize({width:this._width}),this._height&&!n.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(BF),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._rightOffset="",this._leftOffset=i,this._justifyContent="flex-start",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._leftOffset="",this._rightOffset=i,this._justifyContent="flex-end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._justifyContent="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:o,height:d,maxWidth:f,maxHeight:_}=s,C=!("100%"!==o&&"100vw"!==o||f&&"100%"!==f&&"100vw"!==f),T=!("100%"!==d&&"100vh"!==d||_&&"100%"!==_&&"100vh"!==_);i.position=this._cssPosition,i.marginLeft=C?"0":this._leftOffset,i.marginTop=T?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=this._rightOffset,C?n.justifyContent="flex-start":"center"===this._justifyContent?n.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?n.justifyContent="flex-end":"flex-end"===this._justifyContent&&(n.justifyContent="flex-start"):n.justifyContent=this._justifyContent,n.alignItems=T?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,s=n.style;n.classList.remove(BF),s.justifyContent=s.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let s3=(()=>{class r{constructor(n,s,o,d){this._viewportRuler=n,this._document=s,this._platform=o,this._overlayContainer=d}global(){return new r3}connectedTo(n,s,o){return new i3(s,o,n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(n){return new TR(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(ac),c.LFG(q),c.LFG(Wt),c.LFG(TE))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(ac),c.LFG(q),c.LFG(Wt),c.LFG(TE))},token:r,providedIn:"root"}),r})(),o3=0,Cs=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I,x,L){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=o,this._positionBuilder=d,this._keyboardDispatcher=f,this._injector=_,this._ngZone=C,this._document=T,this._directionality=I,this._location=x,this._outsideClickDispatcher=L}create(n){const s=this._createHostElement(),o=this._createPaneElement(s),d=this._createPortalOutlet(o),f=new Xm(n);return f.direction=f.direction||this._directionality.value,new t3(d,s,o,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(n){const s=this._document.createElement("div");return s.id="cdk-overlay-"+o3++,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new AF(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(KU),c.LFG(TE),c.LFG(c._Vd),c.LFG(s3),c.LFG(XU),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(q),c.LFG(ne),c.LFG(ut),c.LFG(e3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const a3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],UF=new c.OlP("cdk-connected-overlay-scroll-strategy");let l3=(()=>{class r{constructor(n){this.elementRef=n}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),HF=(()=>{class r{constructor(n,s,o,d,f){this._overlay=n,this._dir=f,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Rt.w.EMPTY,this._attachSubscription=Rt.w.EMPTY,this._detachSubscription=Rt.w.EMPTY,this._positionSubscription=Rt.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new c.vpe,this.positionChange=new c.vpe,this.attach=new c.vpe,this.detach=new c.vpe,this.overlayKeydown=new c.vpe,this.overlayOutsideClick=new c.vpe,this._templatePortal=new Pu(s,o),this._scrollStrategyFactory=d,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(n){this._hasBackdrop=qe(n)}get lockPosition(){return this._lockPosition}set lockPosition(n){this._lockPosition=qe(n)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(n){this._flexibleDimensions=qe(n)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(n){this._growAfterOpen=qe(n)}get push(){return this._push}set push(n){this._push=qe(n)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=a3);const n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!lr(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const n=this._position=this.positionStrategy||this._createPositionStrategy(),s=new Xm({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(n){const s=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return n.setOrigin(this.origin.elementRef).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const n=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(n),n}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(r,i=!1){return n=>n.lift(new $U(r,i))}(()=>this.positionChange.observers.length>0)).subscribe(n=>{this.positionChange.emit(n),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cs),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(UF),c.Y36(ne,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[c.TTD]}),r})();const u3={provide:UF,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};let bv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Cs,u3],imports:[[Ae,QM,bF],bF]}),r})();const d3=["mat-menu-item",""];function h3(r,i){1&r&&(c.O4$(),c.TgZ(0,"svg",2),c._UZ(1,"polygon",3),c.qZA())}const jF=["*"];function f3(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",0),c.NdJ("keydown",function(o){return c.CHM(n),c.oxw()._handleKeydown(o)})("click",function(){return c.CHM(n),c.oxw().closed.emit("click")})("@transformMenu.start",function(o){return c.CHM(n),c.oxw()._onAnimationStart(o)})("@transformMenu.done",function(o){return c.CHM(n),c.oxw()._onAnimationDone(o)}),c.TgZ(1,"div",1),c.Hsn(2),c.qZA(),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("id",n.panelId)("ngClass",n._classList)("@transformMenu",n._panelAnimationState),c.uIk("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}const JM={transformMenu:Nr("transformMenu",[tr("void",Kt({opacity:0,transform:"scale(0.8)"})),_n("void => enter",_i("120ms cubic-bezier(0, 0, 0.2, 1)",Kt({opacity:1,transform:"scale(1)"}))),_n("* => void",_i("100ms 25ms linear",Kt({opacity:0})))]),fadeInItems:Nr("fadeInItems",[tr("showing",Kt({opacity:1})),_n("void => *",[Kt({opacity:0}),_i("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},GF=new c.OlP("MatMenuContent"),MR=new c.OlP("MAT_MENU_PANEL"),m3=yv(ku(class{}));let XM=(()=>{class r extends m3{constructor(n,s,o,d,f){super(),this._elementRef=n,this._focusMonitor=o,this._parentMenu=d,this._changeDetectorRef=f,this.role="menuitem",this._hovered=new xe.xQ,this._focused=new xe.xQ,this._highlighted=!1,this._triggersSubmenu=!1,d&&d.addItem&&d.addItem(this)}focus(n,s){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var n,s;const o=this._elementRef.nativeElement.cloneNode(!0),d=o.querySelectorAll("mat-icon, .material-icons");for(let f=0;f<d.length;f++){const _=d[f];null===(n=_.parentNode)||void 0===n||n.removeChild(_)}return(null===(s=o.textContent)||void 0===s?void 0:s.trim())||""}_setHighlighted(n){var s;this._highlighted=n,null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(q),c.Y36(b),c.Y36(MR,8),c.Y36(c.sBO))},r.\u0275cmp=c.Xpm({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(n,s){1&n&&c.NdJ("click",function(d){return s._checkDisabled(d)})("mouseenter",function(){return s._handleMouseEnter()}),2&n&&(c.uIk("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),c.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[c.qOj],attrs:d3,ngContentSelectors:jF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(n,s){1&n&&(c.F$t(),c.Hsn(0),c._UZ(1,"div",0),c.YNc(2,h3,2,0,"svg",1)),2&n&&(c.xp6(1),c.Q6J("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),c.xp6(1),c.Q6J("ngIf",s._triggersSubmenu))},directives:[Wm,oi],encapsulation:2,changeDetection:0}),r})();const zF=new c.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let _3=0,ME=(()=>{class r{constructor(n,s,o){this._elementRef=n,this._ngZone=s,this._defaultOptions=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new c.n_E,this._tabSubscription=Rt.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new xe.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new c.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+_3++}get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(n){this._overlapTrigger=qe(n)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(n){this._hasBackdrop=qe(n)}set panelClass(n){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(o=>{this._classList[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{this._classList[o]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(n){this.panelClass=n}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new aa(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Qt(this._directDescendantItems),Bn(n=>(0,Vn.T)(...n.map(s=>s._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Qt(this._directDescendantItems),Bn(s=>(0,Vn.T)(...s.map(o=>o._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){const s=n.keyCode,o=this._keyManager;switch(s){case 27:lr(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===s||40===s)&&o.setFocusOrigin("keyboard"),o.onKeydown(n)}}focusFirstItem(n="program"){this.lazyContent?this._ngZone.onStable.pipe(un(1)).subscribe(()=>this._focusFirstItem(n)):this._focusFirstItem(n)}_focusFirstItem(n){const s=this._keyManager;if(s.setFocusOrigin(n).setFirstItemActive(),!s.activeItem&&this._directDescendantItems.length){let o=this._directDescendantItems.first._getHostElement().parentElement;for(;o;){if("menu"===o.getAttribute("role")){o.focus();break}o=o.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){const s=Math.min(this._baseElevation+n,24),o=`${this._elevationPrefix}${s}`,d=Object.keys(this._classList).find(f=>f.startsWith(this._elevationPrefix));(!d||d===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[o]=!0,this._previousElevation=o)}setPositionClasses(n=this.xPosition,s=this.yPosition){const o=this._classList;o["mat-menu-before"]="before"===n,o["mat-menu-after"]="after"===n,o["mat-menu-above"]="above"===s,o["mat-menu-below"]="below"===s}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(n){this._animationDone.next(n),this._isAnimating=!1}_onAnimationStart(n){this._isAnimating=!0,"enter"===n.toState&&0===this._keyManager.activeItemIndex&&(n.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Qt(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zF))},r.\u0275dir=c.lG2({type:r,contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,GF,5),c.Suo(o,XM,5),c.Suo(o,XM,4)),2&n){let d;c.iGM(d=c.CRH())&&(s.lazyContent=d.first),c.iGM(d=c.CRH())&&(s._allItems=d),c.iGM(d=c.CRH())&&(s.items=d)}},viewQuery:function(n,s){if(1&n&&c.Gf(c.Rgc,5),2&n){let o;c.iGM(o=c.CRH())&&(s.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),r})(),y3=(()=>{class r extends ME{constructor(n,s,o){super(n,s,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zF))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(n,s){2&n&&c.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[c._Bn([{provide:MR,useExisting:r}]),c.qOj],ngContentSelectors:jF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(n,s){1&n&&(c.F$t(),c.YNc(0,f3,3,6,"ng-template"))},directives:[fr],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[JM.transformMenu,JM.fadeInItems]},changeDetection:0}),r})();const $F=new c.OlP("mat-menu-scroll-strategy"),b3={provide:$F,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},qF=Wn({passive:!0});let C3=(()=>{class r{constructor(n,s,o,d,f,_,C,T){this._overlay=n,this._element=s,this._viewContainerRef=o,this._menuItemInstance=_,this._dir=C,this._focusMonitor=T,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Rt.w.EMPTY,this._hoverSubscription=Rt.w.EMPTY,this._menuCloseSubscription=Rt.w.EMPTY,this._handleTouchStart=I=>{CE(I)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new c.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new c.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=d,this._parentMaterialMenu=f instanceof ME?f:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,qF),_&&(_._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._menuCloseSubscription=n.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,qF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const n=this._createOverlay(),s=n.getConfig();this._setPosition(s.positionStrategy),s.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,n.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof ME&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(n,s){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,s):this._element.nativeElement.focus(s)}updatePosition(){var n;null===(n=this._overlayRef)||void 0===n||n.updatePosition()}_destroyMenu(n){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===n||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof ME?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(qt(o=>"void"===o.toState),un(1),Pt(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s.lazyContent&&s.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let n=0,s=this.menu.parentMenu;for(;s;)n++,s=s.parentMenu;this.menu.setElevation(n)}}_setIsMenuOpen(n){this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const n=this._getOverlayConfig();this._subscribeToPositions(n.positionStrategy),this._overlayRef=this._overlay.create(n),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Xm({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(n){this.menu.setPositionClasses&&n.positionChanges.subscribe(s=>{this.menu.setPositionClasses("start"===s.connectionPair.overlayX?"after":"before","top"===s.connectionPair.overlayY?"below":"above")})}_setPosition(n){let[s,o]="before"===this.menu.xPosition?["end","start"]:["start","end"],[d,f]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[_,C]=[d,f],[T,I]=[s,o],x=0;this.triggersSubmenu()?(I=s="before"===this.menu.xPosition?"start":"end",o=T="end"===s?"start":"end",x="bottom"===d?8:-8):this.menu.overlapTrigger||(_="top"===d?"bottom":"top",C="top"===f?"bottom":"top"),n.withPositions([{originX:s,originY:_,overlayX:T,overlayY:d,offsetY:x},{originX:o,originY:_,overlayX:I,overlayY:d,offsetY:x},{originX:s,originY:C,overlayX:T,overlayY:f,offsetY:-x},{originX:o,originY:C,overlayX:I,overlayY:f,offsetY:-x}])}_menuClosingActions(){const n=this._overlayRef.backdropClick(),s=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ue.of)(),d=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(qt(f=>f!==this._menuItemInstance),qt(()=>this._menuOpen)):(0,Ue.of)();return(0,Vn.T)(n,o,d,s)}_handleMousedown(n){bE(n)||(this._openedBy=0===n.button?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){const s=n.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(qt(n=>n===this._menuItemInstance&&!n.disabled),wR(0,yR.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ME&&this.menu._isAnimating?this.menu._animationDone.pipe(un(1),wR(0,yR.E),Pt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Pu(this.menu.templateRef,this._viewContainerRef)),this._portal}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cs),c.Y36(c.SBq),c.Y36(c.s_b),c.Y36($F),c.Y36(MR,8),c.Y36(XM,10),c.Y36(ne,8),c.Y36(b))},r.\u0275dir=c.lG2({type:r,hostVars:3,hostBindings:function(n,s){1&n&&c.NdJ("mousedown",function(d){return s._handleMousedown(d)})("keydown",function(d){return s._handleKeydown(d)})("click",function(d){return s._handleClick(d)}),2&n&&c.uIk("aria-haspopup",s._ariaHaspopup)("aria-expanded",s._ariaExpanded)("aria-controls",s._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),r})(),w3=(()=>{class r extends C3{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[c.qOj]}),r})(),E3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[b3],imports:[[pr,Vt,jM,bv],Ou,Vt]}),r})();function S3(r){const{subscriber:i,counter:n,period:s}=r;i.next(n),this.schedule({subscriber:i,counter:n+1,period:s},s)}function IR(r,i,n){for(let s in i)if(i.hasOwnProperty(s)){const o=i[s];o?r.setProperty(s,o,(null==n?void 0:n.has(s))?"important":""):r.removeProperty(s)}return r}function Cv(r,i){const n=i?"":"none";IR(r.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function ZF(r,i,n){IR(r.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},n)}function eI(r,i){return i&&"none"!=i?r+" "+i:r}function WF(r){const i=r.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(r)*i}function AR(r,i){return r.getPropertyValue(i).split(",").map(s=>s.trim())}function kR(r){const i=r.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height}}function xR(r,i,n){const{top:s,bottom:o,left:d,right:f}=r;return n>=s&&n<=o&&i>=d&&i<=f}function IE(r,i,n){r.top+=i,r.bottom=r.top+r.height,r.left+=n,r.right=r.left+r.width}function KF(r,i,n,s){const{top:o,right:d,bottom:f,left:_,width:C,height:T}=r,I=C*i,x=T*i;return s>o-x&&s<f+x&&n>_-I&&n<d+I}class QF{constructor(i,n){this._document=i,this._viewportRuler=n,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),i.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:kR(n)})})}handleScroll(i){const n=js(i),s=this.positions.get(n);if(!s)return null;const o=n===this._document?n.documentElement:n,d=s.scrollPosition;let f,_;if(n===this._document){const I=this._viewportRuler.getViewportScrollPosition();f=I.top,_=I.left}else f=n.scrollTop,_=n.scrollLeft;const C=d.top-f,T=d.left-_;return this.positions.forEach((I,x)=>{I.clientRect&&n!==x&&o.contains(x)&&IE(I.clientRect,C,T)}),d.top=f,d.left=_,{top:C,left:T}}}function JF(r){const i=r.cloneNode(!0),n=i.querySelectorAll("[id]"),s=r.nodeName.toLowerCase();i.removeAttribute("id");for(let o=0;o<n.length;o++)n[o].removeAttribute("id");return"canvas"===s?tN(r,i):("input"===s||"select"===s||"textarea"===s)&&eN(r,i),XF("canvas",r,i,tN),XF("input, textarea, select",r,i,eN),i}function XF(r,i,n,s){const o=i.querySelectorAll(r);if(o.length){const d=n.querySelectorAll(r);for(let f=0;f<o.length;f++)s(o[f],d[f])}}let M3=0;function eN(r,i){"file"!==i.type&&(i.value=r.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${M3++}`)}function tN(r,i){const n=i.getContext("2d");if(n)try{n.drawImage(r,0,0)}catch(s){}}const nN=Wn({passive:!0}),iN=Wn({passive:!1}),RR=new Set(["position"]);class A3{constructor(i,n,s,o,d,f){this._config=n,this._document=s,this._ngZone=o,this._viewportRuler=d,this._dragDropRegistry=f,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new xe.xQ,this._pointerMoveSubscription=Rt.w.EMPTY,this._pointerUpSubscription=Rt.w.EMPTY,this._scrollSubscription=Rt.w.EMPTY,this._resizeSubscription=Rt.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new xe.xQ,this.started=new xe.xQ,this.released=new xe.xQ,this.ended=new xe.xQ,this.entered=new xe.xQ,this.exited=new xe.xQ,this.dropped=new xe.xQ,this.moved=this._moveEvents,this._pointerDown=_=>{if(this.beforeStarted.next(),this._handles.length){const C=this._handles.find(T=>{const I=js(_);return!!I&&(I===T||T.contains(I))});C&&!this._disabledHandles.has(C)&&!this.disabled&&this._initializeDragSequence(C,_)}else this.disabled||this._initializeDragSequence(this._rootElement,_)},this._pointerMove=_=>{const C=this._getPointerPositionOnPage(_);if(!this._hasStartedDragging){if(Math.abs(C.x-this._pickupPositionOnPage.x)+Math.abs(C.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const V=Date.now()>=this._dragStartTime+this._getDragStartDelay(_),Y=this._dropContainer;if(!V)return void this._endDragSequence(_);(!Y||!Y.isDragging()&&!Y.isReceiving())&&(_.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(_)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),_.preventDefault();const T=this._getConstrainedPointerPosition(C);if(this._hasMoved=!0,this._lastKnownPointerPosition=C,this._updatePointerDirectionDelta(T),this._dropContainer)this._updateActiveDropContainer(T,C);else{const I=this._activeTransform;I.x=T.x-this._pickupPositionOnPage.x+this._passiveTransform.x,I.y=T.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(I.x,I.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${I.x} ${I.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:T,event:_,distance:this._getDragDistance(T),delta:this._pointerDirectionDelta})})},this._pointerUp=_=>{this._endDragSequence(_)},this.withRootElement(i).withParent(n.parentDragRef||null),this._parentPositions=new QF(s,d),f.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const n=qe(i);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(s=>Cv(s,n)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(s=>Hn(s)),this._handles.forEach(s=>Cv(s,this.disabled)),this._toggleNativeDragInteractions();const n=new Set;return this._disabledHandles.forEach(s=>{this._handles.indexOf(s)>-1&&n.add(s)}),this._disabledHandles=n,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const n=Hn(i);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{n.addEventListener("mousedown",this._pointerDown,iN),n.addEventListener("touchstart",this._pointerDown,nN)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?Hn(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&nI(this._rootElement),nI(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Cv(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Cv(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&nI(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&nI(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const n=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){AE(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const n=this._dropContainer;if(n){const s=this._rootElement,o=s.parentNode,d=this._placeholder=this._createPlaceholderElement(),f=this._anchor=this._anchor||this._document.createComment(""),_=this._getShadowRoot();o.insertBefore(f,s),this._initialTransform=s.style.transform||"",this._preview=this._createPreviewElement(),ZF(s,!1,RR),this._document.body.appendChild(o.replaceChild(d,s)),this._getPreviewInsertionPoint(o,_).appendChild(this._preview),this.started.next({source:this}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(i,n){this._parentDragRef&&n.stopPropagation();const s=this.isDragging(),o=AE(n),d=!o&&0!==n.button,f=this._rootElement,_=js(n),C=!o&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),T=o?CE(n):bE(n);if(_&&_.draggable&&"mousedown"===n.type&&n.preventDefault(),s||d||C||T)return;this._handles.length&&(this._rootElementTapHighlight=f.style.webkitTapHighlightColor||"",f.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(L=>this._updateOnScroll(L)),this._boundaryElement&&(this._boundaryRect=kR(this._boundaryElement));const I=this._previewTemplate;this._pickupPositionInElement=I&&I.template&&!I.matchSize?{x:0,y:0}:this._getPointerPositionInElement(i,n);const x=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:x.x,y:x.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(i){ZF(this._rootElement,!0,RR),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const n=this._dropContainer,s=n.getItemIndex(this),o=this._getPointerPositionOnPage(i),d=this._getDragDistance(o),f=n._isOverContainer(o.x,o.y);this.ended.next({source:this,distance:d,dropPoint:o}),this.dropped.next({item:this,currentIndex:s,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:f,distance:d,dropPoint:o}),n.drop(this,s,this._initialIndex,this._initialContainer,f,d,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:n},{x:s,y:o}){let d=this._initialContainer._getSiblingContainerFromPosition(this,i,n);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,n)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,i,n,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(s,o),this._dropContainer._sortItem(this,i,n,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,n=this.previewClass,s=i?i.template:null;let o;if(s&&i){const d=i.matchSize?this._rootElement.getBoundingClientRect():null,f=i.viewContainer.createEmbeddedView(s,i.context);f.detectChanges(),o=sN(f,this._document),this._previewRef=f,i.matchSize?oN(o,d):o.style.transform=tI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const d=this._rootElement;o=JF(d),oN(o,d.getBoundingClientRect()),this._initialTransform&&(o.style.transform=this._initialTransform)}return IR(o.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},RR),Cv(o,!1),o.classList.add("cdk-drag-preview"),o.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(d=>o.classList.add(d)):o.classList.add(n)),o}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const n=function(r){const i=getComputedStyle(r),n=AR(i,"transition-property"),s=n.find(_=>"transform"===_||"all"===_);if(!s)return 0;const o=n.indexOf(s),d=AR(i,"transition-duration"),f=AR(i,"transition-delay");return WF(d[o])+WF(f[o])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(s=>{const o=f=>{(!f||js(f)===this._preview&&"transform"===f.propertyName)&&(this._preview.removeEventListener("transitionend",o),s(),clearTimeout(d))},d=setTimeout(o,1.5*n);this._preview.addEventListener("transitionend",o)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,n=i?i.template:null;let s;return n?(this._placeholderRef=i.viewContainer.createEmbeddedView(n,i.context),this._placeholderRef.detectChanges(),s=sN(this._placeholderRef,this._document)):s=JF(this._rootElement),s.classList.add("cdk-drag-placeholder"),s}_getPointerPositionInElement(i,n){const s=this._rootElement.getBoundingClientRect(),o=i===this._rootElement?null:i,d=o?o.getBoundingClientRect():s,f=AE(n)?n.targetTouches[0]:n,_=this._getViewportScrollPosition();return{x:d.left-s.left+(f.pageX-d.left-_.left),y:d.top-s.top+(f.pageY-d.top-_.top)}}_getPointerPositionOnPage(i){const n=this._getViewportScrollPosition(),s=AE(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,o=s.pageX-n.left,d=s.pageY-n.top;if(this._ownerSVGElement){const f=this._ownerSVGElement.getScreenCTM();if(f){const _=this._ownerSVGElement.createSVGPoint();return _.x=o,_.y=d,_.matrixTransform(f.inverse())}}return{x:o,y:d}}_getConstrainedPointerPosition(i){const n=this._dropContainer?this._dropContainer.lockAxis:null;let{x:s,y:o}=this.constrainPosition?this.constrainPosition(i,this):i;if("x"===this.lockAxis||"x"===n?o=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===n)&&(s=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:f}=this._pickupPositionInElement,_=this._boundaryRect,C=this._previewRect,T=_.top+f,I=_.bottom-(C.height-f);s=rN(s,_.left+d,_.right-(C.width-d)),o=rN(o,T,I)}return{x:s,y:o}}_updatePointerDirectionDelta(i){const{x:n,y:s}=i,o=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,f=Math.abs(n-d.x),_=Math.abs(s-d.y);return f>this._config.pointerDirectionChangeThreshold&&(o.x=n>d.x?1:-1,d.x=n),_>this._config.pointerDirectionChangeThreshold&&(o.y=s>d.y?1:-1,d.y=s),o}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Cv(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,iN),i.removeEventListener("touchstart",this._pointerDown,nN)}_applyRootElementTransform(i,n){const s=tI(i,n);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=eI(s,this._initialTransform)}_applyPreviewTransform(i,n){var s;const o=(null===(s=this._previewTemplate)||void 0===s?void 0:s.template)?void 0:this._initialTransform,d=tI(i,n);this._preview.style.transform=eI(d,o)}_getDragDistance(i){const n=this._pickupPositionOnPage;return n?{x:i.x-n.x,y:i.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:n}=this._passiveTransform;if(0===i&&0===n||this.isDragging()||!this._boundaryElement)return;const s=this._boundaryElement.getBoundingClientRect(),o=this._rootElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===o.width&&0===o.height)return;const d=s.left-o.left,f=o.right-s.right,_=s.top-o.top,C=o.bottom-s.bottom;s.width>o.width?(d>0&&(i+=d),f>0&&(i-=f)):i=0,s.height>o.height?(_>0&&(n+=_),C>0&&(n-=C)):n=0,(i!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:i})}_getDragStartDelay(i){const n=this.dragStartDelay;return"number"==typeof n?n:AE(i)?n.touch:n?n.mouse:0}_updateOnScroll(i){const n=this._parentPositions.handleScroll(i);if(n){const s=js(i);this._boundaryRect&&(s===this._document||s!==this._boundaryElement&&s.contains(this._boundaryElement))&&IE(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const i=this._parentPositions.positions.get(this._document);return i?i.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Tu(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,n){const s=this._previewContainer||"global";if("parent"===s)return i;if("global"===s){const o=this._document;return n||o.fullscreenElement||o.webkitFullscreenElement||o.mozFullScreenElement||o.msFullscreenElement||o.body}return Hn(s)}}function tI(r,i){return`translate3d(${Math.round(r)}px, ${Math.round(i)}px, 0)`}function rN(r,i,n){return Math.max(i,Math.min(n,r))}function nI(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function AE(r){return"t"===r.type[0]}function sN(r,i){const n=r.rootNodes;if(1===n.length&&n[0].nodeType===i.ELEMENT_NODE)return n[0];const s=i.createElement("div");return n.forEach(o=>s.appendChild(o)),s}function oN(r,i){r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.transform=tI(i.left,i.top)}function iI(r,i,n){const s=kE(i,r.length-1),o=kE(n,r.length-1);if(s===o)return;const d=r[s],f=o<s?-1:1;for(let _=s;_!==o;_+=f)r[_]=r[_+f];r[o]=d}function wv(r,i,n,s){const o=kE(n,r.length-1),d=kE(s,i.length);r.length&&i.splice(d,0,r.splice(o,1)[0])}function kE(r,i){return Math.max(0,Math.min(i,r))}class k3{constructor(i,n,s,o,d){this._dragDropRegistry=n,this._ngZone=o,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new xe.xQ,this.entered=new xe.xQ,this.exited=new xe.xQ,this.dropped=new xe.xQ,this.sorted=new xe.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Rt.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new xe.xQ,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(r=0,i=Mi.P){return(!(0,vR.k)(r)||r<0)&&(r=0),(!i||"function"!=typeof i.schedule)&&(i=Mi.P),new ln.y(n=>(n.add(i.schedule(S3,r,{subscriber:n,counter:0,period:r})),n))}(0,pF).pipe(Pt(this._stopScrollTimers)).subscribe(()=>{const f=this._scrollNode,_=this.autoScrollStep;1===this._verticalScrollDirection?cN(f,-_):2===this._verticalScrollDirection&&cN(f,_),1===this._horizontalScrollDirection?uN(f,-_):2===this._horizontalScrollDirection&&uN(f,_)})},this.element=Hn(i),this._document=s,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new QF(s,d)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,n,s,o){let d;this._draggingStarted(),null==o?(d=this.sortingDisabled?this._draggables.indexOf(i):-1,-1===d&&(d=this._getItemIndexFromPointerPosition(i,n,s))):d=o;const f=this._activeDraggables,_=f.indexOf(i),C=i.getPlaceholderElement();let T=f[d];if(T===i&&(T=f[d+1]),_>-1&&f.splice(_,1),T&&!this._dragDropRegistry.isDragging(T)){const I=T.getRootElement();I.parentElement.insertBefore(C,I),f.splice(d,0,i)}else if(this._shouldEnterAsFirstChild(n,s)){const I=f[0].getRootElement();I.parentNode.insertBefore(C,I),f.unshift(i)}else Hn(this.element).appendChild(C),f.push(i);C.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,n,s,o,d,f,_){this._reset(),this.dropped.next({item:i,currentIndex:n,previousIndex:s,container:this,previousContainer:o,isPointerOverContainer:d,distance:f,dropPoint:_})}withItems(i){const n=this._draggables;return this._draggables=i,i.forEach(s=>s._withDropContainer(this)),this.isDragging()&&(n.filter(o=>o.isDragging()).every(o=>-1===i.indexOf(o))?this._reset():this._cacheItems()),this}withDirection(i){return this._direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._orientation=i,this}withScrollableParents(i){const n=Hn(this.element);return this._scrollableElements=-1===i.indexOf(n)?[n,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?OR("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,s=>s.drag===i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,n,s,o){if(this.sortingDisabled||!this._clientRect||!KF(this._clientRect,.05,n,s))return;const d=this._itemPositions,f=this._getItemIndexFromPointerPosition(i,n,s,o);if(-1===f&&d.length>0)return;const _="horizontal"===this._orientation,C=OR(d,ve=>ve.drag===i),T=d[f],x=T.clientRect,L=C>f?1:-1,V=this._getItemOffsetPx(d[C].clientRect,x,L),Y=this._getSiblingOffsetPx(C,d,L),se=d.slice();iI(d,C,f),this.sorted.next({previousIndex:C,currentIndex:f,container:this,item:i}),d.forEach((ve,Le)=>{if(se[Le]===ve)return;const Ge=ve.drag===i,Be=Ge?V:Y,nt=Ge?i.getPlaceholderElement():ve.drag.getRootElement();ve.offset+=Be,_?(nt.style.transform=eI(`translate3d(${Math.round(ve.offset)}px, 0, 0)`,ve.initialTransform),IE(ve.clientRect,0,Be)):(nt.style.transform=eI(`translate3d(0, ${Math.round(ve.offset)}px, 0)`,ve.initialTransform),IE(ve.clientRect,Be,0))}),this._previousSwap.overlaps=xR(x,n,s),this._previousSwap.drag=T.drag,this._previousSwap.delta=_?o.x:o.y}_startScrollingIfNecessary(i,n){if(this.autoScrollDisabled)return;let s,o=0,d=0;if(this._parentPositions.positions.forEach((f,_)=>{_===this._document||!f.clientRect||s||KF(f.clientRect,.05,i,n)&&([o,d]=function(r,i,n,s){const o=dN(i,s),d=hN(i,n);let f=0,_=0;if(o){const C=r.scrollTop;1===o?C>0&&(f=1):r.scrollHeight-C>r.clientHeight&&(f=2)}if(d){const C=r.scrollLeft;1===d?C>0&&(_=1):r.scrollWidth-C>r.clientWidth&&(_=2)}return[f,_]}(_,f.clientRect,i,n),(o||d)&&(s=_))}),!o&&!d){const{width:f,height:_}=this._viewportRuler.getViewportSize(),C={width:f,height:_,top:0,right:f,bottom:_,left:0};o=dN(C,n),d=hN(C,i),s=window}s&&(o!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||s!==this._scrollNode)&&(this._verticalScrollDirection=o,this._horizontalScrollDirection=d,this._scrollNode=s,(o||d)&&s?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=Hn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=Hn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_cacheItemPositions(){const i="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(n=>{const s=n.getVisibleElement();return{drag:n,offset:0,initialTransform:s.style.transform||"",clientRect:kR(s)}}).sort((n,s)=>i?n.clientRect.left-s.clientRect.left:n.clientRect.top-s.clientRect.top)}_reset(){this._isDragging=!1;const i=Hn(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(n=>{var s;const o=n.getRootElement();if(o){const d=null===(s=this._itemPositions.find(f=>f.drag===n))||void 0===s?void 0:s.initialTransform;o.style.transform=d||""}}),this._siblings.forEach(n=>n._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(i,n,s){const o="horizontal"===this._orientation,d=n[i].clientRect,f=n[i+-1*s];let _=d[o?"width":"height"]*s;if(f){const C=o?"left":"top",T=o?"right":"bottom";-1===s?_-=f.clientRect[C]-d[T]:_+=d[C]-f.clientRect[T]}return _}_getItemOffsetPx(i,n,s){const o="horizontal"===this._orientation;let d=o?n.left-i.left:n.top-i.top;return-1===s&&(d+=o?n.width-i.width:n.height-i.height),d}_shouldEnterAsFirstChild(i,n){if(!this._activeDraggables.length)return!1;const s=this._itemPositions,o="horizontal"===this._orientation;if(s[0].drag!==this._activeDraggables[0]){const f=s[s.length-1].clientRect;return o?i>=f.right:n>=f.bottom}{const f=s[0].clientRect;return o?i<=f.left:n<=f.top}}_getItemIndexFromPointerPosition(i,n,s,o){const d="horizontal"===this._orientation,f=OR(this._itemPositions,({drag:_,clientRect:C},T,I)=>{if(_===i)return I.length<2;if(o){const x=d?o.x:o.y;if(_===this._previousSwap.drag&&this._previousSwap.overlaps&&x===this._previousSwap.delta)return!1}return d?n>=Math.floor(C.left)&&n<Math.floor(C.right):s>=Math.floor(C.top)&&s<Math.floor(C.bottom)});return-1!==f&&this.sortPredicate(f,i,this)?f:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(i,n){return null!=this._clientRect&&xR(this._clientRect,i,n)}_getSiblingContainerFromPosition(i,n,s){return this._siblings.find(o=>o._canReceive(i,n,s))}_canReceive(i,n,s){if(!this._clientRect||!xR(this._clientRect,n,s)||!this.enterPredicate(i,this))return!1;const o=this._getShadowRoot().elementFromPoint(n,s);if(!o)return!1;const d=Hn(this.element);return o===d||d.contains(o)}_startReceiving(i,n){const s=this._activeSiblings;!s.has(i)&&n.every(o=>this.enterPredicate(o,this)||this._draggables.indexOf(o)>-1)&&(s.add(i),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const n=this._parentPositions.handleScroll(i);n&&(this._itemPositions.forEach(({clientRect:s})=>{IE(s,n.top,n.left)}),this._itemPositions.forEach(({drag:s})=>{this._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=Tu(Hn(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._activeDraggables.filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,i))}}function OR(r,i){for(let n=0;n<r.length;n++)if(i(r[n],n,r))return n;return-1}function cN(r,i){r===window?r.scrollBy(0,i):r.scrollTop+=i}function uN(r,i){r===window?r.scrollBy(i,0):r.scrollLeft+=i}function dN(r,i){const{top:n,bottom:s,height:o}=r,d=.05*o;return i>=n-d&&i<=n+d?1:i>=s-d&&i<=s+d?2:0}function hN(r,i){const{left:n,right:s,width:o}=r,d=.05*o;return i>=n-d&&i<=n+d?1:i>=s-d&&i<=s+d?2:0}const rI=Wn({passive:!1,capture:!0});let fN=(()=>{class r{constructor(n,s){this._ngZone=n,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new xe.xQ,this.pointerUp=new xe.xQ,this.scroll=new xe.xQ,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=s}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,rI)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,rI)}startDragging(n,s){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._activeDragInstances.push(n),1===this._activeDragInstances.length)){const o=s.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:rI}),o||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:rI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,f)=>{this._document.addEventListener(f,d.handler,d.options)})})}}stopDragging(n){const s=this._activeDragInstances.indexOf(n);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){const s=[this.scroll];return n&&n!==this._document&&s.push(new ln.y(o=>this._ngZone.runOutsideAngular(()=>{const f=_=>{this._activeDragInstances.length&&o.next(_)};return n.addEventListener("scroll",f,!0),()=>{n.removeEventListener("scroll",f,!0)}}))),(0,Vn.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,s)=>{this._document.removeEventListener(s,n.handler,n.options)}),this._globalListeners.clear()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.R0b),c.LFG(q))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(c.R0b),c.LFG(q))},token:r,providedIn:"root"}),r})();const R3={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let PR=(()=>{class r{constructor(n,s,o,d){this._document=n,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=d}createDrag(n,s=R3){return new A3(n,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new k3(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(q),c.LFG(c.R0b),c.LFG(ac),c.LFG(fN))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(q),c.LFG(c.R0b),c.LFG(ac),c.LFG(fN))},token:r,providedIn:"root"}),r})();const FR=new c.OlP("CDK_DRAG_PARENT"),NR=new c.OlP("CdkDropListGroup");let O3=(()=>{class r{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=qe(n)}ngOnDestroy(){this._items.clear()}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[c._Bn([{provide:NR,useExisting:r}])]}),r})();const pN=new c.OlP("CDK_DRAG_CONFIG");let P3=0;const mN=new c.OlP("CdkDropList");let N3=(()=>{class r{constructor(n,s,o,d,f,_,C){this.element=n,this._changeDetectorRef=o,this._scrollDispatcher=d,this._dir=f,this._group=_,this._destroyed=new xe.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+P3++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new c.vpe,this.entered=new c.vpe,this.exited=new c.vpe,this.sorted=new c.vpe,this._unsortedItems=new Set,this._dropListRef=s.createDropList(n),this._dropListRef.data=this,C&&this._assignDefaults(C),this._dropListRef.enterPredicate=(T,I)=>this.enterPredicate(T.data,I.data),this._dropListRef.sortPredicate=(T,I,x)=>this.sortPredicate(T,I.data,x.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),_&&_._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=qe(n)}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(n){this._unsortedItems.delete(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((n,s)=>n._dragRef.getVisibleElement().compareDocumentPosition(s._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const n=r._dropLists.indexOf(this);n>-1&&r._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(Qt(this._dir.value),Pt(this._destroyed)).subscribe(s=>n.withDirection(s)),n.beforeStarted.subscribe(()=>{const s=ic(this.connectedTo).map(o=>"string"==typeof o?r._dropLists.find(f=>f.id===o):o);if(this._group&&this._group._items.forEach(o=>{-1===s.indexOf(o)&&s.push(o)}),!this._scrollableParentsResolved){const o=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(o),this._scrollableParentsResolved=!0}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=qe(this.sortingDisabled),n.autoScrollDisabled=qe(this.autoScrollDisabled),n.autoScrollStep=ni(this.autoScrollStep,2),n.connectedTo(s.filter(o=>o&&o!==this).map(o=>o._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(s=>{this.entered.emit({container:this,item:s.item.data,currentIndex:s.currentIndex})}),n.exited.subscribe(s=>{this.exited.emit({container:this,item:s.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(s=>{this.sorted.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:s.item.data})}),n.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,item:s.item.data,isPointerOverContainer:s.isPointerOverContainer,distance:s.distance,dropPoint:s.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(n){const{lockAxis:s,draggingDisabled:o,sortingDisabled:d,listAutoScrollDisabled:f,listOrientation:_}=n;this.disabled=null!=o&&o,this.sortingDisabled=null!=d&&d,this.autoScrollDisabled=null!=f&&f,this.orientation=_||"vertical",s&&(this.lockAxis=s)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(n=>n._dragRef))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(PR),c.Y36(c.sBO),c.Y36(Qm),c.Y36(ne,8),c.Y36(NR,12),c.Y36(pN,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(n,s){2&n&&(c.uIk("id",s.id),c.ekj("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[c._Bn([{provide:NR,useValue:void 0},{provide:mN,useExisting:r}])]}),r._dropLists=[],r})();const LR=new c.OlP("CdkDragHandle");let L3=(()=>{class r{constructor(n,s){this.element=n,this._stateChanges=new xe.xQ,this._disabled=!1,this._parentDrag=s}get disabled(){return this._disabled}set disabled(n){this._disabled=qe(n),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(FR,12))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[c._Bn([{provide:LR,useExisting:r}])]}),r})();const gN=new c.OlP("CdkDragPlaceholder"),_N=new c.OlP("CdkDragPreview");let B3=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I,x,L){this.element=n,this.dropContainer=s,this._ngZone=d,this._viewContainerRef=f,this._dir=C,this._changeDetectorRef=I,this._selfHandle=x,this._parentDrag=L,this._destroyed=new xe.xQ,this.started=new c.vpe,this.released=new c.vpe,this.ended=new c.vpe,this.entered=new c.vpe,this.exited=new c.vpe,this.dropped=new c.vpe,this.moved=new ln.y(V=>{const Y=this._dragRef.moved.pipe((0,Je.U)(se=>({source:this,pointerPosition:se.pointerPosition,event:se.event,delta:se.delta,distance:se.distance}))).subscribe(V);return()=>{Y.unsubscribe()}}),this._dragRef=T.createDrag(n,{dragStartThreshold:_&&null!=_.dragStartThreshold?_.dragStartThreshold:5,pointerDirectionChangeThreshold:_&&null!=_.pointerDirectionChangeThreshold?_.pointerDirectionChangeThreshold:5,zIndex:null==_?void 0:_.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),_&&this._assignDefaults(_),s&&(this._dragRef._withDropContainer(s._dropListRef),s.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=qe(n),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(un(1),Pt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(n){const s=n.rootElementSelector,o=n.freeDragPosition;s&&!s.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const n=r._dragInstances.indexOf(this);n>-1&&r._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const n=this.element.nativeElement,s=this.rootElementSelector?yN(n,this.rootElementSelector):n;this._dragRef.withRootElement(s||n)}_getBoundaryElement(){const n=this.boundaryElement;return n?"string"==typeof n?yN(this.element.nativeElement,n):Hn(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){const s=this._dir,o=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,f=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.dragStartDelay="object"==typeof o&&o?o:ni(o),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(f).withPreviewContainer(this.previewContainer||"global"),s&&n.withDirection(s.value)}}),n.beforeStarted.pipe(un(1)).subscribe(()=>{var s,o;if(this._parentDrag)return void n.withParent(this._parentDrag._dragRef);let d=this.element.nativeElement.parentElement;for(;d;){if(null===(s=d.classList)||void 0===s?void 0:s.contains("cdk-drag")){n.withParent((null===(o=r._dragInstances.find(f=>f.element.nativeElement===d))||void 0===o?void 0:o._dragRef)||null);break}d=d.parentElement}})}_handleEvents(n){n.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(()=>{this.released.emit({source:this})}),n.ended.subscribe(s=>{this.ended.emit({source:this,distance:s.distance,dropPoint:s.dropPoint}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(s=>{this.entered.emit({container:s.container.data,item:this,currentIndex:s.currentIndex})}),n.exited.subscribe(s=>{this.exited.emit({container:s.container.data,item:this})}),n.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,isPointerOverContainer:s.isPointerOverContainer,item:this,distance:s.distance,dropPoint:s.dropPoint})})}_assignDefaults(n){const{lockAxis:s,dragStartDelay:o,constrainPosition:d,previewClass:f,boundaryElement:_,draggingDisabled:C,rootElementSelector:T,previewContainer:I}=n;this.disabled=null!=C&&C,this.dragStartDelay=o||0,s&&(this.lockAxis=s),d&&(this.constrainPosition=d),f&&(this.previewClass=f),_&&(this.boundaryElement=_),T&&(this.rootElementSelector=T),I&&(this.previewContainer=I)}_setupHandlesListener(){this._handles.changes.pipe(Qt(this._handles),(0,Ni.b)(n=>{const s=n.filter(o=>o._parentDrag===this).map(o=>o.element);this._selfHandle&&this.rootElementSelector&&s.push(this.element),this._dragRef.withHandles(s)}),Bn(n=>(0,Vn.T)(...n.map(s=>s._stateChanges.pipe(Qt(s))))),Pt(this._destroyed)).subscribe(n=>{const s=this._dragRef,o=n.element.nativeElement;n.disabled?s.disableHandle(o):s.enableHandle(o)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(mN,12),c.Y36(q),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(pN,8),c.Y36(ne,8),c.Y36(PR),c.Y36(c.sBO),c.Y36(LR,10),c.Y36(FR,12))},r.\u0275dir=c.lG2({type:r,selectors:[["","cdkDrag",""]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,_N,5),c.Suo(o,gN,5),c.Suo(o,LR,5)),2&n){let d;c.iGM(d=c.CRH())&&(s._previewTemplate=d.first),c.iGM(d=c.CRH())&&(s._placeholderTemplate=d.first),c.iGM(d=c.CRH())&&(s._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(n,s){2&n&&c.ekj("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],previewContainer:["cdkDragPreviewContainer","previewContainer"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[c._Bn([{provide:FR,useExisting:r}]),c.TTD]}),r._dragInstances=[],r})();function yN(r,i){let n=r.parentElement;for(;n;){if(n.matches?n.matches(i):n.msMatchesSelector(i))return n;n=n.parentElement}return null}let U3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[PR],imports:[Ou]}),r})();class H3 extends Ii.L{notifyNext(i,n,s,o,d){this.destination.next(n)}notifyError(i,n){this.destination.error(i)}notifyComplete(i){this.destination.complete()}}class j3 extends Ii.L{constructor(i,n,s){super(),this.parent=i,this.outerValue=n,this.outerIndex=s,this.index=0}_next(i){this.parent.notifyNext(this.outerValue,i,this.outerIndex,this.index++,this)}_error(i){this.parent.notifyError(i,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var G3=N(7444);function z3(r,i,n,s,o=new j3(r,n,s)){if(!o.closed)return i instanceof ln.y?i.subscribe(o):(0,G3.s)(i)(o)}var $3=N(6693);const vN={};function bN(...r){let i,n;return(0,Nd.K)(r[r.length-1])&&(n=r.pop()),"function"==typeof r[r.length-1]&&(i=r.pop()),1===r.length&&(0,YM.k)(r[0])&&(r=r[0]),(0,$3.n)(r,n).lift(new Y3(i))}class Y3{constructor(i){this.resultSelector=i}call(i,n){return n.subscribe(new q3(i,this.resultSelector))}}class q3 extends H3{constructor(i,n){super(i),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(i){this.values.push(vN),this.observables.push(i)}_complete(){const i=this.observables,n=i.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let s=0;s<n;s++)this.add(z3(this,i[s],void 0,s))}}notifyComplete(i){0==(this.active-=1)&&this.destination.complete()}notifyNext(i,n,s){const o=this.values,f=this.toRespond?o[s]===vN?--this.toRespond:this.toRespond:0;o[s]=n,0===f&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(i){let n;try{n=this.resultSelector.apply(this,i)}catch(s){return void this.destination.error(s)}this.destination.next(n)}}function xE(r){return new ln.y(i=>{let n;try{n=r()}catch(o){return void i.error(o)}return(n?(0,En.D)(n):(0,ec.c)()).subscribe(i)})}var Z3=N(2441);function df(r){return function(n){const s=new W3(r),o=n.lift(s);return s.caught=o}}class W3{constructor(i){this.selector=i}call(i,n){return n.subscribe(new K3(i,this.selector,this.caught))}}class K3 extends Co.Ds{constructor(i,n,s){super(i),this.selector=n,this.caught=s}error(i){if(!this.isStopped){let n;try{n=this.selector(i,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new Co.IY(this);this.add(s);const o=(0,Co.ft)(n,s);o!==s&&this.add(o)}}}var ws=N(9773);function Ev(r,i){return(0,ws.zg)(r,i,1)}function VR(r){return function(n){return 0===r?(0,ec.c)():n.lift(new Q3(r))}}class Q3{constructor(i){if(this.total=i,this.total<0)throw new dx}call(i,n){return n.subscribe(new J3(i,this.total))}}class J3 extends Ii.L{constructor(i,n){super(i),this.total=n,this.ring=new Array,this.count=0}_next(i){const n=this.ring,s=this.total,o=this.count++;n.length<s?n.push(i):n[o%s]=i}_complete(){const i=this.destination;let n=this.count;if(n>0){const s=this.count>=this.total?this.total:this.count,o=this.ring;for(let d=0;d<s;d++){const f=n++%s;i.next(o[f])}}i.complete()}}var eH=N(1307);function CN(r){return i=>i.lift(new tH(r))}class tH{constructor(i){this.callback=i}call(i,n){return n.subscribe(new nH(i,this.callback))}}class nH extends Ii.L{constructor(i,n){super(i),this.add(new Rt.w(n))}}class Fu{constructor(i,n){this.id=i,this.url=n}}class BR extends Fu{constructor(i,n,s="imperative",o=null){super(i,n),this.navigationTrigger=s,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class RE extends Fu{constructor(i,n,s){super(i,n),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wN extends Fu{constructor(i,n,s){super(i,n),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iH extends Fu{constructor(i,n,s){super(i,n),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rH extends Fu{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sH extends Fu{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oH extends Fu{constructor(i,n,s,o,d){super(i,n),this.urlAfterRedirects=s,this.state=o,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class aH extends Fu{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lH extends Fu{constructor(i,n,s,o){super(i,n),this.urlAfterRedirects=s,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EN{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DN{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cH{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uH{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dH{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hH{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SN{constructor(i,n,s){this.routerEvent=i,this.position=n,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ut="primary";class fH{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n[0]:n}return null}getAll(i){if(this.has(i)){const n=this.params[i];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Dv(r){return new fH(r)}const TN="ngNavigationCancelingError";function UR(r){const i=Error("NavigationCancelingError: "+r);return i[TN]=!0,i}function mH(r,i,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(i.hasChildren()||s.length<r.length))return null;const o={};for(let d=0;d<s.length;d++){const f=s[d],_=r[d];if(f.startsWith(":"))o[f.substring(1)]=_;else if(f!==_.path)return null}return{consumed:r.slice(0,s.length),posParams:o}}function lc(r,i){const n=r?Object.keys(r):void 0,s=i?Object.keys(i):void 0;if(!n||!s||n.length!=s.length)return!1;let o;for(let d=0;d<n.length;d++)if(o=n[d],!MN(r[o],i[o]))return!1;return!0}function MN(r,i){if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!1;const n=[...r].sort(),s=[...i].sort();return n.every((o,d)=>s[d]===o)}return r===i}function IN(r){return Array.prototype.concat.apply([],r)}function AN(r){return r.length>0?r[r.length-1]:null}function Mr(r,i){for(const n in r)r.hasOwnProperty(n)&&i(r[n],n)}function cc(r){return(0,c.CqO)(r)?r:(0,c.QGY)(r)?(0,En.D)(Promise.resolve(r)):(0,Ue.of)(r)}const yH={exact:function RN(r,i,n){if(!ng(r.segments,i.segments)||!sI(r.segments,i.segments,n)||r.numberOfChildren!==i.numberOfChildren)return!1;for(const s in i.children)if(!r.children[s]||!RN(r.children[s],i.children[s],n))return!1;return!0},subset:ON},kN={exact:function(r,i){return lc(r,i)},subset:function(r,i){return Object.keys(i).length<=Object.keys(r).length&&Object.keys(i).every(n=>MN(r[n],i[n]))},ignored:()=>!0};function xN(r,i,n){return yH[n.paths](r.root,i.root,n.matrixParams)&&kN[n.queryParams](r.queryParams,i.queryParams)&&!("exact"===n.fragment&&r.fragment!==i.fragment)}function ON(r,i,n){return PN(r,i,i.segments,n)}function PN(r,i,n,s){if(r.segments.length>n.length){const o=r.segments.slice(0,n.length);return!(!ng(o,n)||i.hasChildren()||!sI(o,n,s))}if(r.segments.length===n.length){if(!ng(r.segments,n)||!sI(r.segments,n,s))return!1;for(const o in i.children)if(!r.children[o]||!ON(r.children[o],i.children[o],s))return!1;return!0}{const o=n.slice(0,r.segments.length),d=n.slice(r.segments.length);return!!(ng(r.segments,o)&&sI(r.segments,o,s)&&r.children[Ut])&&PN(r.children[Ut],i,d,s)}}function sI(r,i,n){return i.every((s,o)=>kN[n](r[o].parameters,s.parameters))}class tg{constructor(i,n,s){this.root=i,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dv(this.queryParams)),this._queryParamMap}toString(){return EH.serialize(this)}}class $t{constructor(i,n){this.segments=i,this.children=n,this.parent=null,Mr(n,(s,o)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oI(this)}}class OE{constructor(i,n){this.path=i,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Dv(this.parameters)),this._parameterMap}toString(){return VN(this)}}function ng(r,i){return r.length===i.length&&r.every((n,s)=>n.path===i[s].path)}class HR{}class FN{parse(i){const n=new RH(i);return new tg(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(i){return`${`/${PE(i.root,!0)}`}${function(r){const i=Object.keys(r).map(n=>{const s=r[n];return Array.isArray(s)?s.map(o=>`${aI(n)}=${aI(o)}`).join("&"):`${aI(n)}=${aI(s)}`}).filter(n=>!!n);return i.length?`?${i.join("&")}`:""}(i.queryParams)}${"string"==typeof i.fragment?`#${function(r){return encodeURI(r)}(i.fragment)}`:""}`}}const EH=new FN;function oI(r){return r.segments.map(i=>VN(i)).join("/")}function PE(r,i){if(!r.hasChildren())return oI(r);if(i){const n=r.children[Ut]?PE(r.children[Ut],!1):"",s=[];return Mr(r.children,(o,d)=>{d!==Ut&&s.push(`${d}:${PE(o,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function(r,i){let n=[];return Mr(r.children,(s,o)=>{o===Ut&&(n=n.concat(i(s,o)))}),Mr(r.children,(s,o)=>{o!==Ut&&(n=n.concat(i(s,o)))}),n}(r,(s,o)=>o===Ut?[PE(r.children[Ut],!1)]:[`${o}:${PE(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Ut]?`${oI(r)}/${n[0]}`:`${oI(r)}/(${n.join("//")})`}}function NN(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aI(r){return NN(r).replace(/%3B/gi,";")}function jR(r){return NN(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lI(r){return decodeURIComponent(r)}function LN(r){return lI(r.replace(/\+/g,"%20"))}function VN(r){return`${jR(r.path)}${function(r){return Object.keys(r).map(i=>`;${jR(i)}=${jR(r[i])}`).join("")}(r.parameters)}`}const MH=/^[^\/()?;=#]+/;function cI(r){const i=r.match(MH);return i?i[0]:""}const IH=/^[^=?&#]+/,kH=/^[^?&#]+/;class RH{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $t([],{}):new $t([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(i.length>0||Object.keys(n).length>0)&&(s[Ut]=new $t(i,n)),s}parseSegment(){const i=cI(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new OE(lI(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const n=cI(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const o=cI(this.remaining);o&&(s=o,this.capture(s))}i[lI(n)]=lI(s)}parseQueryParam(i){const n=function(r){const i=r.match(IH);return i?i[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const f=function(r){const i=r.match(kH);return i?i[0]:""}(this.remaining);f&&(s=f,this.capture(s))}const o=LN(n),d=LN(s);if(i.hasOwnProperty(o)){let f=i[o];Array.isArray(f)||(f=[f],i[o]=f),f.push(d)}else i[o]=d}parseParens(i){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=cI(this.remaining),o=this.remaining[s.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):i&&(d=Ut);const f=this.parseChildren();n[d]=1===Object.keys(f).length?f[Ut]:new $t([],f),this.consumeOptional("//")}return n}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class BN{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const n=this.pathFromRoot(i);return n.length>1?n[n.length-2]:null}children(i){const n=GR(i,this._root);return n?n.children.map(s=>s.value):[]}firstChild(i){const n=GR(i,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(i){const n=zR(i,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return zR(i,this._root).map(n=>n.value)}}function GR(r,i){if(r===i.value)return i;for(const n of i.children){const s=GR(r,n);if(s)return s}return null}function zR(r,i){if(r===i.value)return[i];for(const n of i.children){const s=zR(r,n);if(s.length)return s.unshift(i),s}return[]}class Nu{constructor(i,n){this.value=i,this.children=n}toString(){return`TreeNode(${this.value})`}}function FE(r){const i={};return r&&r.children.forEach(n=>i[n.value.outlet]=n),i}class UN extends BN{constructor(i,n){super(i),this.snapshot=n,$R(this,i)}toString(){return this.snapshot.toString()}}function HN(r,i){const n=function(r,i){const f=new uI([],{},{},"",{},Ut,i,null,r.root,-1,{});return new GN("",new Nu(f,[]))}(r,i),s=new ys([new OE("",{})]),o=new ys({}),d=new ys({}),f=new ys({}),_=new ys(""),C=new Sv(s,o,f,_,d,Ut,i,n.root);return C.snapshot=n.root,new UN(new Nu(C,[]),n)}class Sv{constructor(i,n,s,o,d,f,_,C){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=d,this.outlet=f,this.component=_,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Je.U)(i=>Dv(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Je.U)(i=>Dv(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jN(r,i="emptyOnly"){const n=r.pathFromRoot;let s=0;if("always"!==i)for(s=n.length-1;s>=1;){const o=n[s],d=n[s-1];if(o.routeConfig&&""===o.routeConfig.path)s--;else{if(d.component)break;s--}}return function(r){return r.reduce((i,n)=>({params:Object.assign(Object.assign({},i.params),n.params),data:Object.assign(Object.assign({},i.data),n.data),resolve:Object.assign(Object.assign({},i.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(s))}class uI{constructor(i,n,s,o,d,f,_,C,T,I,x){this.url=i,this.params=n,this.queryParams=s,this.fragment=o,this.data=d,this.outlet=f,this.component=_,this.routeConfig=C,this._urlSegment=T,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GN extends BN{constructor(i,n){super(n),this.url=i,$R(this,n)}toString(){return zN(this._root)}}function $R(r,i){i.value._routerState=r,i.children.forEach(n=>$R(r,n))}function zN(r){const i=r.children.length>0?` { ${r.children.map(zN).join(", ")} } `:"";return`${r.value}${i}`}function YR(r){if(r.snapshot){const i=r.snapshot,n=r._futureSnapshot;r.snapshot=n,lc(i.queryParams,n.queryParams)||r.queryParams.next(n.queryParams),i.fragment!==n.fragment&&r.fragment.next(n.fragment),lc(i.params,n.params)||r.params.next(n.params),function(r,i){if(r.length!==i.length)return!1;for(let n=0;n<r.length;++n)if(!lc(r[n],i[n]))return!1;return!0}(i.url,n.url)||r.url.next(n.url),lc(i.data,n.data)||r.data.next(n.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function qR(r,i){return lc(r.params,i.params)&&function(r,i){return ng(r,i)&&r.every((n,s)=>lc(n.parameters,i[s].parameters))}(r.url,i.url)&&!(!r.parent!=!i.parent)&&(!r.parent||qR(r.parent,i.parent))}function dI(r,i,n){if(n&&r.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const o=function(r,i,n){return i.children.map(s=>{for(const o of n.children)if(r.shouldReuseRoute(s.value,o.value.snapshot))return dI(r,s,o);return dI(r,s)})}(r,i,n);return new Nu(s,o)}{if(r.shouldAttach(i.value)){const d=r.retrieve(i.value);if(null!==d){const f=d.route;return $N(i,f),f}}const s=function(r){return new Sv(new ys(r.url),new ys(r.params),new ys(r.queryParams),new ys(r.fragment),new ys(r.data),r.outlet,r.component,r)}(i.value),o=i.children.map(d=>dI(r,d));return new Nu(s,o)}}function $N(r,i){if(r.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(r.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=r.value;for(let n=0;n<r.children.length;++n)$N(r.children[n],i.children[n])}function hI(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function NE(r){return"object"==typeof r&&null!=r&&r.outlets}function ZR(r,i,n,s,o){let d={};return s&&Mr(s,(f,_)=>{d[_]=Array.isArray(f)?f.map(C=>`${C}`):`${f}`}),new tg(n.root===r?i:YN(n.root,r,i),d,o)}function YN(r,i,n){const s={};return Mr(r.children,(o,d)=>{s[d]=o===i?n:YN(o,i,n)}),new $t(r.segments,s)}class qN{constructor(i,n,s){if(this.isAbsolute=i,this.numberOfDoubleDots=n,this.commands=s,i&&s.length>0&&hI(s[0]))throw new Error("Root segment cannot have matrix parameters");const o=s.find(NE);if(o&&o!==AN(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class WR{constructor(i,n,s){this.segmentGroup=i,this.processChildren=n,this.index=s}}function ZN(r,i,n){if(r||(r=new $t([],{})),0===r.segments.length&&r.hasChildren())return fI(r,i,n);const s=function(r,i,n){let s=0,o=i;const d={match:!1,pathIndex:0,commandIndex:0};for(;o<r.segments.length;){if(s>=n.length)return d;const f=r.segments[o],_=n[s];if(NE(_))break;const C=`${_}`,T=s<n.length-1?n[s+1]:null;if(o>0&&void 0===C)break;if(C&&T&&"object"==typeof T&&void 0===T.outlets){if(!KN(C,T,f))return d;s+=2}else{if(!KN(C,{},f))return d;s++}o++}return{match:!0,pathIndex:o,commandIndex:s}}(r,i,n),o=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const d=new $t(r.segments.slice(0,s.pathIndex),{});return d.children[Ut]=new $t(r.segments.slice(s.pathIndex),r.children),fI(d,0,o)}return s.match&&0===o.length?new $t(r.segments,{}):s.match&&!r.hasChildren()?KR(r,i,n):s.match?fI(r,0,o):KR(r,i,n)}function fI(r,i,n){if(0===n.length)return new $t(r.segments,{});{const s=function(r){return NE(r[0])?r[0].outlets:{[Ut]:r}}(n),o={};return Mr(s,(d,f)=>{"string"==typeof d&&(d=[d]),null!==d&&(o[f]=ZN(r.children[f],i,d))}),Mr(r.children,(d,f)=>{void 0===s[f]&&(o[f]=d)}),new $t(r.segments,o)}}function KR(r,i,n){const s=r.segments.slice(0,i);let o=0;for(;o<n.length;){const d=n[o];if(NE(d)){const C=zH(d.outlets);return new $t(s,C)}if(0===o&&hI(n[0])){s.push(new OE(r.segments[i].path,WN(n[0]))),o++;continue}const f=NE(d)?d.outlets[Ut]:`${d}`,_=o<n.length-1?n[o+1]:null;f&&_&&hI(_)?(s.push(new OE(f,WN(_))),o+=2):(s.push(new OE(f,{})),o++)}return new $t(s,{})}function zH(r){const i={};return Mr(r,(n,s)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[s]=KR(new $t([],{}),0,n))}),i}function WN(r){const i={};return Mr(r,(n,s)=>i[s]=`${n}`),i}function KN(r,i,n){return r==n.path&&lc(i,n.parameters)}class YH{constructor(i,n,s,o){this.routeReuseStrategy=i,this.futureState=n,this.currState=s,this.forwardEvent=o}activate(i){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,i),YR(this.futureState.root),this.activateChildRoutes(n,s,i)}deactivateChildRoutes(i,n,s){const o=FE(n);i.children.forEach(d=>{const f=d.value.outlet;this.deactivateRoutes(d,o[f],s),delete o[f]}),Mr(o,(d,f)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(i,n,s){const o=i.value,d=n?n.value:null;if(o===d)if(o.component){const f=s.getContext(o.outlet);f&&this.deactivateChildRoutes(i,n,f.children)}else this.deactivateChildRoutes(i,n,s);else d&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(i,n){this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,n):this.deactivateRouteAndOutlet(i,n)}detachAndStoreRouteSubtree(i,n){const s=n.getContext(i.value.outlet);if(s&&s.outlet){const o=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:d})}}deactivateRouteAndOutlet(i,n){const s=n.getContext(i.value.outlet),o=s&&i.value.component?s.children:n,d=FE(i);for(const f of Object.keys(d))this.deactivateRouteAndItsChildren(d[f],o);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(i,n,s){const o=FE(n);i.children.forEach(d=>{this.activateRoutes(d,o[d.value.outlet],s),this.forwardEvent(new hH(d.value.snapshot))}),i.children.length&&this.forwardEvent(new uH(i.value.snapshot))}activateRoutes(i,n,s){const o=i.value,d=n?n.value:null;if(YR(o),o===d)if(o.component){const f=s.getOrCreateContext(o.outlet);this.activateChildRoutes(i,n,f.children)}else this.activateChildRoutes(i,n,s);else if(o.component){const f=s.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(_.contexts),f.attachRef=_.componentRef,f.route=_.route.value,f.outlet&&f.outlet.attach(_.componentRef,_.route.value),QN(_.route)}else{const _=function(r){for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(o.snapshot),C=_?_.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=C,f.outlet&&f.outlet.activateWith(o,C),this.activateChildRoutes(i,null,f.children)}}else this.activateChildRoutes(i,null,s)}}function QN(r){YR(r.value),r.children.forEach(QN)}class QR{constructor(i,n){this.routes=i,this.module=n}}function hf(r){return"function"==typeof r}function ig(r){return r instanceof tg}const LE=Symbol("INITIAL_VALUE");function VE(){return Bn(r=>bN(r.map(i=>i.pipe(un(1),Qt(LE)))).pipe(Ld((i,n)=>{let s=!1;return n.reduce((o,d,f)=>o!==LE?o:(d===LE&&(s=!0),s||!1!==d&&f!==n.length-1&&!ig(d)?o:d),i)},LE),qt(i=>i!==LE),(0,Je.U)(i=>ig(i)?i:!0===i),un(1)))}let JN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,s){1&n&&c._UZ(0,"router-outlet")},directives:function(){return[rO]},encapsulation:2}),r})();function XN(r,i=""){for(let n=0;n<r.length;n++){const s=r[n];XH(s,e6(i,s))}}function XH(r,i){r.children&&XN(r.children,i)}function e6(r,i){return i?r||i.path?r&&!i.path?`${r}/`:!r&&i.path?i.path:`${r}/${i.path}`:"":r}function JR(r){const i=r.children&&r.children.map(JR),n=i?Object.assign(Object.assign({},r),{children:i}):Object.assign({},r);return!n.component&&(i||n.loadChildren)&&n.outlet&&n.outlet!==Ut&&(n.component=JN),n}function la(r){return r.outlet||Ut}function eL(r,i){const n=r.filter(s=>la(s)===i);return n.push(...r.filter(s=>la(s)!==i)),n}const tL={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function pI(r,i,n){var s;if(""===i.path)return"full"===i.pathMatch&&(r.hasChildren()||n.length>0)?Object.assign({},tL):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(i.matcher||mH)(n,r,i);if(!d)return Object.assign({},tL);const f={};Mr(d.posParams,(C,T)=>{f[T]=C.path});const _=d.consumed.length>0?Object.assign(Object.assign({},f),d.consumed[d.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:_,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function mI(r,i,n,s,o="corrected"){if(n.length>0&&function(r,i,n){return n.some(s=>gI(r,i,s)&&la(s)!==Ut)}(r,n,s)){const f=new $t(i,function(r,i,n,s){const o={};o[Ut]=s,s._sourceSegment=r,s._segmentIndexShift=i.length;for(const d of n)if(""===d.path&&la(d)!==Ut){const f=new $t([],{});f._sourceSegment=r,f._segmentIndexShift=i.length,o[la(d)]=f}return o}(r,i,s,new $t(n,r.children)));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function(r,i,n){return n.some(s=>gI(r,i,s))}(r,n,s)){const f=new $t(r.segments,function(r,i,n,s,o,d){const f={};for(const _ of s)if(gI(r,n,_)&&!o[la(_)]){const C=new $t([],{});C._sourceSegment=r,C._segmentIndexShift="legacy"===d?r.segments.length:i.length,f[la(_)]=C}return Object.assign(Object.assign({},o),f)}(r,i,n,s,r.children,o));return f._sourceSegment=r,f._segmentIndexShift=i.length,{segmentGroup:f,slicedSegments:n}}const d=new $t(r.segments,r.children);return d._sourceSegment=r,d._segmentIndexShift=i.length,{segmentGroup:d,slicedSegments:n}}function gI(r,i,n){return(!(r.hasChildren()||i.length>0)||"full"!==n.pathMatch)&&""===n.path}function nL(r,i,n,s){return!!(la(r)===s||s!==Ut&&gI(i,n,r))&&("**"===r.path||pI(i,r,n).matched)}function iL(r,i,n){return 0===i.length&&!r.children[n]}class BE{constructor(i){this.segmentGroup=i||null}}class rL{constructor(i){this.urlTree=i}}function _I(r){return new ln.y(i=>i.error(new BE(r)))}function sL(r){return new ln.y(i=>i.error(new rL(r)))}function s6(r){return new ln.y(i=>i.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r}'`)))}class l6{constructor(i,n,s,o,d){this.configLoader=n,this.urlSerializer=s,this.urlTree=o,this.config=d,this.allowRedirects=!0,this.ngModule=i.get(c.h0i)}apply(){const i=mI(this.urlTree.root,[],[],this.config).segmentGroup,n=new $t(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Ut).pipe((0,Je.U)(d=>this.createUrlTree(XR(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(df(d=>{if(d instanceof rL)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof BE?this.noMatchError(d):d}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,Ut).pipe((0,Je.U)(o=>this.createUrlTree(XR(o),i.queryParams,i.fragment))).pipe(df(o=>{throw o instanceof BE?this.noMatchError(o):o}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,n,s){const o=i.segments.length>0?new $t([],{[Ut]:i}):i;return new tg(o,n,s)}expandSegmentGroup(i,n,s,o){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe((0,Je.U)(d=>new $t([],d))):this.expandSegment(i,s,n,s.segments,o,!0)}expandChildren(i,n,s){const o=[];for(const d of Object.keys(s.children))"primary"===d?o.unshift(d):o.push(d);return(0,En.D)(o).pipe(Ev(d=>{const f=s.children[d],_=eL(n,d);return this.expandSegmentGroup(i,_,f,d).pipe((0,Je.U)(C=>({segment:C,outlet:d})))}),Ld((d,f)=>(d[f.outlet]=f.segment,d),{}),function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?qt((o,d)=>r(o,d,s)):iv.y,VR(1),n?fx(i):Eu(()=>new nv))}())}expandSegment(i,n,s,o,d,f){return(0,En.D)(s).pipe(Ev(_=>this.expandSegmentAgainstRoute(i,n,s,_,o,d,f).pipe(df(T=>{if(T instanceof BE)return(0,Ue.of)(null);throw T}))),tc(_=>!!_),df((_,C)=>{if(_ instanceof nv||"EmptyError"===_.name){if(iL(n,o,d))return(0,Ue.of)(new $t([],{}));throw new BE(n)}throw _}))}expandSegmentAgainstRoute(i,n,s,o,d,f,_){return nL(o,n,d,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,n,o,d,f):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,n,s,o,d,f):_I(n):_I(n)}expandSegmentAgainstRouteUsingRedirect(i,n,s,o,d,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,s,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,d,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,n,s,o){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?sL(d):this.lineralizeSegments(s,d).pipe((0,ws.zg)(f=>{const _=new $t(f,{});return this.expandSegment(i,_,n,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,n,s,o,d,f){const{matched:_,consumedSegments:C,lastChild:T,positionalParamSegments:I}=pI(n,o,d);if(!_)return _I(n);const x=this.applyRedirectCommands(C,o.redirectTo,I);return o.redirectTo.startsWith("/")?sL(x):this.lineralizeSegments(o,x).pipe((0,ws.zg)(L=>this.expandSegment(i,n,s,L.concat(d.slice(T)),f,!1)))}matchSegmentAgainstRoute(i,n,s,o,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Ue.of)(s._loadedConfig):this.configLoader.load(i.injector,s)).pipe((0,Je.U)(L=>(s._loadedConfig=L,new $t(o,{})))):(0,Ue.of)(new $t(o,{}));const{matched:f,consumedSegments:_,lastChild:C}=pI(n,s,o);if(!f)return _I(n);const T=o.slice(C);return this.getChildConfig(i,s,o).pipe((0,ws.zg)(x=>{const L=x.module,V=x.routes,{segmentGroup:Y,slicedSegments:se}=mI(n,_,T,V),ve=new $t(Y.segments,Y.children);if(0===se.length&&ve.hasChildren())return this.expandChildren(L,V,ve).pipe((0,Je.U)(nt=>new $t(_,nt)));if(0===V.length&&0===se.length)return(0,Ue.of)(new $t(_,{}));const Le=la(s)===d;return this.expandSegment(L,ve,V,se,Le?Ut:d,!0).pipe((0,Je.U)(Be=>new $t(_.concat(Be.segments),Be.children)))}))}getChildConfig(i,n,s){return n.children?(0,Ue.of)(new QR(n.children,i)):n.loadChildren?void 0!==n._loadedConfig?(0,Ue.of)(n._loadedConfig):this.runCanLoadGuards(i.injector,n,s).pipe((0,ws.zg)(o=>o?this.configLoader.load(i.injector,n).pipe((0,Je.U)(d=>(n._loadedConfig=d,d))):function(r){return new ln.y(i=>i.error(UR(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`)))}(n))):(0,Ue.of)(new QR([],i))}runCanLoadGuards(i,n,s){const o=n.canLoad;if(!o||0===o.length)return(0,Ue.of)(!0);const d=o.map(f=>{const _=i.get(f);let C;if(function(r){return r&&hf(r.canLoad)}(_))C=_.canLoad(n,s);else{if(!hf(_))throw new Error("Invalid CanLoad guard");C=_(n,s)}return cc(C)});return(0,Ue.of)(d).pipe(VE(),(0,Ni.b)(f=>{if(!ig(f))return;const _=UR(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw _.url=f,_}),(0,Je.U)(f=>!0===f))}lineralizeSegments(i,n){let s=[],o=n.root;for(;;){if(s=s.concat(o.segments),0===o.numberOfChildren)return(0,Ue.of)(s);if(o.numberOfChildren>1||!o.children[Ut])return s6(i.redirectTo);o=o.children[Ut]}}applyRedirectCommands(i,n,s){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),i,s)}applyRedirectCreatreUrlTree(i,n,s,o){const d=this.createSegmentGroup(i,n.root,s,o);return new tg(d,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(i,n){const s={};return Mr(i,(o,d)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);s[d]=n[_]}else s[d]=o}),s}createSegmentGroup(i,n,s,o){const d=this.createSegments(i,n.segments,s,o);let f={};return Mr(n.children,(_,C)=>{f[C]=this.createSegmentGroup(i,_,s,o)}),new $t(d,f)}createSegments(i,n,s,o){return n.map(d=>d.path.startsWith(":")?this.findPosParam(i,d,o):this.findOrReturn(d,s))}findPosParam(i,n,s){const o=s[n.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${i}'. Cannot find '${n.path}'.`);return o}findOrReturn(i,n){let s=0;for(const o of n){if(o.path===i.path)return n.splice(s),o;s++}return i}}function XR(r){const i={};for(const s of Object.keys(r.children)){const d=XR(r.children[s]);(d.segments.length>0||d.hasChildren())&&(i[s]=d)}return function(r){if(1===r.numberOfChildren&&r.children[Ut]){const i=r.children[Ut];return new $t(r.segments.concat(i.segments),i.children)}return r}(new $t(r.segments,i))}class oL{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class yI{constructor(i,n){this.component=i,this.route=n}}function d6(r,i,n){const s=r._root;return UE(s,i?i._root:null,n,[s.value])}function vI(r,i,n){const s=function(r){if(!r)return null;for(let i=r.parent;i;i=i.parent){const n=i.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(i);return(s?s.module.injector:n).get(r)}function UE(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const d=FE(i);return r.children.forEach(f=>{(function(r,i,n,s,o={canDeactivateChecks:[],canActivateChecks:[]}){const d=r.value,f=i?i.value:null,_=n?n.getContext(r.value.outlet):null;if(f&&d.routeConfig===f.routeConfig){const C=function(r,i,n){if("function"==typeof n)return n(r,i);switch(n){case"pathParamsChange":return!ng(r.url,i.url);case"pathParamsOrQueryParamsChange":return!ng(r.url,i.url)||!lc(r.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qR(r,i)||!lc(r.queryParams,i.queryParams);case"paramsChange":default:return!qR(r,i)}}(f,d,d.routeConfig.runGuardsAndResolvers);C?o.canActivateChecks.push(new oL(s)):(d.data=f.data,d._resolvedData=f._resolvedData),UE(r,i,d.component?_?_.children:null:n,s,o),C&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new yI(_.outlet.component,f))}else f&&HE(i,_,o),o.canActivateChecks.push(new oL(s)),UE(r,null,d.component?_?_.children:null:n,s,o)})(f,d[f.value.outlet],n,s.concat([f.value]),o),delete d[f.value.outlet]}),Mr(d,(f,_)=>HE(f,n.getContext(_),o)),o}function HE(r,i,n){const s=FE(r),o=r.value;Mr(s,(d,f)=>{HE(d,o.component?i?i.children.getContext(f):null:i,n)}),n.canDeactivateChecks.push(new yI(o.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,o))}class D6{}function aL(r){return new ln.y(i=>i.error(r))}class T6{constructor(i,n,s,o,d,f){this.rootComponentType=i,this.config=n,this.urlTree=s,this.url=o,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=f}recognize(){const i=mI(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,i,Ut);if(null===n)return null;const s=new uI([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Nu(s,n),d=new GN(this.url,o);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(i){const n=i.value,s=jN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(s.params),n.data=Object.freeze(s.data),i.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(i,n,s){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,n):this.processSegment(i,n,n.segments,s)}processChildren(i,n){const s=[];for(const d of Object.keys(n.children)){const f=n.children[d],_=eL(i,d),C=this.processSegmentGroup(_,f,d);if(null===C)return null;s.push(...C)}const o=lL(s);return function(r){r.sort((i,n)=>i.value.outlet===Ut?-1:n.value.outlet===Ut?1:i.value.outlet.localeCompare(n.value.outlet))}(o),o}processSegment(i,n,s,o){for(const d of i){const f=this.processSegmentAgainstRoute(d,n,s,o);if(null!==f)return f}return iL(n,s,o)?[]:null}processSegmentAgainstRoute(i,n,s,o){if(i.redirectTo||!nL(i,n,s,o))return null;let d,f=[],_=[];if("**"===i.path){const V=s.length>0?AN(s).parameters:{};d=new uI(s,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dL(i),la(i),i.component,i,cL(n),uL(n)+s.length,hL(i))}else{const V=pI(n,i,s);if(!V.matched)return null;f=V.consumedSegments,_=s.slice(V.lastChild),d=new uI(f,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dL(i),la(i),i.component,i,cL(n),uL(n)+f.length,hL(i))}const C=function(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(i),{segmentGroup:T,slicedSegments:I}=mI(n,f,_,C.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===I.length&&T.hasChildren()){const V=this.processChildren(C,T);return null===V?null:[new Nu(d,V)]}if(0===C.length&&0===I.length)return[new Nu(d,[])];const x=la(i)===o,L=this.processSegment(C,T,I,x?Ut:o);return null===L?null:[new Nu(d,L)]}}function A6(r){const i=r.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function lL(r){const i=[],n=new Set;for(const s of r){if(!A6(s)){i.push(s);continue}const o=i.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==o?(o.children.push(...s.children),n.add(o)):i.push(s)}for(const s of n){const o=lL(s.children);i.push(new Nu(s.value,o))}return i.filter(s=>!n.has(s))}function cL(r){let i=r;for(;i._sourceSegment;)i=i._sourceSegment;return i}function uL(r){let i=r,n=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,n+=i._segmentIndexShift?i._segmentIndexShift:0;return n-1}function dL(r){return r.data||{}}function hL(r){return r.resolve||{}}function eO(r){return Bn(i=>{const n=r(i);return n?(0,En.D)(n).pipe((0,Je.U)(()=>i)):(0,Ue.of)(i)})}class L6 extends class{shouldDetach(i){return!1}store(i,n){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,n){return i.routeConfig===n.routeConfig}}{}const tO=new c.OlP("ROUTES");class fL{constructor(i,n,s,o){this.loader=i,this.compiler=n,this.onLoadStartListener=s,this.onLoadEndListener=o}load(i,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const o=this.loadModuleFactory(n.loadChildren).pipe((0,Je.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=d.create(i);return new QR(IN(f.injector.get(tO,void 0,c.XFs.Self|c.XFs.Optional)).map(JR),f)}),df(d=>{throw n._loader$=void 0,d}));return n._loader$=new Z3.c(o,()=>new xe.xQ).pipe((0,eH.x)()),n._loader$}loadModuleFactory(i){return"string"==typeof i?(0,En.D)(this.loader.load(i)):cc(i()).pipe((0,ws.zg)(n=>n instanceof c.YKP?(0,Ue.of)(n):(0,En.D)(this.compiler.compileModuleAsync(n))))}}class V6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tv,this.attachRef=null}}class Tv{constructor(){this.contexts=new Map}onChildOutletCreated(i,n){const s=this.getOrCreateContext(i);s.outlet=n,this.contexts.set(i,s)}onChildOutletDestroyed(i){const n=this.getContext(i);n&&(n.outlet=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let n=this.getContext(i);return n||(n=new V6,this.contexts.set(i,n)),n}getContext(i){return this.contexts.get(i)||null}}class U6{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,n){return i}}function H6(r){throw r}function j6(r,i,n){return i.parse("/")}function pL(r,i){return(0,Ue.of)(null)}const G6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class r{constructor(n,s,o,d,f,_,C,T){this.rootComponentType=n,this.urlSerializer=s,this.rootContexts=o,this.location=d,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xe.xQ,this.errorHandler=H6,this.malformedUriErrorHandler=j6,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pL,afterPreactivation:pL},this.urlHandlingStrategy=new U6,this.routeReuseStrategy=new L6,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(c.h0i),this.console=f.get(c.c2e);const L=f.get(c.R0b);this.isNgZoneEnabled=L instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new tg(new $t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fL(_,C,V=>this.triggerEvent(new EN(V)),V=>this.triggerEvent(new DN(V))),this.routerState=HN(this.currentUrlTree,this.rootComponentType),this.transitions=new ys({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const s=this.events;return n.pipe(qt(o=>0!==o.id),(0,Je.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bn(o=>{let d=!1,f=!1;return(0,Ue.of)(o).pipe((0,Ni.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Bn(_=>{const C=this.browserUrlTree.toString(),T=!this.navigated||_.extractedUrl.toString()!==C||C!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return bI(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Ue.of)(_).pipe(Bn(x=>{const L=this.transitions.getValue();return s.next(new BR(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?ec.E:Promise.resolve(x)}),function(r,i,n,s){return Bn(o=>function(r,i,n,s,o){return new l6(r,i,n,s,o).apply()}(r,i,n,o.extractedUrl,s).pipe((0,Je.U)(d=>Object.assign(Object.assign({},o),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ni.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(r,i,n,s,o){return(0,ws.zg)(d=>function(r,i,n,s,o="emptyOnly",d="legacy"){try{const f=new T6(r,i,n,s,o,d).recognize();return null===f?aL(new D6):(0,Ue.of)(f)}catch(f){return aL(f)}}(r,i,d.urlAfterRedirects,n(d.urlAfterRedirects),s,o).pipe((0,Je.U)(f=>Object.assign(Object.assign({},d),{targetSnapshot:f}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ni.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const L=new rH(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);s.next(L)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:V,source:Y,restoredState:se,extras:ve}=_,Le=new BR(L,this.serializeUrl(V),Y,se);s.next(Le);const Ge=HN(V,this.rootComponentType).snapshot;return(0,Ue.of)(Object.assign(Object.assign({},_),{targetSnapshot:Ge,urlAfterRedirects:V,extras:Object.assign(Object.assign({},ve),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),ec.E}),eO(_=>{const{targetSnapshot:C,id:T,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:V}}=_;return this.hooks.beforePreactivation(C,{navigationId:T,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!V})}),(0,Ni.b)(_=>{const C=new sH(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(C)}),(0,Je.U)(_=>Object.assign(Object.assign({},_),{guards:d6(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(r,i){return(0,ws.zg)(n=>{const{targetSnapshot:s,currentSnapshot:o,guards:{canActivateChecks:d,canDeactivateChecks:f}}=n;return 0===f.length&&0===d.length?(0,Ue.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(r,i,n,s){return(0,En.D)(r).pipe((0,ws.zg)(o=>function(r,i,n,s,o){const d=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Ue.of)(!0);const f=d.map(_=>{const C=vI(_,i,o);let T;if(function(r){return r&&hf(r.canDeactivate)}(C))T=cc(C.canDeactivate(r,i,n,s));else{if(!hf(C))throw new Error("Invalid CanDeactivate guard");T=cc(C(r,i,n,s))}return T.pipe(tc())});return(0,Ue.of)(f).pipe(VE())}(o.component,o.route,n,i,s)),tc(o=>!0!==o,!0))}(f,s,o,r).pipe((0,ws.zg)(_=>_&&function(r){return"boolean"==typeof r}(_)?function(r,i,n,s){return(0,En.D)(i).pipe(Ev(o=>Fd(function(r,i){return null!==r&&i&&i(new cH(r)),(0,Ue.of)(!0)}(o.route.parent,s),function(r,i){return null!==r&&i&&i(new dH(r)),(0,Ue.of)(!0)}(o.route,s),function(r,i,n){const s=i[i.length-1],d=i.slice(0,i.length-1).reverse().map(f=>function(r){const i=r.routeConfig?r.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:r,guards:i}:null}(f)).filter(f=>null!==f).map(f=>xE(()=>{const _=f.guards.map(C=>{const T=vI(C,f.node,n);let I;if(function(r){return r&&hf(r.canActivateChild)}(T))I=cc(T.canActivateChild(s,r));else{if(!hf(T))throw new Error("Invalid CanActivateChild guard");I=cc(T(s,r))}return I.pipe(tc())});return(0,Ue.of)(_).pipe(VE())}));return(0,Ue.of)(d).pipe(VE())}(r,o.path,n),function(r,i,n){const s=i.routeConfig?i.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Ue.of)(!0);const o=s.map(d=>xE(()=>{const f=vI(d,i,n);let _;if(function(r){return r&&hf(r.canActivate)}(f))_=cc(f.canActivate(i,r));else{if(!hf(f))throw new Error("Invalid CanActivate guard");_=cc(f(i,r))}return _.pipe(tc())}));return(0,Ue.of)(o).pipe(VE())}(r,o.route,n))),tc(o=>!0!==o,!0))}(s,d,r,i):(0,Ue.of)(_)),(0,Je.U)(_=>Object.assign(Object.assign({},n),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Ni.b)(_=>{if(ig(_.guardsResult)){const T=UR(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw T.url=_.guardsResult,T}const C=new oH(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(C)}),qt(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),eO(_=>{if(_.guards.canActivateChecks.length)return(0,Ue.of)(_).pipe((0,Ni.b)(C=>{const T=new aH(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(T)}),Bn(C=>{let T=!1;return(0,Ue.of)(C).pipe(function(r,i){return(0,ws.zg)(n=>{const{targetSnapshot:s,guards:{canActivateChecks:o}}=n;if(!o.length)return(0,Ue.of)(n);let d=0;return(0,En.D)(o).pipe(Ev(f=>function(r,i,n,s){return function(r,i,n,s){const o=Object.keys(r);if(0===o.length)return(0,Ue.of)({});const d={};return(0,En.D)(o).pipe((0,ws.zg)(f=>function(r,i,n,s){const o=vI(r,i,s);return cc(o.resolve?o.resolve(i,n):o(i,n))}(r[f],i,n,s).pipe((0,Ni.b)(_=>{d[f]=_}))),VR(1),(0,ws.zg)(()=>Object.keys(d).length===o.length?(0,Ue.of)(d):ec.E))}(r._resolve,r,i,s).pipe((0,Je.U)(d=>(r._resolvedData=d,r.data=Object.assign(Object.assign({},r.data),jN(r,n).resolve),null)))}(f.route,s,r,i)),(0,Ni.b)(()=>d++),VR(1),(0,ws.zg)(f=>d===o.length?(0,Ue.of)(n):ec.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ni.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Ni.b)(C=>{const T=new lH(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(T)}))}),eO(_=>{const{targetSnapshot:C,id:T,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:V}}=_;return this.hooks.afterPreactivation(C,{navigationId:T,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!V})}),(0,Je.U)(_=>{const C=function(r,i,n){const s=dI(r,i._root,n?n._root:void 0);return new UN(s,i)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:C})}),(0,Ni.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((r,i,n)=>(0,Je.U)(s=>(new YH(i,s.targetRouterState,s.currentRouterState,n).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Ni.b)({next(){d=!0},complete(){d=!0}}),CN(()=>{if(!d&&!f){const _=`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(o),this.cancelNavigationTransition(o,_)):this.cancelNavigationTransition(o,_)}this.currentNavigation=null}),df(_=>{if(f=!0,function(r){return r&&r[TN]}(_)){const C=ig(_.url);C||(this.navigated=!0,this.restoreHistory(o,!0));const T=new wN(o.id,this.serializeUrl(o.extractedUrl),_.message);s.next(T),C?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),x={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bI(o.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const C=new iH(o.id,this.serializeUrl(o.extractedUrl),_);s.next(C);try{o.resolve(this.errorHandler(_))}catch(T){o.reject(T)}}return ec.E}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const s=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:o,state:d,urlTree:f}=s,_={replaceUrl:!0};if(d){const C=Object.assign({},d);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(_.state=C)}this.scheduleNavigation(f,o,d,_)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(n){var s;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(s=n.state)||void 0===s?void 0:s.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,s){if(!n)return!0;const o=s.urlTree.toString()===n.urlTree.toString();return s.transitionId!==n.transitionId||!o||!("hashchange"===s.source&&"popstate"===n.source||"popstate"===s.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){XN(n),this.config=n.map(JR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,s={}){const{relativeTo:o,queryParams:d,fragment:f,queryParamsHandling:_,preserveFragment:C}=s,T=o||this.routerState.root,I=C?this.currentUrlTree.fragment:f;let x=null;switch(_){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),function(r,i,n,s,o){if(0===n.length)return ZR(i.root,i.root,i,s,o);const d=function(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new qN(!0,0,r);let i=0,n=!1;const s=r.reduce((o,d,f)=>{if("object"==typeof d&&null!=d){if(d.outlets){const _={};return Mr(d.outlets,(C,T)=>{_[T]="string"==typeof C?C.split("/"):C}),[...o,{outlets:_}]}if(d.segmentPath)return[...o,d.segmentPath]}return"string"!=typeof d?[...o,d]:0===f?(d.split("/").forEach((_,C)=>{0==C&&"."===_||(0==C&&""===_?n=!0:".."===_?i++:""!=_&&o.push(_))}),o):[...o,d]},[]);return new qN(n,i,s)}(n);if(d.toRoot())return ZR(i.root,new $t([],{}),i,s,o);const f=function(r,i,n){if(r.isAbsolute)return new WR(i.root,!0,0);if(-1===n.snapshot._lastPathIndex){const d=n.snapshot._urlSegment;return new WR(d,d===i.root,0)}const s=hI(r.commands[0])?0:1;return function(r,i,n){let s=r,o=i,d=n;for(;d>o;){if(d-=o,s=s.parent,!s)throw new Error("Invalid number of '../'");o=s.segments.length}return new WR(s,!1,o-d)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+s,r.numberOfDoubleDots)}(d,i,r),_=f.processChildren?fI(f.segmentGroup,f.index,d.commands):ZN(f.segmentGroup,f.index,d.commands);return ZR(f.segmentGroup,_,i,s,o)}(T,this.currentUrlTree,n,x,null!=I?I:null)}navigateByUrl(n,s={skipLocationChange:!1}){const o=ig(n)?n:this.parseUrl(n),d=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(n,s={skipLocationChange:!1}){return function(r){for(let i=0;i<r.length;i++){const n=r[i];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${i}`)}}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let s;try{s=this.urlSerializer.parse(n)}catch(o){s=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return s}isActive(n,s){let o;if(o=!0===s?Object.assign({},G6):!1===s?Object.assign({},z6):s,ig(n))return xN(this.currentUrlTree,n,o);const d=this.parseUrl(n);return xN(this.currentUrlTree,d,o)}removeEmptyProps(n){return Object.keys(n).reduce((s,o)=>{const d=n[o];return null!=d&&(s[o]=d),s},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new RE(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,s,o,d,f){var _,C;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),I=bI(s)&&T&&!bI(T.source),V=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===n.toString();if(I&&V)return Promise.resolve(!0);let Y,se,ve;f?(Y=f.resolve,se=f.reject,ve=f.promise):ve=new Promise((Be,nt)=>{Y=Be,se=nt});const Le=++this.navigationId;let Ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Ge=o&&o.\u0275routerPageId?o.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Ge=0,this.setTransition({id:Le,targetPageId:Ge,source:s,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:d,resolve:Y,reject:se,promise:ve,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ve.catch(Be=>Promise.reject(Be))}setBrowserUrl(n,s){const o=this.urlSerializer.serialize(n),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(o)||s.extras.replaceUrl?this.location.replaceState(o,"",d):this.location.go(o,"",d)}restoreHistory(n,s=!1){var o,d;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,s){const o=new wN(n.id,this.serializeUrl(n.extractedUrl),s);this.triggerEvent(o),n.resolve(!1)}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.DyG),c.LFG(HR),c.LFG(Tv),c.LFG(ut),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();function bI(r){return"imperative"!==r}let rO=(()=>{class r{constructor(n,s,o,d,f){this.parentContexts=n,this.location=s,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=d||Ut,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(s=s||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,C=new Z6(n,_,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Tv),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},r.\u0275dir=c.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r})();class Z6{constructor(i,n,s){this.route=i,this.childContexts=n,this.parent=s}get(i,n){return i===Sv?this.route:i===Tv?this.childContexts:this.parent.get(i,n)}}class mL{}class gL{preload(i,n){return(0,Ue.of)(null)}}let _L=(()=>{class r{constructor(n,s,o,d,f){this.router=n,this.injector=d,this.preloadingStrategy=f,this.loader=new fL(s,o,T=>n.triggerEvent(new EN(T)),T=>n.triggerEvent(new DN(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(qt(n=>n instanceof RE),Ev(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(c.h0i);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const o=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const f=d._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else d.loadChildren&&!d.canLoad?o.push(this.preloadConfig(n,d)):d.children&&o.push(this.processRoutes(n,d.children));return(0,En.D)(o).pipe((0,Fs.J)(),(0,Je.U)(d=>{}))}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Ue.of)(s._loadedConfig):this.loader.load(n.injector,s)).pipe((0,ws.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wr),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(mL))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),sO=(()=>{class r{constructor(n,s,o={}){this.router=n,this.viewportScroller=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof BR?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof RE&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof SN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.router.triggerEvent(new SN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wr),c.LFG(bc),c.LFG(void 0))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const rg=new c.OlP("ROUTER_CONFIGURATION"),yL=new c.OlP("ROUTER_FORROOT_GUARD"),Q6=[ut,{provide:HR,useClass:FN},{provide:Wr,useFactory:function(r,i,n,s,o,d,f,_={},C,T){const I=new Wr(null,r,i,n,s,o,d,IN(f));return C&&(I.urlHandlingStrategy=C),T&&(I.routeReuseStrategy=T),function(r,i){r.errorHandler&&(i.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(i.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(i.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(i.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(i.urlUpdateStrategy=r.urlUpdateStrategy)}(_,I),_.enableTracing&&I.events.subscribe(x=>{var L,V;null===(L=console.group)||void 0===L||L.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(V=console.groupEnd)||void 0===V||V.call(console)}),I},deps:[HR,Tv,ut,c.zs3,c.v3s,c.Sil,tO,rg,[class{},new c.FiY],[class{},new c.FiY]]},Tv,{provide:Sv,useFactory:function(r){return r.routerState.root},deps:[Wr]},{provide:c.v3s,useClass:c.EAV},_L,gL,class{preload(i,n){return n().pipe(df(()=>(0,Ue.of)(null)))}},{provide:rg,useValue:{enableTracing:!1}}];function J6(){return new c.PXZ("Router",Wr)}let vL=(()=>{class r{constructor(n,s){}static forRoot(n,s){return{ngModule:r,providers:[Q6,bL(n),{provide:yL,useFactory:tj,deps:[[Wr,new c.FiY,new c.tp0]]},{provide:rg,useValue:s||{}},{provide:Se,useFactory:ej,deps:[W,[new c.tBr(Re),new c.FiY],rg]},{provide:sO,useFactory:X6,deps:[Wr,bc,rg]},{provide:mL,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:gL},{provide:c.PXZ,multi:!0,useFactory:J6},[oO,{provide:c.ip1,multi:!0,useFactory:sj,deps:[oO]},{provide:CL,useFactory:oj,deps:[oO]},{provide:c.tb,multi:!0,useExisting:CL}]]}}static forChild(n){return{ngModule:r,providers:[bL(n)]}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(yL,8),c.LFG(Wr,8))},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();function X6(r,i,n){return n.scrollOffset&&i.setOffset(n.scrollOffset),new sO(r,i,n)}function ej(r,i,n={}){return n.useHash?new gt(r,i):new at(r,i)}function tj(r){return"guarded"}function bL(r){return[{provide:c.deG,multi:!0,useValue:r},{provide:tO,multi:!0,useValue:r}]}let oO=(()=>{class r{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xe.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const o=new Promise(_=>s=_),d=this.injector.get(Wr),f=this.injector.get(rg);return"disabled"===f.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Ue.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),o})}bootstrapListener(n){const s=this.injector.get(rg),o=this.injector.get(_L),d=this.injector.get(sO),f=this.injector.get(Wr),_=this.injector.get(c.z2F);n===_.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),d.init(),f.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(c.zs3))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();function sj(r){return r.appInitializer.bind(r)}function oj(r){return r.bootstrapListener.bind(r)}const CL=new c.OlP("Router Initializer");let lj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){1&n&&c._UZ(0,"router-outlet")},directives:[rO],styles:[""]}),r})();var cj=N(1555);function wL(...r){if(1===r.length){const i=r[0];if((0,YM.k)(i))return CI(i,null);if((0,cj.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return CI(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return CI(r=1===r.length&&(0,YM.k)(r[0])?r[0]:r,null).pipe((0,Je.U)(n=>i(...n)))}return CI(r,null)}function CI(r,i){return new ln.y(n=>{const s=r.length;if(0===s)return void n.complete();const o=new Array(s);let d=0,f=0;for(let _=0;_<s;_++){const C=(0,En.D)(r[_]);let T=!1;n.add(C.subscribe({next:I=>{T||(T=!0,f++),o[_]=I},error:I=>n.error(I),complete:()=>{d++,(d===s||!T)&&(f===s&&n.next(i?i.reduce((I,x,L)=>(I[x]=o[L],I),{}):o),n.complete())}}))}})}let EL=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.Qsj),c.Y36(c.SBq))},r.\u0275dir=c.lG2({type:r}),r})(),sg=(()=>{class r extends EL{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,features:[c.qOj]}),r})();const Es=new c.OlP("NgValueAccessor"),dj={provide:Es,useExisting:(0,c.Gpc)(()=>Iv),multi:!0},fj=new c.OlP("CompositionEventMode");let Iv=(()=>{class r extends EL{constructor(n,s,o){super(n,s),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=H()?H().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(fj,8))},r.\u0275dir=c.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&c.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[c._Bn([dj]),c.qOj]}),r})();function ff(r){return null==r||0===r.length}function SL(r){return null!=r&&"number"==typeof r.length}const Li=new c.OlP("NgValidators"),pf=new c.OlP("NgAsyncValidators"),pj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ds{static min(i){return function(r){return i=>{if(ff(i.value)||ff(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(ff(i.value)||ff(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return function(r){return ff(r.value)?{required:!0}:null}(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return ff(r.value)||pj.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>ff(i.value)||!SL(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>SL(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return mf;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(ff(s.value))return null;const o=s.value;return i.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(i)}static nullValidator(i){return null}static compose(i){return BL(i)}static composeAsync(i){return UL(i)}}function mf(r){return null}function PL(r){return null!=r}function FL(r){const i=(0,c.QGY)(r)?(0,En.D)(r):r;return(0,c.CqO)(i),i}function NL(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function LL(r,i){return i.map(n=>n(r))}function VL(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function BL(r){if(!r)return null;const i=r.filter(PL);return 0==i.length?null:function(n){return NL(LL(n,i))}}function aO(r){return null!=r?BL(VL(r)):null}function UL(r){if(!r)return null;const i=r.filter(PL);return 0==i.length?null:function(n){return wL(LL(n,i).map(FL)).pipe((0,Je.U)(NL))}}function lO(r){return null!=r?UL(VL(r)):null}function HL(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function jL(r){return r._rawValidators}function GL(r){return r._rawAsyncValidators}function cO(r){return r?Array.isArray(r)?r:[r]:[]}function wI(r,i){return Array.isArray(r)?r.includes(i):r===i}function zL(r,i){const n=cO(i);return cO(r).forEach(o=>{wI(n,o)||n.push(o)}),n}function $L(r,i){return cO(i).filter(n=>!wI(r,n))}let YL=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=aO(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=lO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r}),r})(),Kr=(()=>{class r extends YL{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,features:[c.qOj]}),r})();class ca extends YL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qL{constructor(i){this._cd=i}is(i){var n,s,o;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(o=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===o?void 0:o[i])}}let EI=(()=>{class r extends qL{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ca,2))},r.\u0275dir=c.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[c.qOj]}),r})(),DI=(()=>{class r extends qL{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Kr,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&c.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[c.qOj]}),r})();function TI(r,i){return[...i.path,r]}function jE(r,i){hO(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&ZL(r,i)})}(r,i),function(r,i){const n=(s,o)=>{i.valueAccessor.writeValue(s),o&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&ZL(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function MI(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),AI(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function II(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function hO(r,i){const n=jL(r);null!==i.validator?r.setValidators(HL(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=GL(r);null!==i.asyncValidator?r.setAsyncValidators(HL(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const o=()=>r.updateValueAndValidity();II(i._rawValidators,o),II(i._rawAsyncValidators,o)}function AI(r,i){let n=!1;if(null!==r){if(null!==i.validator){const o=jL(r);if(Array.isArray(o)&&o.length>0){const d=o.filter(f=>f!==i.validator);d.length!==o.length&&(n=!0,r.setValidators(d))}}if(null!==i.asyncValidator){const o=GL(r);if(Array.isArray(o)&&o.length>0){const d=o.filter(f=>f!==i.asyncValidator);d.length!==o.length&&(n=!0,r.setAsyncValidators(d))}}}const s=()=>{};return II(i._rawValidators,s),II(i._rawAsyncValidators,s),n}function ZL(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function WL(r,i){hO(r,i)}function fO(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}function KL(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function pO(r,i){if(!i)return null;let n,s,o;return Array.isArray(i),i.forEach(d=>{d.constructor===Iv?n=d:function(r){return Object.getPrototypeOf(r.constructor)===sg}(d)?s=d:o=d}),o||s||n||null}function kI(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const GE="VALID",xI="INVALID",Av="PENDING",zE="DISABLED";function mO(r){return(_O(r)?r.validators:r)||null}function QL(r){return Array.isArray(r)?aO(r):r||null}function gO(r,i){return(_O(i)?i.asyncValidators:r)||null}function JL(r){return Array.isArray(r)?lO(r):r||null}function _O(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class yO{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=QL(this._rawValidators),this._composedAsyncValidatorFn=JL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===GE}get invalid(){return this.status===xI}get pending(){return this.status==Av}get disabled(){return this.status===zE}get enabled(){return this.status!==zE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=QL(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=JL(i)}addValidators(i){this.setValidators(zL(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(zL(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators($L(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators($L(i,this._rawAsyncValidators))}hasValidator(i){return wI(this._rawValidators,i)}hasAsyncValidator(i){return wI(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Av,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=zE,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=GE,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===GE||this.status===Av)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zE:GE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Av,this._hasOwnPendingAsyncValidator=!0;const n=FL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(o=>{s=s instanceof $E?s.controls.hasOwnProperty(o)?s.controls[o]:null:s instanceof vO&&s.at(o)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?zE:this.errors?xI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Av)?Av:this._anyControlsHaveStatus(xI)?xI:GE}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){_O(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class og extends yO{constructor(i=null,n,s){super(mO(n),gO(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){kI(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){kI(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class $E extends yO{constructor(i,n,s){super(mO(n),gO(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof og?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((o,d)=>{s=n(s,o,d)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class vO extends yO{constructor(i,n,s){super(mO(n),gO(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,o)=>{this.at(o)&&this.at(o).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,o)=>{s.reset(i[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof og?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const Mj={provide:Kr,useExisting:(0,c.Gpc)(()=>Lu)},YE=(()=>Promise.resolve(null))();let Lu=(()=>{class r extends Kr{constructor(n,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new c.vpe,this.form=new $E({},aO(n),lO(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){YE.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),jE(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){YE.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),kI(this._directives,n)})}addFormGroup(n){YE.then(()=>{const s=this._findContainer(n.path),o=new $E({});WL(o,n),s.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){YE.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){YE.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,KL(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Li,10),c.Y36(pf,10))},r.\u0275dir=c.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){1&n&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Mj]),c.qOj]}),r})(),XL=(()=>{class r extends Kr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return TI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,features:[c.qOj]}),r})(),RI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),rV=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})();const bO=new c.OlP("NgModelWithFormControlWarning"),Pj={provide:ca,useExisting:(0,c.Gpc)(()=>CO)};let CO=(()=>{class r extends ca{constructor(n,s,o,d){super(),this._ngModelWarningConfig=d,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=pO(0,o)}set isDisabled(n){}ngOnChanges(n){if(this._isControlChanged(n)){const s=n.form.previousValue;s&&MI(s,this,!1),jE(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}fO(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&MI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Li,10),c.Y36(pf,10),c.Y36(Es,10),c.Y36(bO,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([Pj]),c.qOj,c.TTD]}),r._ngModelWarningSentOnce=!1,r})();const Fj={provide:Kr,useExisting:(0,c.Gpc)(()=>ua)};let ua=(()=>{class r extends Kr{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(AI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return jE(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){MI(n.control||null,n,!1),kI(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,KL(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,o=this.form.get(n.path);s!==o&&(MI(s||null,n),o instanceof og&&(jE(o,n),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);WL(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return AI(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hO(this.form,this),this._oldForm&&AI(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Li,10),c.Y36(pf,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&c.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Fj]),c.qOj,c.TTD]}),r})();const Nj={provide:Kr,useExisting:(0,c.Gpc)(()=>qE)};let qE=(()=>{class r extends XL{constructor(n,s,o){super(),this._parent=n,this._setValidators(s),this._setAsyncValidators(o)}_checkParentType(){aV(this._parent)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Kr,13),c.Y36(Li,10),c.Y36(pf,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[c._Bn([Nj]),c.qOj]}),r})();const Lj={provide:Kr,useExisting:(0,c.Gpc)(()=>ZE)};let ZE=(()=>{class r extends Kr{constructor(n,s,o){super(),this._parent=n,this._setValidators(s),this._setAsyncValidators(o)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return TI(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){aV(this._parent)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Kr,13),c.Y36(Li,10),c.Y36(pf,10))},r.\u0275dir=c.lG2({type:r,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[c._Bn([Lj]),c.qOj]}),r})();function aV(r){return!(r instanceof qE||r instanceof ua||r instanceof ZE)}const Vj={provide:ca,useExisting:(0,c.Gpc)(()=>OI)};let OI=(()=>{class r extends ca{constructor(n,s,o,d,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(o),this.valueAccessor=pO(0,d)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),fO(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return TI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Kr,13),c.Y36(Li,10),c.Y36(pf,10),c.Y36(Es,10),c.Y36(bO,8))},r.\u0275dir=c.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Vj]),c.qOj,c.TTD]}),r._ngModelWarningSentOnce=!1,r})(),yV=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[rV]]}),r})(),Xj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[yV]}),r})(),vV=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:bO,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[yV]}),r})(),TO=(()=>{class r{group(n,s=null){const o=this._reduceControls(n);let _,d=null,f=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(d=null!=s.validators?s.validators:null,f=null!=s.asyncValidators?s.asyncValidators:null,_=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,f=null!=s.asyncValidator?s.asyncValidator:null)),new $E(o,{asyncValidators:f,updateOn:_,validators:d})}control(n,s,o){return new og(n,s,o)}array(n,s,o){const d=n.map(f=>this._createControl(f));return new vO(d,s,o)}_reduceControls(n){const s={};return Object.keys(n).forEach(o=>{s[o]=this._createControl(n[o])}),s}_createControl(n){return n instanceof og||n instanceof $E||n instanceof vO?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,c.Yz7)({factory:function(){return new r},token:r,providedIn:vV}),r})(),PI=(()=>{class r{constructor(n){this.db=n}getTags(){return this.db.collection("tags").valueChanges({idField:"id"})}createTags(n,s){let o=[];for(const d of n)(null==s?void 0:s.some(f=>f.name.toLowerCase().trim()===d.name.toLowerCase().trim()))||o.push(d);return o=[...new Map(o.map(d=>[d.name.toLowerCase().trim(),d])).values()],o.length>0&&o.map(d=>this.db.collection("tags").add(d)),n=[...new Map(n.map(d=>[d.name.toLowerCase().trim(),d])).values()],new Promise((d,f)=>{d(n),f("Error when getting tags...")})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(ov))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),FI=(()=>{class r{constructor(n,s){this.db=n,this.tagsService=s}getTasks(){return this.db.collection("tasks",n=>n.orderBy("index","asc")).valueChanges({idField:"id"})}createTask(n,s){var o=this;return(0,we.Z)(function*(){try{n.tags=yield o.tagsService.createTags(n.tags,s)}catch(d){console.log(d)}o.db.collection("tasks").add(n)})()}updateTask(n,s){var o=this;return(0,we.Z)(function*(){try{n.tags=yield o.tagsService.createTags(n.tags,s)}catch(d){console.log(d)}o.db.collection("tasks").doc(n.id).update(Object.assign({},n))})()}deleteTask(n){this.db.collection("tasks").doc(n).delete()}sortTasks(n,s){const o=eE.Z.firestore(),d=o.batch();n.map(_=>o.collection("tasks").doc(_.id)).forEach((_,C)=>{d.update(_,s?{index:C,status:s}:{index:C})}),d.commit()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(ov),c.LFG(PI))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),WE=(()=>{class r{constructor(n,s){this.db=n,this.afAuth=s}getUsers(){return this.db.collection("users").valueChanges()}createUser(n){this.db.collection("users").add(n)}isLoggedIn(){return this.afAuth.authState}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(ov),c.LFG(ia))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const bV=["mat-button",""],CV=["*"],nG=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],iG=el(ku(yv(class{constructor(r){this._elementRef=r}})));let tl=(()=>{class r extends iG{constructor(n,s,o){super(n),this._focusMonitor=s,this._animationMode=o,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const d of nG)this._hasHostAttributes(d)&&this._getHostElement().classList.add(d);n.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(n,s){n?this._focusMonitor.focusVia(this._getHostElement(),n,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...n){return n.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(b),c.Y36(K,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(n,s){if(1&n&&c.Gf(Wm,5),2&n){let o;c.iGM(o=c.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(n,s){2&n&&(c.uIk("disabled",s.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:bV,ngContentSelectors:CV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA(),c._UZ(2,"span",1),c._UZ(3,"span",2)),2&n&&(c.xp6(2),c.ekj("mat-button-ripple-round",s.isRoundButton||s.isIconButton),c.Q6J("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},directives:[Wm],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),r})(),NI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[jM,Vt],Vt]}),r})();const EV=new Set;let kv,DV=(()=>{class r{constructor(n){this._platform=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sG}matchMedia(n){return this._platform.WEBKIT&&function(r){if(!EV.has(r))try{kv||(kv=document.createElement("style"),kv.setAttribute("type","text/css"),document.head.appendChild(kv)),kv.sheet&&(kv.sheet.insertRule(`@media ${r} {.fx-query-test{ }}`,0),EV.add(r))}catch(i){console.error(i)}}(n),this._matchMedia(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt))},token:r,providedIn:"root"}),r})();function sG(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let SV=(()=>{class r{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new xe.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return TV(ic(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let d=bN(TV(ic(n)).map(f=>this._registerQuery(f).observable));return d=Fd(d.pipe(un(1)),d.pipe(Kx(1),pv(0))),d.pipe((0,Je.U)(f=>{const _={matches:!1,breakpoints:{}};return f.forEach(({matches:C,query:T})=>{_.matches=_.matches||C,_.breakpoints[T]=C}),_}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);const s=this._mediaMatcher.matchMedia(n),d={observable:new ln.y(f=>{const _=C=>this._zone.run(()=>f.next(C));return s.addListener(_),()=>{s.removeListener(_)}}).pipe(Qt(s),(0,Je.U)(({matches:f})=>({query:n,matches:f})),Pt(this._destroySubject)),mql:s};return this._queries.set(n,d),d}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(DV),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(DV),c.LFG(c.R0b))},token:r,providedIn:"root"}),r})();function TV(r){return r.map(i=>i.split(",")).reduce((i,n)=>i.concat(n)).map(i=>i.trim())}function aG(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",1),c.TgZ(1,"button",2),c.NdJ("click",function(){return c.CHM(n),c.oxw().action()}),c._uU(2),c.qZA(),c.qZA()}if(2&r){const n=c.oxw();c.xp6(2),c.Oqu(n.data.action)}}function lG(r,i){}const MV=new c.OlP("MatSnackBarData");class LI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const cG=Math.pow(2,31)-1;class MO{constructor(i,n){this._overlayRef=n,this._afterDismissed=new xe.xQ,this._afterOpened=new xe.xQ,this._onAction=new xe.xQ,this._dismissedByAction=!1,this.containerInstance=i,this.onAction().subscribe(()=>this.dismiss()),i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,cG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let uG=(()=>{class r{constructor(n,s){this.snackBarRef=n,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(MO),c.Y36(MV))},r.\u0275cmp=c.Xpm({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(n,s){1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA(),c.YNc(2,aG,3,1,"div",0)),2&n&&(c.xp6(1),c.Oqu(s.data.message),c.xp6(1),c.Q6J("ngIf",s.hasAction))},directives:[oi,tl],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),r})();const dG={snackBarState:Nr("state",[tr("void, hidden",Kt({transform:"scale(0.8)",opacity:0})),tr("visible",Kt({transform:"scale(1)",opacity:1})),_n("* => visible",_i("150ms cubic-bezier(0, 0, 0.2, 1)")),_n("* => void, * => hidden",_i("75ms cubic-bezier(0.4, 0.0, 1, 1)",Kt({opacity:0})))])};let hG=(()=>{class r extends KM{constructor(n,s,o,d,f){super(),this._ngZone=n,this._elementRef=s,this._changeDetectorRef=o,this._platform=d,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new xe.xQ,this._onExit=new xe.xQ,this._onEnter=new xe.xQ,this._animationState="void",this.attachDomPortal=_=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(_)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(n)}onAnimationEnd(n){const{fromState:s,toState:o}=n;if(("void"===o&&"void"!==s||"hidden"===o)&&this._completeExit(),"visible"===o){const d=this._onEnter;this._ngZone.run(()=>{d.next(),d.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(un(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const n=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(o=>n.classList.add(o)):n.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&n.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&n.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),s.appendChild(n),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(Wt),c.Y36(LI))},r.\u0275cmp=c.Xpm({type:r,selectors:[["snack-bar-container"]],viewQuery:function(n,s){if(1&n&&c.Gf(cf,7),2&n){let o;c.iGM(o=c.CRH())&&(s._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(n,s){1&n&&c.WFA("@state.done",function(d){return s.onAnimationEnd(d)}),2&n&&c.d8E("@state",s._animationState)},features:[c.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,s){1&n&&(c.TgZ(0,"div",0),c.YNc(1,lG,0,0,"ng-template",1),c.qZA(),c._UZ(2,"div")),2&n&&(c.xp6(2),c.uIk("aria-live",s._live)("role",s._role))},directives:[cf],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[dG.snackBarState]}}),r})(),IV=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[bv,QM,pr,NI,Vt],Vt]}),r})();const IO=new c.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new LI}});let AO=(()=>{class r{constructor(n,s,o,d,f,_){this._overlay=n,this._live=s,this._injector=o,this._breakpointObserver=d,this._parentSnackBar=f,this._defaultConfig=_,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=uG,this.snackBarContainerComponent=hG,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}openFromComponent(n,s){return this._attach(n,s)}openFromTemplate(n,s){return this._attach(n,s)}open(n,s="",o){const d=Object.assign(Object.assign({},this._defaultConfig),o);return d.data={message:n,action:s},d.announcementMessage===n&&(d.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,d)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,s){const d=c.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:LI,useValue:s}]}),f=new Jm(this.snackBarContainerComponent,s.viewContainerRef,d),_=n.attach(f);return _.instance.snackBarConfig=s,_.instance}_attach(n,s){const o=Object.assign(Object.assign(Object.assign({},new LI),this._defaultConfig),s),d=this._createOverlay(o),f=this._attachSnackBarContainer(d,o),_=new MO(f,d);if(n instanceof c.Rgc){const C=new Pu(n,null,{$implicit:o.data,snackBarRef:_});_.instance=f.attachTemplatePortal(C)}else{const C=this._createInjector(o,_),T=new Jm(n,void 0,C),I=f.attachComponentPortal(T);_.instance=I.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Pt(d.detachments())).subscribe(C=>{const T=d.overlayElement.classList;C.matches?T.add(this.handsetCssClass):T.remove(this.handsetCssClass)}),o.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(_,o),this._openedSnackBarRef=_,this._openedSnackBarRef}_animateSnackBar(n,s){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),s.duration&&s.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(s.duration))}_createOverlay(n){const s=new Xm;s.direction=n.direction;let o=this._overlay.position().global();const d="rtl"===n.direction,f="left"===n.horizontalPosition||"start"===n.horizontalPosition&&!d||"end"===n.horizontalPosition&&d,_=!f&&"center"!==n.horizontalPosition;return f?o.left("0"):_?o.right("0"):o.centerHorizontally(),"top"===n.verticalPosition?o.top("0"):o.bottom("0"),s.positionStrategy=o,this._overlay.create(s)}_createInjector(n,s){return c.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:MO,useValue:s},{provide:MV,useValue:n.data}]})}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Cs),c.LFG(u),c.LFG(c.zs3),c.LFG(SV),c.LFG(r,12),c.LFG(IO))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Cs),c.LFG(u),c.LFG(c.gxx),c.LFG(SV),c.LFG(r,12),c.LFG(IO))},token:r,providedIn:IV}),r})();function pG(r,i){}class kO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const mG={dialogContainer:Nr("dialogContainer",[tr("void, exit",Kt({opacity:0,transform:"scale(0.7)"})),tr("enter",Kt({transform:"none"})),_n("* => enter",_i("150ms cubic-bezier(0, 0, 0.2, 1)",Kt({transform:"none",opacity:1}))),_n("* => void, * => exit",_i("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Kt({opacity:0})))])};let gG=(()=>{class r extends KM{constructor(n,s,o,d,f,_){super(),this._elementRef=n,this._focusTrapFactory=s,this._changeDetectorRef=o,this._config=f,this._focusMonitor=_,this._animationStateChanged=new c.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=d}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(n)}attachTemplatePortal(n){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(n)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const n=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=zm(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=zm())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const n=this._elementRef.nativeElement,s=zm();return n===s||n.contains(s)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Xa),c.Y36(c.sBO),c.Y36(q,8),c.Y36(kO),c.Y36(b))},r.\u0275dir=c.lG2({type:r,viewQuery:function(n,s){if(1&n&&c.Gf(cf,7),2&n){let o;c.iGM(o=c.CRH())&&(s._portalOutlet=o.first)}},features:[c.qOj]}),r})(),_G=(()=>{class r extends gG{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:n,totalTime:s}){"enter"===n?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:s})):"exit"===n&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:s}))}_onAnimationStart({toState:n,totalTime:s}){"enter"===n?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===n||"void"===n)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(n,s){1&n&&c.WFA("@dialogContainer.start",function(d){return s._onAnimationStart(d)})("@dialogContainer.done",function(d){return s._onAnimationDone(d)}),2&n&&(c.Ikx("id",s._id),c.uIk("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),c.d8E("@dialogContainer",s._state))},features:[c.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,s){1&n&&c.YNc(0,pG,0,0,"ng-template",0)},directives:[cf],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[mG.dialogContainer]}}),r})(),yG=0;class KE{constructor(i,n,s="mat-dialog-"+yG++){this._overlayRef=i,this._containerInstance=n,this.id=s,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new xe.xQ,this._afterClosed=new xe.xQ,this._beforeClosed=new xe.xQ,this._state=0,n._id=s,n._animationStateChanged.pipe(qt(o=>"opened"===o.state),un(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(qt(o=>"closed"===o.state),un(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),i.keydownEvents().pipe(qt(o=>27===o.keyCode&&!this.disableClose&&!lr(o))).subscribe(o=>{o.preventDefault(),xO(this,"keyboard")}),i.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():xO(this,"mouse")})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(qt(n=>"closing"===n.state),un(1)).subscribe(n=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(i){let n=this._getPositionStrategy();return i&&(i.left||i.right)?i.left?n.left(i.left):n.right(i.right):n.centerHorizontally(),i&&(i.top||i.bottom)?i.top?n.top(i.top):n.bottom(i.bottom):n.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(i="",n=""){return this._overlayRef.updateSize({width:i,height:n}),this._overlayRef.updatePosition(),this}addPanelClass(i){return this._overlayRef.addPanelClass(i),this}removePanelClass(i){return this._overlayRef.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function xO(r,i,n){return void 0!==r._containerInstance&&(r._containerInstance._closeInteractionType=i),r.close(n)}const AV=new c.OlP("MatDialogData"),vG=new c.OlP("mat-dialog-default-options"),kV=new c.OlP("mat-dialog-scroll-strategy"),CG={provide:kV,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.block()}};let wG=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I){this._overlay=n,this._injector=s,this._defaultOptions=o,this._parentDialog=d,this._overlayContainer=f,this._dialogRefConstructor=C,this._dialogContainerType=T,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new xe.xQ,this._afterOpenedAtThisLevel=new xe.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=xE(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qt(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(n,s){(s=function(r,i){return Object.assign(Object.assign({},i),r)}(s,this._defaultOptions||new kO)).id&&this.getDialogById(s.id);const o=this._createOverlay(s),d=this._attachDialogContainer(o,s),f=this._attachDialogContent(n,d,o,s);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),d._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(s=>s.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(n){const s=this._getOverlayConfig(n);return this._overlay.create(s)}_getOverlayConfig(n){const s=new Xm({positionStrategy:this._overlay.position().global(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(s.backdropClass=n.backdropClass),s}_attachDialogContainer(n,s){const d=c.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:kO,useValue:s}]}),f=new Jm(this._dialogContainerType,s.viewContainerRef,d,s.componentFactoryResolver);return n.attach(f).instance}_attachDialogContent(n,s,o,d){const f=new this._dialogRefConstructor(o,s,d.id);if(n instanceof c.Rgc)s.attachTemplatePortal(new Pu(n,null,{$implicit:d.data,dialogRef:f}));else{const _=this._createInjector(d,f,s),C=s.attachComponentPortal(new Jm(n,d.viewContainerRef,_));f.componentInstance=C.instance}return f.updateSize(d.width,d.height).updatePosition(d.position),f}_createInjector(n,s,o){const d=n&&n.viewContainerRef&&n.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:o},{provide:this._dialogDataToken,useValue:n.data},{provide:this._dialogRefConstructor,useValue:s}];return n.direction&&(!d||!d.get(ne,null,c.XFs.Optional))&&f.push({provide:ne,useValue:{value:n.direction,change:(0,Ue.of)()}}),c.zs3.create({parent:d||this._injector,providers:f})}_removeOpenDialog(n){const s=this.openDialogs.indexOf(n);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,d)=>{o?d.setAttribute("aria-hidden",o):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const n=this._overlayContainer.getContainerElement();if(n.parentElement){const s=n.parentElement.children;for(let o=s.length-1;o>-1;o--){let d=s[o];d!==n&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_closeDialogs(n){let s=n.length;for(;s--;)n[s].close()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(Cs),c.Y36(c.zs3),c.Y36(void 0),c.Y36(void 0),c.Y36(TE),c.Y36(void 0),c.Y36(c.DyG),c.Y36(c.DyG),c.Y36(c.OlP))},r.\u0275dir=c.lG2({type:r}),r})(),QE=(()=>{class r extends wG{constructor(n,s,o,d,f,_,C){super(n,s,d,_,C,f,KE,_G,AV)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Cs),c.LFG(c.zs3),c.LFG(ut,8),c.LFG(vG,8),c.LFG(kV),c.LFG(r,12),c.LFG(TE))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),SG=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[QE,CG],imports:[[bv,QM,Vt],Vt]}),r})();var TG=N(205),MG=N(8819);class RV{}class Vu{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const o=n.slice(0,s),d=o.toLowerCase(),f=n.slice(s+1).trim();this.maybeSetNormalizedName(o,d),this.headers.has(d)?this.headers.get(d).push(f):this.headers.set(d,[f])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const o=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(o,s),this.maybeSetNormalizedName(n,o))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof Vu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new Vu;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Vu?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const o=("a"===i.op?this.headers.get(n):void 0)||[];o.push(...s),this.headers.set(n,o);break;case"d":const d=i.value;if(d){let f=this.headers.get(n);if(!f)return;f=f.filter(_=>-1===d.indexOf(_)),0===f.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,f)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class IG{encodeKey(i){return PV(i)}encodeValue(i){return PV(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const kG=/%(\d[a-f0-9])/gi,xG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function PV(r){return encodeURIComponent(r).replace(kG,(i,n)=>{var s;return null!==(s=xG[n])&&void 0!==s?s:i})}function FV(r){return`${r}`}class gf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new IG,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(o=>{const d=o.indexOf("="),[f,_]=-1==d?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,d)),i.decodeValue(o.slice(d+1))],C=n.get(f)||[];C.push(_),n.set(f,C)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const o=i[s];Array.isArray(o)?o.forEach(d=>{n.push({param:s,value:d,op:"a"})}):n.push({param:s,value:o,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new gf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(FV(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const o=s.indexOf(FV(i.value));-1!==o&&s.splice(o,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class RG{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function NV(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function LV(r){return"undefined"!=typeof Blob&&r instanceof Blob}function VV(r){return"undefined"!=typeof FormData&&r instanceof FormData}class JE{constructor(i,n,s,o){let d;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==s?s:null,d=o):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Vu),this.context||(this.context=new RG),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=n;else{const _=n.indexOf("?");this.urlWithParams=n+(-1===_?"?":_<n.length-1?"&":"")+f}}else this.params=new gf,this.urlWithParams=n}serializeBody(){return null===this.body?null:NV(this.body)||LV(this.body)||VV(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VV(this.body)?null:LV(this.body)?this.body.type||null:NV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,o=i.url||this.url,d=i.responseType||this.responseType,f=void 0!==i.body?i.body:this.body,_=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,C=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let T=i.headers||this.headers,I=i.params||this.params;const x=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(T=Object.keys(i.setHeaders).reduce((L,V)=>L.set(V,i.setHeaders[V]),T)),i.setParams&&(I=Object.keys(i.setParams).reduce((L,V)=>L.set(V,i.setParams[V]),I)),new JE(s,o,f,{params:I,headers:T,context:x,reportProgress:C,responseType:d,withCredentials:_})}}var Vi=(()=>((Vi=Vi||{})[Vi.Sent=0]="Sent",Vi[Vi.UploadProgress=1]="UploadProgress",Vi[Vi.ResponseHeader=2]="ResponseHeader",Vi[Vi.DownloadProgress=3]="DownloadProgress",Vi[Vi.Response=4]="Response",Vi[Vi.User=5]="User",Vi))();class VI extends class{constructor(i,n=200,s="OK"){this.headers=i.headers||new Vu,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(i={}){super(i),this.type=Vi.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new VI({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function PO(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let BI=(()=>{class r{constructor(n){this.handler=n}request(n,s,o={}){let d;if(n instanceof JE)d=n;else{let C,T;C=o.headers instanceof Vu?o.headers:new Vu(o.headers),o.params&&(T=o.params instanceof gf?o.params:new gf({fromObject:o.params})),d=new JE(n,s,void 0!==o.body?o.body:null,{headers:C,context:o.context,params:T,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=(0,Ue.of)(d).pipe(Ev(C=>this.handler.handle(C)));if(n instanceof JE||"events"===o.observe)return f;const _=f.pipe(qt(C=>C instanceof VI));switch(o.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return _.pipe((0,Je.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return _.pipe((0,Je.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return _.pipe((0,Je.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return _.pipe((0,Je.U)(C=>C.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new gf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,o={}){return this.request("PATCH",n,PO(o,s))}post(n,s,o={}){return this.request("POST",n,PO(o,s))}put(n,s,o={}){return this.request("PUT",n,PO(o,s))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(RV))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const HG=["*"];function zV(r){return Error(`Unable to find icon with the name "${r}"`)}function $V(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function YV(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class ag{constructor(i,n,s){this.url=i,this.svgText=n,this.options=s}}let UI=(()=>{class r{constructor(n,s,o,d){this._httpClient=n,this._sanitizer=s,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=o}addSvgIcon(n,s,o){return this.addSvgIconInNamespace("",n,s,o)}addSvgIconLiteral(n,s,o){return this.addSvgIconLiteralInNamespace("",n,s,o)}addSvgIconInNamespace(n,s,o,d){return this._addSvgIconConfig(n,s,new ag(o,null,d))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,s,o,d){const f=this._sanitizer.sanitize(c.q3G.HTML,o);if(!f)throw YV(o);return this._addSvgIconConfig(n,s,new ag("",f,d))}addSvgIconSet(n,s){return this.addSvgIconSetInNamespace("",n,s)}addSvgIconSetLiteral(n,s){return this.addSvgIconSetLiteralInNamespace("",n,s)}addSvgIconSetInNamespace(n,s,o){return this._addSvgIconSetConfig(n,new ag(s,null,o))}addSvgIconSetLiteralInNamespace(n,s,o){const d=this._sanitizer.sanitize(c.q3G.HTML,s);if(!d)throw YV(s);return this._addSvgIconSetConfig(n,new ag("",d,o))}registerFontClassAlias(n,s=n){return this._fontCssClassesByAlias.set(n,s),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){const s=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,n);if(!s)throw $V(n);const o=this._cachedIconsByUrl.get(s);return o?(0,Ue.of)(HI(o)):this._loadSvgIconFromConfig(new ag(n,null)).pipe((0,Ni.b)(d=>this._cachedIconsByUrl.set(s,d)),(0,Je.U)(d=>HI(d)))}getNamedSvgIcon(n,s=""){const o=qV(s,n);let d=this._svgIconConfigs.get(o);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(s,n),d)return this._svgIconConfigs.set(o,d),this._getSvgFromConfig(d);const f=this._iconSetConfigs.get(s);return f?this._getSvgFromIconSetConfigs(n,f):(0,TG._)(zV(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?(0,Ue.of)(HI(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe((0,Je.U)(s=>HI(s)))}_getSvgFromIconSetConfigs(n,s){const o=this._extractIconWithNameFromAnySet(n,s);return o?(0,Ue.of)(o):wL(s.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(df(_=>{const T=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,f.url)} failed: ${_.message}`;return this._errorHandler.handleError(new Error(T)),(0,Ue.of)(null)})))).pipe((0,Je.U)(()=>{const f=this._extractIconWithNameFromAnySet(n,s);if(!f)throw zV(n);return f}))}_extractIconWithNameFromAnySet(n,s){for(let o=s.length-1;o>=0;o--){const d=s[o];if(d.svgText&&d.svgText.indexOf(n)>-1){const f=this._svgElementFromConfig(d),_=this._extractSvgIconFromSet(f,n,d.options);if(_)return _}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe((0,Ni.b)(s=>n.svgText=s),(0,Je.U)(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?(0,Ue.of)(null):this._fetchIcon(n).pipe((0,Ni.b)(s=>n.svgText=s))}_extractSvgIconFromSet(n,s,o){const d=n.querySelector(`[id="${s}"]`);if(!d)return null;const f=d.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,o);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),o);const _=this._svgElementFromString("<svg></svg>");return _.appendChild(f),this._setSvgAttributes(_,o)}_svgElementFromString(n){const s=this._document.createElement("DIV");s.innerHTML=n;const o=s.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(n){const s=this._svgElementFromString("<svg></svg>"),o=n.attributes;for(let d=0;d<o.length;d++){const{name:f,value:_}=o[d];"id"!==f&&s.setAttribute(f,_)}for(let d=0;d<n.childNodes.length;d++)n.childNodes[d].nodeType===this._document.ELEMENT_NODE&&s.appendChild(n.childNodes[d].cloneNode(!0));return s}_setSvgAttributes(n,s){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),s&&s.viewBox&&n.setAttribute("viewBox",s.viewBox),n}_fetchIcon(n){var s;const{url:o,options:d}=n,f=null!==(s=null==d?void 0:d.withCredentials)&&void 0!==s&&s;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const _=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,o);if(!_)throw $V(o);const C=this._inProgressUrlFetches.get(_);if(C)return C;const T=this._httpClient.get(_,{responseType:"text",withCredentials:f}).pipe(CN(()=>this._inProgressUrlFetches.delete(_)),(0,MG.B)());return this._inProgressUrlFetches.set(_,T),T}_addSvgIconConfig(n,s,o){return this._svgIconConfigs.set(qV(n,s),o),this}_addSvgIconSetConfig(n,s){const o=this._iconSetConfigs.get(n);return o?o.push(s):this._iconSetConfigs.set(n,[s]),this}_svgElementFromConfig(n){if(!n.svgElement){const s=this._svgElementFromString(n.svgText);this._setSvgAttributes(s,n.options),n.svgElement=s}return n.svgElement}_getIconConfigFromResolvers(n,s){for(let o=0;o<this._resolvers.length;o++){const d=this._resolvers[o](s,n);if(d)return zG(d)?new ag(d.url,null,d.options):new ag(d,null)}}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(BI,8),c.LFG(Fr),c.LFG(q,8),c.LFG(c.qLn))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(BI,8),c.LFG(Fr),c.LFG(q,8),c.LFG(c.qLn))},token:r,providedIn:"root"}),r})();function HI(r){return r.cloneNode(!0)}function qV(r,i){return r+":"+i}function zG(r){return!(!r.url||!r.options)}const $G=el(class{constructor(r){this._elementRef=r}}),YG=new c.OlP("mat-icon-location",{providedIn:"root",factory:function(){const r=(0,c.f3M)(q),i=r?r.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),ZV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],WG=ZV.map(r=>`[${r}]`).join(", "),KG=/^url\(['"]?#(.*?)['"]?\)$/;let XE=(()=>{class r extends $G{constructor(n,s,o,d,f){super(n),this._iconRegistry=s,this._location=d,this._errorHandler=f,this._inline=!1,this._currentIconFetch=Rt.w.EMPTY,o||n.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(n){this._inline=qe(n)}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){const s=this._cleanupFontValue(n);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){const s=this._cleanupFontValue(n);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(n){if(!n)return["",""];const s=n.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const n=this._elementsWithExternalReferences;if(n&&n.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();const s=n.querySelectorAll("style");for(let d=0;d<s.length;d++)s[d].textContent+=" ";const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){const n=this._elementRef.nativeElement;let s=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const o=n.childNodes[s];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&n.removeChild(o)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const n=this._elementRef.nativeElement,s=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();s!=this._previousFontSetClass&&(this._previousFontSetClass&&n.classList.remove(this._previousFontSetClass),s&&n.classList.add(s),this._previousFontSetClass=s),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return"string"==typeof n?n.trim().split(" ")[0]:n}_prependPathToReferences(n){const s=this._elementsWithExternalReferences;s&&s.forEach((o,d)=>{o.forEach(f=>{d.setAttribute(f.name,`url('${n}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(n){const s=n.querySelectorAll(WG),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<s.length;d++)ZV.forEach(f=>{const _=s[d],C=_.getAttribute(f),T=C?C.match(KG):null;if(T){let I=o.get(_);I||(I=[],o.set(_,I)),I.push({name:f,value:T[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){const[s,o]=this._splitIconName(n);s&&(this._svgNamespace=s),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,s).pipe(un(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${o}! ${d.message}`))})}}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(UI),c.$8M("aria-hidden"),c.Y36(YG),c.Y36(c.qLn))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(n,s){2&n&&(c.uIk("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),c.ekj("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:HG,decls:1,vars:0,template:function(n,s){1&n&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),r})(),WV=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt],Vt]}),r})();const QG=["underline"],JG=["connectionContainer"],XG=["inputContainer"],ez=["label"];function tz(r,i){1&r&&(c.ynx(0),c.TgZ(1,"div",14),c._UZ(2,"div",15),c._UZ(3,"div",16),c._UZ(4,"div",17),c.qZA(),c.TgZ(5,"div",18),c._UZ(6,"div",15),c._UZ(7,"div",16),c._UZ(8,"div",17),c.qZA(),c.BQk())}function nz(r,i){1&r&&(c.TgZ(0,"div",19),c.Hsn(1,1),c.qZA())}function iz(r,i){if(1&r&&(c.ynx(0),c.Hsn(1,2),c.TgZ(2,"span"),c._uU(3),c.qZA(),c.BQk()),2&r){const n=c.oxw(2);c.xp6(3),c.Oqu(n._control.placeholder)}}function rz(r,i){1&r&&c.Hsn(0,3,["*ngSwitchCase","true"])}function sz(r,i){1&r&&(c.TgZ(0,"span",23),c._uU(1," *"),c.qZA())}function oz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"label",20,21),c.NdJ("cdkObserveContent",function(){return c.CHM(n),c.oxw().updateOutlineGap()}),c.YNc(2,iz,4,1,"ng-container",12),c.YNc(3,rz,1,0,"ng-content",12),c.YNc(4,sz,2,0,"span",22),c.qZA()}if(2&r){const n=c.oxw();c.ekj("mat-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-form-field-empty",n._control.empty&&!n._shouldAlwaysFloat())("mat-accent","accent"==n.color)("mat-warn","warn"==n.color),c.Q6J("cdkObserveContentDisabled","outline"!=n.appearance)("id",n._labelId)("ngSwitch",n._hasLabel()),c.uIk("for",n._control.id)("aria-owns",n._control.id),c.xp6(2),c.Q6J("ngSwitchCase",!1),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required&&!n._control.disabled)}}function az(r,i){1&r&&(c.TgZ(0,"div",24),c.Hsn(1,4),c.qZA())}function lz(r,i){if(1&r&&(c.TgZ(0,"div",25,26),c._UZ(2,"span",27),c.qZA()),2&r){const n=c.oxw();c.xp6(2),c.ekj("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function cz(r,i){if(1&r&&(c.TgZ(0,"div"),c.Hsn(1,5),c.qZA()),2&r){const n=c.oxw();c.Q6J("@transitionMessages",n._subscriptAnimationState)}}function uz(r,i){if(1&r&&(c.TgZ(0,"div",31),c._uU(1),c.qZA()),2&r){const n=c.oxw(2);c.Q6J("id",n._hintLabelId),c.xp6(1),c.Oqu(n.hintLabel)}}function dz(r,i){if(1&r&&(c.TgZ(0,"div",28),c.YNc(1,uz,2,2,"div",29),c.Hsn(2,6),c._UZ(3,"div",30),c.Hsn(4,7),c.qZA()),2&r){const n=c.oxw();c.Q6J("@transitionMessages",n._subscriptAnimationState),c.xp6(1),c.Q6J("ngIf",n.hintLabel)}}const hz=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],fz=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],KV=new c.OlP("MatError"),mz={transitionMessages:Nr("transitionMessages",[tr("enter",Kt({opacity:1,transform:"translateY(0%)"})),_n("void => enter",[Kt({opacity:0,transform:"translateY(-5px)"}),_i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r}),r})();const QV=new c.OlP("MatHint");let jI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["mat-label"]]}),r})(),_z=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["mat-placeholder"]]}),r})();const JV=new c.OlP("MatPrefix"),XV=new c.OlP("MatSuffix");let e2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","matSuffix",""]],features:[c._Bn([{provide:XV,useExisting:r}])]}),r})(),t2=0;const vz=el(class{constructor(r){this._elementRef=r}},"primary"),bz=new c.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Rv=new c.OlP("MatFormField");let VO=(()=>{class r extends vz{constructor(n,s,o,d,f,_,C,T){super(n),this._changeDetectorRef=s,this._dir=d,this._defaults=f,this._platform=_,this._ngZone=C,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new xe.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+t2++,this._labelId="mat-form-field-label-"+t2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==T,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(n){const s=this._appearance;this._appearance=n||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&s!==n&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=qe(n)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(n){this._explicitFormFieldControl=n}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${n.controlType}`),n.stateChanges.pipe(Qt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(Pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Vn.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Qt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Qt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(n){const s=this._control?this._control.ngControl:null;return s&&s[n]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ru(this._label.nativeElement,"transitionend").pipe(un(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&n.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const s=this._hintChildren?this._hintChildren.find(d=>"start"===d.align):null,o=this._hintChildren?this._hintChildren.find(d=>"end"===d.align):null;s?n.push(s.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(s=>s.id));this._control.setDescribedByIds(n)}}_validateControlChild(){}updateOutlineGap(){const n=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&n&&n.children.length&&n.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let s=0,o=0;const d=this._connectionContainerRef.nativeElement,f=d.querySelectorAll(".mat-form-field-outline-start"),_=d.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const C=d.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const T=this._getStartEnd(C),I=n.children,x=this._getStartEnd(I[0].getBoundingClientRect());let L=0;for(let V=0;V<I.length;V++)L+=I[V].offsetWidth;s=Math.abs(x-T)-5,o=L>0?.75*L+10:0}for(let C=0;C<f.length;C++)f[C].style.width=`${s}px`;for(let C=0;C<_.length;C++)_[C].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(n){return this._dir&&"rtl"===this._dir.value?n.right:n.left}_isAttachedToDOM(){const n=this._elementRef.nativeElement;if(n.getRootNode){const s=n.getRootNode();return s&&s!==n}return document.documentElement.contains(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(ne,8),c.Y36(bz,8),c.Y36(Wt),c.Y36(c.R0b),c.Y36(K,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-form-field"]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,xv,5),c.Suo(o,xv,7),c.Suo(o,jI,5),c.Suo(o,jI,7),c.Suo(o,_z,5),c.Suo(o,KV,5),c.Suo(o,QV,5),c.Suo(o,JV,5),c.Suo(o,XV,5)),2&n){let d;c.iGM(d=c.CRH())&&(s._controlNonStatic=d.first),c.iGM(d=c.CRH())&&(s._controlStatic=d.first),c.iGM(d=c.CRH())&&(s._labelChildNonStatic=d.first),c.iGM(d=c.CRH())&&(s._labelChildStatic=d.first),c.iGM(d=c.CRH())&&(s._placeholderChild=d.first),c.iGM(d=c.CRH())&&(s._errorChildren=d),c.iGM(d=c.CRH())&&(s._hintChildren=d),c.iGM(d=c.CRH())&&(s._prefixChildren=d),c.iGM(d=c.CRH())&&(s._suffixChildren=d)}},viewQuery:function(n,s){if(1&n&&(c.Gf(QG,5),c.Gf(JG,7),c.Gf(XG,5),c.Gf(ez,5)),2&n){let o;c.iGM(o=c.CRH())&&(s.underlineRef=o.first),c.iGM(o=c.CRH())&&(s._connectionContainerRef=o.first),c.iGM(o=c.CRH())&&(s._inputContainerRef=o.first),c.iGM(o=c.CRH())&&(s._label=o.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(n,s){2&n&&c.ekj("mat-form-field-appearance-standard","standard"==s.appearance)("mat-form-field-appearance-fill","fill"==s.appearance)("mat-form-field-appearance-outline","outline"==s.appearance)("mat-form-field-appearance-legacy","legacy"==s.appearance)("mat-form-field-invalid",s._control.errorState)("mat-form-field-can-float",s._canLabelFloat())("mat-form-field-should-float",s._shouldLabelFloat())("mat-form-field-has-label",s._hasFloatingLabel())("mat-form-field-hide-placeholder",s._hideControlPlaceholder())("mat-form-field-disabled",s._control.disabled)("mat-form-field-autofilled",s._control.autofilled)("mat-focused",s._control.focused)("ng-untouched",s._shouldForward("untouched"))("ng-touched",s._shouldForward("touched"))("ng-pristine",s._shouldForward("pristine"))("ng-dirty",s._shouldForward("dirty"))("ng-valid",s._shouldForward("valid"))("ng-invalid",s._shouldForward("invalid"))("ng-pending",s._shouldForward("pending"))("_mat-animation-noopable",!s._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[c._Bn([{provide:Rv,useExisting:r}]),c.qOj],ngContentSelectors:fz,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(n,s){1&n&&(c.F$t(hz),c.TgZ(0,"div",0),c.TgZ(1,"div",1,2),c.NdJ("click",function(d){return s._control.onContainerClick&&s._control.onContainerClick(d)}),c.YNc(3,tz,9,0,"ng-container",3),c.YNc(4,nz,2,0,"div",4),c.TgZ(5,"div",5,6),c.Hsn(7),c.TgZ(8,"span",7),c.YNc(9,oz,5,16,"label",8),c.qZA(),c.qZA(),c.YNc(10,az,2,0,"div",9),c.qZA(),c.YNc(11,lz,3,4,"div",10),c.TgZ(12,"div",11),c.YNc(13,cz,2,1,"div",12),c.YNc(14,dz,5,2,"div",13),c.qZA(),c.qZA()),2&n&&(c.xp6(3),c.Q6J("ngIf","outline"==s.appearance),c.xp6(1),c.Q6J("ngIf",s._prefixChildren.length),c.xp6(5),c.Q6J("ngIf",s._hasFloatingLabel()),c.xp6(1),c.Q6J("ngIf",s._suffixChildren.length),c.xp6(1),c.Q6J("ngIf","outline"!=s.appearance),c.xp6(1),c.Q6J("ngSwitch",s._getDisplayedMessages()),c.xp6(1),c.Q6J("ngSwitchCase","error"),c.xp6(1),c.Q6J("ngSwitchCase","hint"))},directives:[oi,Ji,Cn,pE],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[mz.transitionMessages]},changeDetection:0}),r})(),GI=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[pr,Vt,mE],Vt]}),r})();const Cz=["trigger"],wz=["panel"];function Ez(r,i){if(1&r&&(c.TgZ(0,"span",8),c._uU(1),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.Oqu(n.placeholder)}}function Dz(r,i){if(1&r&&(c.TgZ(0,"span",12),c._uU(1),c.qZA()),2&r){const n=c.oxw(2);c.xp6(1),c.Oqu(n.triggerValue)}}function Sz(r,i){1&r&&c.Hsn(0,0,["*ngSwitchCase","true"])}function Tz(r,i){if(1&r&&(c.TgZ(0,"span",9),c.YNc(1,Dz,2,1,"span",10),c.YNc(2,Sz,1,0,"ng-content",11),c.qZA()),2&r){const n=c.oxw();c.Q6J("ngSwitch",!!n.customTrigger),c.xp6(2),c.Q6J("ngSwitchCase",!0)}}function Mz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",13),c.TgZ(1,"div",14,15),c.NdJ("@transformPanel.done",function(o){return c.CHM(n),c.oxw()._panelDoneAnimatingStream.next(o.toState)})("keydown",function(o){return c.CHM(n),c.oxw()._handleKeydown(o)}),c.Hsn(3,1),c.qZA(),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("@transformPanelWrap",void 0),c.xp6(1),c.Gre("mat-select-panel ",n._getPanelTheme(),""),c.Udp("transform-origin",n._transformOrigin)("font-size",n._triggerFontSize,"px"),c.Q6J("ngClass",n.panelClass)("@transformPanel",n.multiple?"showing-multiple":"showing"),c.uIk("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}const Iz=[[["mat-select-trigger"]],"*"],Az=["mat-select-trigger","*"],r2={transformPanelWrap:Nr("transformPanelWrap",[_n("* => void",dd("@transformPanel",[Qv()],{optional:!0}))]),transformPanel:Nr("transformPanel",[tr("void",Kt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),tr("showing",Kt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),tr("showing-multiple",Kt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),_n("void => *",_i("120ms cubic-bezier(0, 0, 0.2, 1)")),_n("* => void",_i("100ms 25ms linear",Kt({opacity:0})))])};let s2=0;const a2=new c.OlP("mat-select-scroll-strategy"),Oz=new c.OlP("MAT_SELECT_CONFIG"),Pz={provide:a2,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.reposition()}};class Fz{constructor(i,n){this.source=i,this.value=n}}const Nz=yv(fR(ku(UM(class{constructor(r,i,n,s,o){this._elementRef=r,this._defaultErrorStateMatcher=i,this._parentForm=n,this._parentFormGroup=s,this.ngControl=o}})))),l2=new c.OlP("MatSelectTrigger");let Lz=(()=>{class r extends Nz{constructor(n,s,o,d,f,_,C,T,I,x,L,V,Y,se){var ve,Le,Ge;super(f,d,C,T,x),this._viewportRuler=n,this._changeDetectorRef=s,this._ngZone=o,this._dir=_,this._parentFormField=I,this._liveAnnouncer=Y,this._defaultOptions=se,this._panelOpen=!1,this._compareWith=(Be,nt)=>Be===nt,this._uid="mat-select-"+s2++,this._triggerAriaLabelledBy=null,this._destroy=new xe.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s2++,this._panelDoneAnimatingStream=new xe.xQ,this._overlayPanelClass=(null===(ve=this._defaultOptions)||void 0===ve?void 0:ve.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(Ge=null===(Le=this._defaultOptions)||void 0===Le?void 0:Le.disableOptionCentering)&&void 0!==Ge&&Ge,this.ariaLabel="",this.optionSelectionChanges=xE(()=>{const Be=this.options;return Be?Be.changes.pipe(Qt(Be),Bn(()=>(0,Vn.T)(...Be.map(nt=>nt.onSelectionChange)))):this._ngZone.onStable.pipe(un(1),Bn(()=>this.optionSelectionChanges))}),this.openedChange=new c.vpe,this._openedStream=this.openedChange.pipe(qt(Be=>Be),(0,Je.U)(()=>{})),this._closedStream=this.openedChange.pipe(qt(Be=>!Be),(0,Je.U)(()=>{})),this.selectionChange=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==se?void 0:se.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=se.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(L)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get required(){return this._required}set required(n){this._required=qe(n),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(n){this._multiple=qe(n)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(n){this._disableOptionCentering=qe(n)}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){(n!==this._value||this._multiple&&Array.isArray(n))&&(this.options&&this._setSelectionByValue(n),this._value=n)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(n){this._typeaheadDebounceInterval=ni(n)}get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new gF(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Vd(),Pt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Pt(this._destroy)).subscribe(n=>{n.added.forEach(s=>s.select()),n.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(Qt(null),Pt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const n=this._getTriggerAriaLabelledby();if(n!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?s.setAttribute("aria-labelledby",n):s.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(n){n.disabled&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(n){this.value=n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const n=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){const s=n.keyCode,o=40===s||38===s||37===s||39===s,d=13===s||32===s,f=this._keyManager;if(!f.isTyping()&&d&&!lr(n)||(this.multiple||n.altKey)&&o)n.preventDefault(),this.open();else if(!this.multiple){const _=this.selected;f.onKeydown(n);const C=this.selected;C&&_!==C&&this._liveAnnouncer.announce(C.viewValue,1e4)}}_handleOpenKeydown(n){const s=this._keyManager,o=n.keyCode,d=40===o||38===o,f=s.isTyping();if(d&&n.altKey)n.preventDefault(),this.close();else if(f||13!==o&&32!==o||!s.activeItem||lr(n))if(!f&&this._multiple&&65===o&&n.ctrlKey){n.preventDefault();const _=this.options.some(C=>!C.disabled&&!C.selected);this.options.forEach(C=>{C.disabled||(_?C.select():C.deselect())})}else{const _=s.activeItemIndex;s.onKeydown(n),this._multiple&&d&&n.shiftKey&&s.activeItem&&s.activeItemIndex!==_&&s.activeItem._selectViaInteraction()}else n.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(un(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(s=>this._selectValue(s)),this._sortValues();else{const s=this._selectValue(n);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(n){const s=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,n)}catch(d){return!1}});return s&&this._selectionModel.select(s),s}_initKeyManager(){this._keyManager=new NM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Pt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Pt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const n=(0,Vn.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pt(n)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Vn.T)(...this.options.map(s=>s._stateChanges)).pipe(Pt(n)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(n,s){const o=this._selectionModel.isSelected(n);null!=n.value||this._multiple?(o!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),s&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),s&&this.focus())):(n.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(n.value)),o!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const n=this.options.toArray();this._selectionModel.sort((s,o)=>this.sortComparator?this.sortComparator(s,o,n):n.indexOf(s)-n.indexOf(o)),this.stateChanges.next()}}_propagateChanges(n){let s=null;s=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:n,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var n;return!this._panelOpen&&!this.disabled&&(null===(n=this.options)||void 0===n?void 0:n.length)>0}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){var n;if(this.ariaLabel)return null;const s=null===(n=this._parentFormField)||void 0===n?void 0:n.getLabelId();return this.ariaLabelledby?(s?s+" ":"")+this.ariaLabelledby:s}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var n;if(this.ariaLabel)return null;const s=null===(n=this._parentFormField)||void 0===n?void 0:n.getLabelId();let o=(s?s+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(n){this.openedChange.emit(n)}setDescribedByIds(n){this._ariaDescribedby=n.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ac),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(lf),c.Y36(c.SBq),c.Y36(ne,8),c.Y36(Lu,8),c.Y36(ua,8),c.Y36(Rv,8),c.Y36(ca,10),c.$8M("tabindex"),c.Y36(a2),c.Y36(u),c.Y36(Oz,8))},r.\u0275dir=c.lG2({type:r,viewQuery:function(n,s){if(1&n&&(c.Gf(Cz,5),c.Gf(wz,5),c.Gf(HF,5)),2&n){let o;c.iGM(o=c.CRH())&&(s.trigger=o.first),c.iGM(o=c.CRH())&&(s.panel=o.first),c.iGM(o=c.CRH())&&(s._overlayDir=o.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[c.qOj,c.TTD]}),r})(),c2=(()=>{class r extends Lz{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(n,s,o){const d=this._getItemHeight();return Math.min(Math.max(0,d*n-s+d/2),o)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Pt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(un(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(n){const s=mR(n,this.options,this.optionGroups),o=this._getItemHeight();this.panel.nativeElement.scrollTop=0===n&&1===s?0:sF((n+s)*o,o,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(n){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(n)}_getChangeEvent(n){return new Fz(this,n)}_calculateOverlayOffsetX(){const n=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),o=this._isRtl(),d=this.multiple?56:32;let f;if(this.multiple)f=40;else if(this.disableOptionCentering)f=16;else{let T=this._selectionModel.selected[0]||this.options.first;f=T&&T.group?32:16}o||(f*=-1);const _=0-(n.left+f-(o?d:0)),C=n.right+f-s.width+(o?0:d);_>0?f+=_+8:C>0&&(f-=C+8),this._overlayDir.offsetX=Math.round(f),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(n,s,o){const d=this._getItemHeight(),f=(d-this._triggerRect.height)/2,_=Math.floor(256/d);let C;return this.disableOptionCentering?0:(C=0===this._scrollTop?n*d:this._scrollTop===o?(n-(this._getItemCount()-_))*d+(d-(this._getItemCount()*d-256)%d):s-d/2,Math.round(-1*C-f))}_checkOverlayWithinViewport(n){const s=this._getItemHeight(),o=this._viewportRuler.getViewportSize(),d=this._triggerRect.top-8,f=o.height-this._triggerRect.bottom-8,_=Math.abs(this._offsetY),T=Math.min(this._getItemCount()*s,256)-_-this._triggerRect.height;T>f?this._adjustPanelUp(T,f):_>d?this._adjustPanelDown(_,d,n):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(n,s){const o=Math.round(n-s);this._scrollTop-=o,this._offsetY-=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(n,s,o){const d=Math.round(n-s);if(this._scrollTop+=d,this._offsetY+=d,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=o)return this._scrollTop=o,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const n=this._getItemHeight(),s=this._getItemCount(),o=Math.min(s*n,256),f=s*n-o;let _;_=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),_+=mR(_,this.options,this.optionGroups);const C=o/2;this._scrollTop=this._calculateOverlayScroll(_,C,f),this._offsetY=this._calculateOverlayOffsetY(_,C,f),this._checkOverlayWithinViewport(f)}_getOriginBasedOnOption(){const n=this._getItemHeight(),s=(n-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+n/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-select"]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,l2,5),c.Suo(o,SE,5),c.Suo(o,zM,5)),2&n){let d;c.iGM(d=c.CRH())&&(s.customTrigger=d.first),c.iGM(d=c.CRH())&&(s.options=d),c.iGM(d=c.CRH())&&(s.optionGroups=d)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(n,s){1&n&&c.NdJ("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&n&&(c.uIk("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-describedby",s._ariaDescribedby||null)("aria-activedescendant",s._getAriaActiveDescendant()),c.ekj("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[c._Bn([{provide:xv,useExisting:r},{provide:GM,useExisting:r}]),c.qOj],ngContentSelectors:Az,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(n,s){if(1&n&&(c.F$t(Iz),c.TgZ(0,"div",0,1),c.NdJ("click",function(){return s.toggle()}),c.TgZ(3,"div",2),c.YNc(4,Ez,2,1,"span",3),c.YNc(5,Tz,3,2,"span",4),c.qZA(),c.TgZ(6,"div",5),c._UZ(7,"div",6),c.qZA(),c.qZA(),c.YNc(8,Mz,4,14,"ng-template",7),c.NdJ("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&n){const o=c.MAs(1);c.uIk("aria-owns",s.panelOpen?s.id+"-panel":null),c.xp6(3),c.Q6J("ngSwitch",s.empty),c.uIk("id",s._valueId),c.xp6(1),c.Q6J("ngSwitchCase",!0),c.xp6(1),c.Q6J("ngSwitchCase",!1),c.xp6(3),c.Q6J("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},directives:[l3,Ji,Cn,HF,dg,fr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[r2.transformPanelWrap,r2.transformPanel]},changeDetection:0}),r})(),Vz=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[Pz],imports:[[pr,bv,$M,Vt],Ou,GI,$M,Vt]}),r})();const u2=Wn({passive:!0});let d2=(()=>{class r{constructor(n,s){this._platform=n,this._ngZone=s,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return ec.E;const s=Hn(n),o=this._monitoredElements.get(s);if(o)return o.subject;const d=new xe.xQ,f="cdk-text-field-autofilled",_=C=>{"cdk-text-field-autofill-start"!==C.animationName||s.classList.contains(f)?"cdk-text-field-autofill-end"===C.animationName&&s.classList.contains(f)&&(s.classList.remove(f),this._ngZone.run(()=>d.next({target:C.target,isAutofilled:!1}))):(s.classList.add(f),this._ngZone.run(()=>d.next({target:C.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{s.addEventListener("animationstart",_,u2),s.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(s,{subject:d,unlisten:()=>{s.removeEventListener("animationstart",_,u2)}}),d}stopMonitoring(n){const s=Hn(n),o=this._monitoredElements.get(s);o&&(o.unlisten(),o.subject.complete(),s.classList.remove("cdk-text-field-autofill-monitored"),s.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(s))}ngOnDestroy(){this._monitoredElements.forEach((n,s)=>this.stopMonitoring(s))}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(Wt),c.LFG(c.R0b))},r.\u0275prov=c.Yz7({factory:function(){return new r(c.LFG(Wt),c.LFG(c.R0b))},token:r,providedIn:"root"}),r})(),BO=(()=>{class r{constructor(n,s,o,d){this._elementRef=n,this._platform=s,this._ngZone=o,this._destroyed=new xe.xQ,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=f=>{this._hasFocus="focus"===f.type},this._document=d,this._textareaElement=this._elementRef.nativeElement}get minRows(){return this._minRows}set minRows(n){this._minRows=ni(n),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(n){this._maxRows=ni(n),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(n){n=qe(n),this._enabled!==n&&((this._enabled=n)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(n){this._cachedPlaceholderHeight=void 0,this._textareaElement.placeholder=n,this._cacheTextareaPlaceholderHeight()}_setMinHeight(){const n=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;n&&(this._textareaElement.style.minHeight=n)}_setMaxHeight(){const n=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;n&&(this._textareaElement.style.maxHeight=n)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Ru(this._getWindow(),"resize").pipe(qM(16),Pt(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let n=this._textareaElement.cloneNode(!1);n.rows=1,n.style.position="absolute",n.style.visibility="hidden",n.style.border="none",n.style.padding="0",n.style.height="",n.style.minHeight="",n.style.maxHeight="",n.style.overflow="hidden",this._textareaElement.parentNode.appendChild(n),this._cachedLineHeight=n.clientHeight,this._textareaElement.parentNode.removeChild(n),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const n=this._textareaElement,s=n.style.marginBottom||"",o=this._platform.FIREFOX,d=o&&this._hasFocus,f=o?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";d&&(n.style.marginBottom=`${n.clientHeight}px`),n.classList.add(f);const _=n.scrollHeight-4;return n.classList.remove(f),d&&(n.style.marginBottom=s),_}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const n=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=n}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(n=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const s=this._elementRef.nativeElement,o=s.value;if(!n&&this._minRows===this._previousMinRows&&o===this._previousValue)return;const d=this._measureScrollHeight(),f=Math.max(d,this._cachedPlaceholderHeight||0);s.style.height=`${f}px`,this._ngZone.runOutsideAngular(()=>{"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(()=>this._scrollToCaretPosition(s)):setTimeout(()=>this._scrollToCaretPosition(s))}),this._previousValue=o,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(n){const{selectionStart:s,selectionEnd:o}=n;!this._destroyed.isStopped&&this._hasFocus&&n.setSelectionRange(s,o)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Wt),c.Y36(c.R0b),c.Y36(q,8))},r.\u0275dir=c.lG2({type:r,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(n,s){1&n&&c.NdJ("input",function(){return s._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]}),r})(),h2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Du]]}),r})();const f2=new c.OlP("MAT_INPUT_VALUE_ACCESSOR"),Bz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Uz=0;const Hz=UM(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let UO=(()=>{class r extends Hz{constructor(n,s,o,d,f,_,C,T,I,x){super(_,d,f,o),this._elementRef=n,this._platform=s,this._autofillMonitor=T,this._formField=x,this._uid="mat-input-"+Uz++,this.focused=!1,this.stateChanges=new xe.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Y=>AM().has(Y));const L=this._elementRef.nativeElement,V=L.nodeName.toLowerCase();this._inputValueAccessor=C||L,this._previousNativeValue=this.value,this.id=this.id,s.IOS&&I.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",Y=>{const se=Y.target;!se.value&&0===se.selectionStart&&0===se.selectionEnd&&(se.setSelectionRange(1,1),se.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=qe(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required}set required(n){this._required=qe(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&AM().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=qe(n)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var n,s;const o=(null===(s=null===(n=this._formField)||void 0===n?void 0:n._hideControlPlaceholder)||void 0===s?void 0:s.call(n))?null:this.placeholder;if(o!==this._previousPlaceholder){const d=this._elementRef.nativeElement;this._previousPlaceholder=o,o?d.setAttribute("placeholder",o):d.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_validateType(){Bz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const n=this._elementRef.nativeElement,s=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&s&&s.label)}return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Wt),c.Y36(ca,10),c.Y36(Lu,8),c.Y36(ua,8),c.Y36(lf),c.Y36(f2,10),c.Y36(d2),c.Y36(c.R0b),c.Y36(Rv,8))},r.\u0275dir=c.lG2({type:r,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(n,s){1&n&&c.NdJ("focus",function(){return s._focusChanged(!0)})("blur",function(){return s._focusChanged(!1)})("input",function(){return s._onInput()}),2&n&&(c.Ikx("disabled",s.disabled)("required",s.required),c.uIk("id",s.id)("data-placeholder",s.placeholder)("readonly",s.readonly&&!s._isNativeSelect||null)("aria-invalid",s.empty&&s.required?null:s.errorState)("aria-required",s.required),c.ekj("mat-input-server",s._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[c._Bn([{provide:xv,useExisting:r}]),c.qOj,c.TTD]}),r})(),jz=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[lf],imports:[[h2,GI,Vt],h2,GI]}),r})();const Gz=["mat-calendar-body",""];function zz(r,i){if(1&r&&(c.TgZ(0,"tr",2),c.TgZ(1,"td",3),c._uU(2),c.qZA(),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.Udp("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),c.uIk("colspan",n.numCols),c.xp6(1),c.hij(" ",n.label," ")}}function $z(r,i){if(1&r&&(c.TgZ(0,"td",3),c._uU(1),c.qZA()),2&r){const n=c.oxw(2);c.Udp("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),c.uIk("colspan",n._firstRowOffset),c.xp6(1),c.hij(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function Yz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"td",7),c.NdJ("click",function(o){const f=c.CHM(n).$implicit;return c.oxw(2)._cellClicked(f,o)}),c.TgZ(1,"div",8),c._uU(2),c.qZA(),c._UZ(3,"div",9),c.qZA()}if(2&r){const n=i.$implicit,s=i.index,o=c.oxw().index,d=c.oxw();c.Udp("width",d._cellWidth)("padding-top",d._cellPadding)("padding-bottom",d._cellPadding),c.ekj("mat-calendar-body-disabled",!n.enabled)("mat-calendar-body-active",d._isActiveCell(o,s))("mat-calendar-body-range-start",d._isRangeStart(n.compareValue))("mat-calendar-body-range-end",d._isRangeEnd(n.compareValue))("mat-calendar-body-in-range",d._isInRange(n.compareValue))("mat-calendar-body-comparison-bridge-start",d._isComparisonBridgeStart(n.compareValue,o,s))("mat-calendar-body-comparison-bridge-end",d._isComparisonBridgeEnd(n.compareValue,o,s))("mat-calendar-body-comparison-start",d._isComparisonStart(n.compareValue))("mat-calendar-body-comparison-end",d._isComparisonEnd(n.compareValue))("mat-calendar-body-in-comparison-range",d._isInComparisonRange(n.compareValue))("mat-calendar-body-preview-start",d._isPreviewStart(n.compareValue))("mat-calendar-body-preview-end",d._isPreviewEnd(n.compareValue))("mat-calendar-body-in-preview",d._isInPreview(n.compareValue)),c.Q6J("ngClass",n.cssClasses)("tabindex",d._isActiveCell(o,s)?0:-1),c.uIk("data-mat-row",o)("data-mat-col",s)("aria-label",n.ariaLabel)("aria-disabled",!n.enabled||null)("aria-selected",d._isSelected(n.compareValue)),c.xp6(1),c.ekj("mat-calendar-body-selected",d._isSelected(n.compareValue))("mat-calendar-body-comparison-identical",d._isComparisonIdentical(n.compareValue))("mat-calendar-body-today",d.todayValue===n.compareValue),c.xp6(1),c.hij(" ",n.displayValue," ")}}function qz(r,i){if(1&r&&(c.TgZ(0,"tr",4),c.YNc(1,$z,2,6,"td",5),c.YNc(2,Yz,4,46,"td",6),c.qZA()),2&r){const n=i.$implicit,s=i.index,o=c.oxw();c.xp6(1),c.Q6J("ngIf",0===s&&o._firstRowOffset),c.xp6(1),c.Q6J("ngForOf",n)}}function Zz(r,i){if(1&r&&(c.TgZ(0,"th",5),c.TgZ(1,"abbr",6),c._uU(2),c.qZA(),c.qZA()),2&r){const n=i.$implicit;c.uIk("aria-label",n.long),c.xp6(1),c.uIk("title",n.long),c.xp6(1),c.Oqu(n.narrow)}}const p2=["*"];function Wz(r,i){}function Kz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-month-view",5),c.NdJ("activeDateChange",function(o){return c.CHM(n),c.oxw().activeDate=o})("_userSelection",function(o){return c.CHM(n),c.oxw()._dateSelected(o)}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("activeDate",n.activeDate)("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)("comparisonStart",n.comparisonStart)("comparisonEnd",n.comparisonEnd)}}function Qz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-year-view",6),c.NdJ("activeDateChange",function(o){return c.CHM(n),c.oxw().activeDate=o})("monthSelected",function(o){return c.CHM(n),c.oxw()._monthSelectedInYearView(o)})("selectedChange",function(o){return c.CHM(n),c.oxw()._goToDateInView(o,"month")}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("activeDate",n.activeDate)("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)}}function Jz(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-multi-year-view",7),c.NdJ("activeDateChange",function(o){return c.CHM(n),c.oxw().activeDate=o})("yearSelected",function(o){return c.CHM(n),c.oxw()._yearSelectedInMultiYearView(o)})("selectedChange",function(o){return c.CHM(n),c.oxw()._goToDateInView(o,"year")}),c.qZA()}if(2&r){const n=c.oxw();c.Q6J("activeDate",n.activeDate)("selected",n.selected)("dateFilter",n.dateFilter)("maxDate",n.maxDate)("minDate",n.minDate)("dateClass",n.dateClass)}}function Xz(r,i){}const e$=["button"];function t$(r,i){1&r&&(c.O4$(),c.TgZ(0,"svg",3),c._UZ(1,"path",4),c.qZA())}const n$=[[["","matDatepickerToggleIcon",""]]],i$=["[matDatepickerToggleIcon]"];let tD=(()=>{class r{constructor(){this.changes=new xe.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(n,s){return`${n} \u2013 ${s}`}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})();class HO{constructor(i,n,s,o,d={},f=i,_){this.value=i,this.displayValue=n,this.ariaLabel=s,this.enabled=o,this.cssClasses=d,this.compareValue=f,this.rawValue=_}}let Pv=(()=>{class r{constructor(n,s){this._elementRef=n,this._ngZone=s,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new c.vpe,this.previewChange=new c.vpe,this._enterHandler=o=>{if(this._skipNextFocus&&"focus"===o.type)this._skipNextFocus=!1;else if(o.target&&this.isRange){const d=this._getCellFromElement(o.target);d&&this._ngZone.run(()=>this.previewChange.emit({value:d.enabled?d:null,event:o}))}},this._leaveHandler=o=>{null!==this.previewEnd&&this.isRange&&o.target&&jO(o.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:o}))},s.runOutsideAngular(()=>{const o=n.nativeElement;o.addEventListener("mouseenter",this._enterHandler,!0),o.addEventListener("focus",this._enterHandler,!0),o.addEventListener("mouseleave",this._leaveHandler,!0),o.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(n,s){n.enabled&&this.selectedValueChange.emit({value:n.value,event:s})}_isSelected(n){return this.startValue===n||this.endValue===n}ngOnChanges(n){const s=n.numCols,{rows:o,numCols:d}=this;(n.rows||s)&&(this._firstRowOffset=o&&o.length&&o[0].length?d-o[0].length:0),(n.cellAspectRatio||s||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/d+"%"),(s||!this._cellWidth)&&(this._cellWidth=100/d+"%")}ngOnDestroy(){const n=this._elementRef.nativeElement;n.removeEventListener("mouseenter",this._enterHandler,!0),n.removeEventListener("focus",this._enterHandler,!0),n.removeEventListener("mouseleave",this._leaveHandler,!0),n.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(n,s){let o=n*this.numCols+s;return n&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(n=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(un(1)).subscribe(()=>{const s=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");s&&(n||(this._skipNextFocus=!0),s.focus())})})}_isRangeStart(n){return GO(n,this.startValue,this.endValue)}_isRangeEnd(n){return zO(n,this.startValue,this.endValue)}_isInRange(n){return $O(n,this.startValue,this.endValue,this.isRange)}_isComparisonStart(n){return GO(n,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(n,s,o){if(!this._isComparisonStart(n)||this._isRangeStart(n)||!this._isInRange(n))return!1;let d=this.rows[s][o-1];if(!d){const f=this.rows[s-1];d=f&&f[f.length-1]}return d&&!this._isRangeEnd(d.compareValue)}_isComparisonBridgeEnd(n,s,o){if(!this._isComparisonEnd(n)||this._isRangeEnd(n)||!this._isInRange(n))return!1;let d=this.rows[s][o+1];if(!d){const f=this.rows[s+1];d=f&&f[0]}return d&&!this._isRangeStart(d.compareValue)}_isComparisonEnd(n){return zO(n,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(n){return $O(n,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(n){return this.comparisonStart===this.comparisonEnd&&n===this.comparisonStart}_isPreviewStart(n){return GO(n,this.previewStart,this.previewEnd)}_isPreviewEnd(n){return zO(n,this.previewStart,this.previewEnd)}_isInPreview(n){return $O(n,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(n){let s;if(jO(n)?s=n:jO(n.parentNode)&&(s=n.parentNode),s){const o=s.getAttribute("data-mat-row"),d=s.getAttribute("data-mat-col");if(o&&d)return this.rows[parseInt(o)][parseInt(d)]}return null}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b))},r.\u0275cmp=c.Xpm({type:r,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[c.TTD],attrs:Gz,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(n,s){1&n&&(c.YNc(0,zz,3,6,"tr",0),c.YNc(1,qz,3,2,"tr",1)),2&n&&(c.Q6J("ngIf",s._firstRowOffset<s.labelMinRequiredCells),c.xp6(1),c.Q6J("ngForOf",s.rows))},directives:[oi,Nt,fr],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),r})();function jO(r){return"TD"===r.nodeName}function GO(r,i,n){return null!==n&&i!==n&&r<n&&r===i}function zO(r,i,n){return null!==i&&i!==n&&r>=i&&r===n}function $O(r,i,n,s){return s&&null!==i&&null!==n&&i!==n&&r>=i&&r<=n}class Qr{constructor(i,n){this.start=i,this.end=n}}let _f=(()=>{class r{constructor(n,s){this.selection=n,this._adapter=s,this._selectionChanged=new xe.xQ,this.selectionChanged=this._selectionChanged,this.selection=n}updateSelection(n,s){const o=this.selection;this.selection=n,this._selectionChanged.next({selection:n,source:s,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(n){return this._adapter.isDateInstance(n)&&this._adapter.isValid(n)}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(void 0),c.LFG(fi))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})(),a$=(()=>{class r extends _f{constructor(n){super(null,n)}add(n){super.updateSelection(n,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const n=new r(this._adapter);return n.updateSelection(this.selection,this),n}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(fi))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac}),r})();const m2={provide:_f,deps:[[new c.FiY,new c.tp0,_f],fi],useFactory:function(r,i){return r||new a$(i)}},$I=new c.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let g2=(()=>{class r{constructor(n,s,o,d,f){this._changeDetectorRef=n,this._dateFormats=s,this._dateAdapter=o,this._dir=d,this._rangeStrategy=f,this._rerenderSubscription=Rt.w.EMPTY,this.selectedChange=new c.vpe,this._userSelection=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(n){const s=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(s,this._activeDate)||this._init()}get selected(){return this._selected}set selected(n){this._selected=n instanceof Qr?n:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qt(null)).subscribe(()=>this._init())}ngOnChanges(n){const s=n.comparisonStart||n.comparisonEnd;s&&!s.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(n){const s=n.value,o=this._dateAdapter.getYear(this.activeDate),d=this._dateAdapter.getMonth(this.activeDate),f=this._dateAdapter.createDate(o,d,s);let _,C;this._selected instanceof Qr?(_=this._getDateInCurrentMonth(this._selected.start),C=this._getDateInCurrentMonth(this._selected.end)):_=C=this._getDateInCurrentMonth(this._selected),(_!==s||C!==s)&&this.selectedChange.emit(f),this._userSelection.emit({value:f,event:n.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(n){const s=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=n.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&n.preventDefault());case 27:return void(null!=this._previewEnd&&!lr(n)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:n}),n.preventDefault(),n.stopPropagation()));default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),n.preventDefault()}_handleCalendarBodyKeyup(n){(32===n.keyCode||13===n.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(n)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(n){this._matCalendarBody._focusActiveCell(n)}_previewChanged({event:n,value:s}){if(this._rangeStrategy){const d=this._rangeStrategy.createPreview(s?s.rawValue:null,this.selected,n);this._previewStart=this._getCellCompareValue(d.start),this._previewEnd=this._getCellCompareValue(d.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const n=this._dateAdapter.getFirstDayOfWeek(),s=this._dateAdapter.getDayOfWeekNames("narrow");let d=this._dateAdapter.getDayOfWeekNames("long").map((f,_)=>({long:f,narrow:s[_]}));this._weekdays=d.slice(n).concat(d.slice(0,n))}_createWeekCells(){const n=this._dateAdapter.getNumDaysInMonth(this.activeDate),s=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,d=this._firstWeekOffset;o<n;o++,d++){7==d&&(this._weeks.push([]),d=0);const f=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),_=this._shouldEnableDate(f),C=this._dateAdapter.format(f,this._dateFormats.display.dateA11yLabel),T=this.dateClass?this.dateClass(f,"month"):void 0;this._weeks[this._weeks.length-1].push(new HO(o+1,s[o],C,_,T,this._getCellCompareValue(f),f))}}_shouldEnableDate(n){return!!n&&(!this.minDate||this._dateAdapter.compareDate(n,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(n,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(n))}_getDateInCurrentMonth(n){return n&&this._hasSameMonthAndYear(n,this.activeDate)?this._dateAdapter.getDate(n):null}_hasSameMonthAndYear(n,s){return!(!n||!s||this._dateAdapter.getMonth(n)!=this._dateAdapter.getMonth(s)||this._dateAdapter.getYear(n)!=this._dateAdapter.getYear(s))}_getCellCompareValue(n){if(n){const s=this._dateAdapter.getYear(n),o=this._dateAdapter.getMonth(n),d=this._dateAdapter.getDate(n);return new Date(s,o,d).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(n){n instanceof Qr?(this._rangeStart=this._getCellCompareValue(n.start),this._rangeEnd=this._getCellCompareValue(n.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(n),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(n){return!this.dateFilter||this.dateFilter(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36(oc,8),c.Y36(fi,8),c.Y36(ne,8),c.Y36($I,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-month-view"]],viewQuery:function(n,s){if(1&n&&c.Gf(Pv,5),2&n){let o;c.iGM(o=c.CRH())&&(s._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[c.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(n,s){1&n&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c.YNc(3,Zz,3,3,"th",2),c.qZA(),c.TgZ(4,"tr"),c._UZ(5,"th",3),c.qZA(),c.qZA(),c.TgZ(6,"tbody",4),c.NdJ("selectedValueChange",function(d){return s._dateSelected(d)})("previewChange",function(d){return s._previewChanged(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),c.qZA(),c.qZA()),2&n&&(c.xp6(3),c.Q6J("ngForOf",s._weekdays),c.xp6(3),c.Q6J("label",s._monthLabel)("rows",s._weeks)("todayValue",s._todayDate)("startValue",s._rangeStart)("endValue",s._rangeEnd)("comparisonStart",s._comparisonRangeStart)("comparisonEnd",s._comparisonRangeEnd)("previewStart",s._previewStart)("previewEnd",s._previewEnd)("isRange",s._isRange)("labelMinRequiredCells",3)("activeCell",s._dateAdapter.getDate(s.activeDate)-1))},directives:[Nt,Pv],encapsulation:2,changeDetection:0}),r})(),_2=(()=>{class r{constructor(n,s,o){this._changeDetectorRef=n,this._dateAdapter=s,this._dir=o,this._rerenderSubscription=Rt.w.EMPTY,this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(n){let s=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),y2(this._dateAdapter,s,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(n){this._selected=n instanceof Qr?n:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedYear(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const s=this._dateAdapter.getYear(this._activeDate)-nD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,d=[];o<24;o++)d.push(s+o),4==d.length&&(this._years.push(d.map(f=>this._createCellForYear(f))),d=[]);this._changeDetectorRef.markForCheck()}_yearSelected(n){const s=n.value;this.yearSelected.emit(this._dateAdapter.createDate(s,0,1));let o=this._dateAdapter.getMonth(this.activeDate),d=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(s,o,1));this.selectedChange.emit(this._dateAdapter.createDate(s,o,Math.min(this._dateAdapter.getDate(this.activeDate),d)))}_handleCalendarBodyKeydown(n){const s=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-nD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-nD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),n.preventDefault()}_handleCalendarBodyKeyup(n){(32===n.keyCode||13===n.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_getActiveCell(){return nD(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(n){const s=this._dateAdapter.createDate(n,0,1),o=this._dateAdapter.getYearName(s),d=this.dateClass?this.dateClass(s,"multi-year"):void 0;return new HO(n,o,o,this._shouldEnableYear(n),d)}_shouldEnableYear(n){if(null==n||this.maxDate&&n>this._dateAdapter.getYear(this.maxDate)||this.minDate&&n<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(n,0,1);this._dateAdapter.getYear(o)==n;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(n){if(this._selectedYear=null,n instanceof Qr){const s=n.start||n.end;s&&(this._selectedYear=this._dateAdapter.getYear(s))}else n&&(this._selectedYear=this._dateAdapter.getYear(n))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36(fi,8),c.Y36(ne,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-multi-year-view"]],viewQuery:function(n,s){if(1&n&&c.Gf(Pv,5),2&n){let o;c.iGM(o=c.CRH())&&(s._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(n,s){1&n&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c._UZ(3,"th",2),c.qZA(),c.qZA(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(d){return s._yearSelected(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),c.qZA(),c.qZA()),2&n&&(c.xp6(4),c.Q6J("rows",s._years)("todayValue",s._todayYear)("startValue",s._selectedYear)("endValue",s._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._getActiveCell()))},directives:[Pv],encapsulation:2,changeDetection:0}),r})();function y2(r,i,n,s,o){const d=r.getYear(i),f=r.getYear(n),_=v2(r,s,o);return Math.floor((d-_)/24)===Math.floor((f-_)/24)}function nD(r,i,n,s){return function(r,i){return(r%24+24)%24}(r.getYear(i)-v2(r,n,s))}function v2(r,i,n){let s=0;return n?s=r.getYear(n)-24+1:i&&(s=r.getYear(i)),s}let b2=(()=>{class r{constructor(n,s,o,d){this._changeDetectorRef=n,this._dateFormats=s,this._dateAdapter=o,this._dir=d,this._rerenderSubscription=Rt.w.EMPTY,this.selectedChange=new c.vpe,this.monthSelected=new c.vpe,this.activeDateChange=new c.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(n){let s=this._activeDate;const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(s)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(n){this._selected=n instanceof Qr?n:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n)),this._setSelectedMonth(n)}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Qt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(n){const s=n.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,1);this.monthSelected.emit(o);const d=this._dateAdapter.getNumDaysInMonth(o);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),s,Math.min(this._dateAdapter.getDate(this.activeDate),d)))}_handleCalendarBodyKeydown(n){const s=this._activeDate,o=this._isRtl();switch(n.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(s,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),n.preventDefault()}_handleCalendarBodyKeyup(n){(32===n.keyCode||13===n.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:n}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let n=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(s=>s.map(o=>this._createCellForMonth(o,n[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(n){return n&&this._dateAdapter.getYear(n)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(n):null}_createCellForMonth(n,s){const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1),d=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),f=this.dateClass?this.dateClass(o,"year"):void 0;return new HO(n,s.toLocaleUpperCase(),d,this._shouldEnableMonth(n),f)}_shouldEnableMonth(n){const s=this._dateAdapter.getYear(this.activeDate);if(null==n||this._isYearAndMonthAfterMaxDate(s,n)||this._isYearAndMonthBeforeMinDate(s,n))return!1;if(!this.dateFilter)return!0;for(let d=this._dateAdapter.createDate(s,n,1);this._dateAdapter.getMonth(d)==n;d=this._dateAdapter.addCalendarDays(d,1))if(this.dateFilter(d))return!0;return!1}_isYearAndMonthAfterMaxDate(n,s){if(this.maxDate){const o=this._dateAdapter.getYear(this.maxDate),d=this._dateAdapter.getMonth(this.maxDate);return n>o||n===o&&s>d}return!1}_isYearAndMonthBeforeMinDate(n,s){if(this.minDate){const o=this._dateAdapter.getYear(this.minDate),d=this._dateAdapter.getMonth(this.minDate);return n<o||n===o&&s<d}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(n){this._selectedMonth=n instanceof Qr?this._getMonthInCurrentYear(n.start)||this._getMonthInCurrentYear(n.end):this._getMonthInCurrentYear(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36(oc,8),c.Y36(fi,8),c.Y36(ne,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-year-view"]],viewQuery:function(n,s){if(1&n&&c.Gf(Pv,5),2&n){let o;c.iGM(o=c.CRH())&&(s._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(n,s){1&n&&(c.TgZ(0,"table",0),c.TgZ(1,"thead",1),c.TgZ(2,"tr"),c._UZ(3,"th",2),c.qZA(),c.qZA(),c.TgZ(4,"tbody",3),c.NdJ("selectedValueChange",function(d){return s._monthSelected(d)})("keyup",function(d){return s._handleCalendarBodyKeyup(d)})("keydown",function(d){return s._handleCalendarBodyKeydown(d)}),c.qZA(),c.qZA()),2&n&&(c.xp6(4),c.Q6J("label",s._yearLabel)("rows",s._months)("todayValue",s._todayMonth)("startValue",s._selectedMonth)("endValue",s._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",s._dateAdapter.getMonth(s.activeDate)))},directives:[Pv],encapsulation:2,changeDetection:0}),r})(),g$=0,_$=(()=>{class r{constructor(n,s,o,d,f){this._intl=n,this.calendar=s,this._dateAdapter=o,this._dateFormats=d,this._buttonDescriptionId="mat-calendar-button-"+g$++,this.calendar.stateChanges.subscribe(()=>f.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const s=this._dateAdapter.getYear(this.calendar.activeDate)-nD(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=s+24-1,d=this._dateAdapter.getYearName(this._dateAdapter.createDate(s,0,1)),f=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return this._intl.formatYearRange(d,f)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(n,s){return"month"==this.calendar.currentView?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(s)&&this._dateAdapter.getMonth(n)==this._dateAdapter.getMonth(s):"year"==this.calendar.currentView?this._dateAdapter.getYear(n)==this._dateAdapter.getYear(s):y2(this._dateAdapter,n,s,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(tD),c.Y36((0,c.Gpc)(()=>ZO)),c.Y36(fi,8),c.Y36(oc,8),c.Y36(c.sBO))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:p2,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"button",2),c.NdJ("click",function(){return s.currentPeriodClicked()}),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.O4$(),c.TgZ(5,"svg",3),c._UZ(6,"polygon",4),c.qZA(),c.qZA(),c.kcU(),c._UZ(7,"div",5),c.Hsn(8),c.TgZ(9,"button",6),c.NdJ("click",function(){return s.previousClicked()}),c.qZA(),c.TgZ(10,"button",7),c.NdJ("click",function(){return s.nextClicked()}),c.qZA(),c.qZA(),c.qZA()),2&n&&(c.xp6(2),c.uIk("aria-label",s.periodButtonLabel)("aria-describedby",s._buttonDescriptionId),c.xp6(1),c.uIk("id",s._buttonDescriptionId),c.xp6(1),c.Oqu(s.periodButtonText),c.xp6(1),c.ekj("mat-calendar-invert","month"!==s.calendar.currentView),c.xp6(4),c.Q6J("disabled",!s.previousEnabled()),c.uIk("aria-label",s.prevButtonLabel),c.xp6(1),c.Q6J("disabled",!s.nextEnabled()),c.uIk("aria-label",s.nextButtonLabel))},directives:[tl,h],encapsulation:2,changeDetection:0}),r})(),ZO=(()=>{class r{constructor(n,s,o,d){this._dateAdapter=s,this._dateFormats=o,this._changeDetectorRef=d,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new c.vpe,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this._userSelection=new c.vpe,this.stateChanges=new xe.xQ,this._intlChanges=n.changes.subscribe(()=>{d.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get selected(){return this._selected}set selected(n){this._selected=n instanceof Qr?n:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get minDate(){return this._minDate}set minDate(n){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get maxDate(){return this._maxDate}set maxDate(n){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get activeDate(){return this._clampedActiveDate}set activeDate(n){this._clampedActiveDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(n){const s=this._currentView!==n?n:null;this._currentView=n,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),s&&this.viewChanged.emit(s)}ngAfterContentInit(){this._calendarHeaderPortal=new Jm(this.headerComponent||_$),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(n){const s=n.minDate||n.maxDate||n.dateFilter;if(s&&!s.firstChange){const o=this._getCurrentViewComponent();o&&(this._changeDetectorRef.detectChanges(),o._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(n){const s=n.value;(this.selected instanceof Qr||s&&!this._dateAdapter.sameDate(s,this.selected))&&this.selectedChange.emit(s),this._userSelection.emit(n)}_yearSelectedInMultiYearView(n){this.yearSelected.emit(n)}_monthSelectedInYearView(n){this.monthSelected.emit(n)}_goToDateInView(n,s){this.activeDate=n,this.currentView=s}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(tD),c.Y36(fi,8),c.Y36(oc,8),c.Y36(c.sBO))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-calendar"]],viewQuery:function(n,s){if(1&n&&(c.Gf(g2,5),c.Gf(b2,5),c.Gf(_2,5)),2&n){let o;c.iGM(o=c.CRH())&&(s.monthView=o.first),c.iGM(o=c.CRH())&&(s.yearView=o.first),c.iGM(o=c.CRH())&&(s.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[c._Bn([m2]),c.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(n,s){1&n&&(c.YNc(0,Wz,0,0,"ng-template",0),c.TgZ(1,"div",1),c.YNc(2,Kz,1,8,"mat-month-view",2),c.YNc(3,Qz,1,6,"mat-year-view",3),c.YNc(4,Jz,1,6,"mat-multi-year-view",4),c.qZA()),2&n&&(c.Q6J("cdkPortalOutlet",s._calendarHeaderPortal),c.xp6(1),c.Q6J("ngSwitch",s.currentView),c.xp6(1),c.Q6J("ngSwitchCase","month"),c.xp6(1),c.Q6J("ngSwitchCase","year"),c.xp6(1),c.Q6J("ngSwitchCase","multi-year"))},directives:[cf,w,Ji,Cn,g2,b2,_2],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),r})();const C2={transformPanel:Nr("transformPanel",[_n("void => enter-dropdown",_i("120ms cubic-bezier(0, 0, 0.2, 1)",Kv([Kt({opacity:0,transform:"scale(1, 0.8)"}),Kt({opacity:1,transform:"scale(1, 1)"})]))),_n("void => enter-dialog",_i("150ms cubic-bezier(0, 0, 0.2, 1)",Kv([Kt({opacity:0,transform:"scale(0.7)"}),Kt({transform:"none",opacity:1})]))),_n("* => void",_i("100ms linear",Kt({opacity:0})))]),fadeInCalendar:Nr("fadeInCalendar",[tr("void",Kt({opacity:0})),tr("enter",Kt({opacity:1})),_n("void => *",_i("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let y$=0;const w2=new c.OlP("mat-datepicker-scroll-strategy"),b$={provide:w2,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},C$=el(class{constructor(r){this._elementRef=r}});let w$=(()=>{class r extends C${constructor(n,s,o,d,f,_){super(n),this._changeDetectorRef=s,this._globalModel=o,this._dateAdapter=d,this._rangeSelectionStrategy=f,this._subscriptions=new Rt.w,this._animationDone=new xe.xQ,this._actionsPortal=null,this._closeButtonText=_.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(n){const s=this._model.selection,o=n.value,d=s instanceof Qr;if(d&&this._rangeSelectionStrategy){const f=this._rangeSelectionStrategy.selectionFinished(o,s,n.event);this._model.updateSelection(f,this)}else o&&(d||!this._dateAdapter.sameDate(o,s))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(_f),c.Y36(fi),c.Y36($I,8),c.Y36(tD))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-datepicker-content"]],viewQuery:function(n,s){if(1&n&&c.Gf(ZO,5),2&n){let o;c.iGM(o=c.CRH())&&(s._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(n,s){1&n&&c.WFA("@transformPanel.done",function(){return s._animationDone.next()}),2&n&&(c.d8E("@transformPanel",s._animationState),c.ekj("mat-datepicker-content-touch",s.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[c.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(n,s){1&n&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-calendar",1),c.NdJ("yearSelected",function(d){return s.datepicker._selectYear(d)})("monthSelected",function(d){return s.datepicker._selectMonth(d)})("viewChanged",function(d){return s.datepicker._viewChanged(d)})("_userSelection",function(d){return s._handleUserSelection(d)}),c.qZA(),c.YNc(2,Xz,0,0,"ng-template",2),c.TgZ(3,"button",3),c.NdJ("focus",function(){return s._closeButtonFocused=!0})("blur",function(){return s._closeButtonFocused=!1})("click",function(){return s.datepicker.close()}),c._uU(4),c.qZA(),c.qZA()),2&n&&(c.ekj("mat-datepicker-content-container-with-actions",s._actionsPortal),c.xp6(1),c.Q6J("id",s.datepicker.id)("ngClass",s.datepicker.panelClass)("startAt",s.datepicker.startAt)("startView",s.datepicker.startView)("minDate",s.datepicker._getMinDate())("maxDate",s.datepicker._getMaxDate())("dateFilter",s.datepicker._getDateFilter())("headerComponent",s.datepicker.calendarHeaderComponent)("selected",s._getSelected())("dateClass",s.datepicker.dateClass)("comparisonStart",s.comparisonStart)("comparisonEnd",s.comparisonEnd)("@fadeInCalendar","enter"),c.xp6(1),c.Q6J("cdkPortalOutlet",s._actionsPortal),c.xp6(1),c.ekj("cdk-visually-hidden",!s._closeButtonFocused),c.Q6J("color",s.color||"primary"),c.xp6(1),c.Oqu(s._closeButtonText))},directives:[vE,ZO,fr,cf,tl],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[C2.transformPanel,C2.fadeInCalendar]},changeDetection:0}),r})(),lg=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I){this._overlay=s,this._ngZone=o,this._viewContainerRef=d,this._dateAdapter=_,this._dir=C,this._model=I,this._inputStateChanges=Rt.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new c.vpe,this.monthSelected=new c.vpe,this.viewChanged=new c.vpe(!0),this.openedStream=new c.vpe,this.closedStream=new c.vpe,this._opened=!1,this.id="mat-datepicker-"+y$++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new xe.xQ,this._scrollStrategy=f}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(n){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(n){this._color=n}get touchUi(){return this._touchUi}set touchUi(n){this._touchUi=qe(n)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(n){const s=qe(n);s!==this._disabled&&(this._disabled=s,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(n){this._restoreFocus=qe(n)}get panelClass(){return this._panelClass}set panelClass(n){this._panelClass=uE(n)}get opened(){return this._opened}set opened(n){qe(n)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(n){const s=n.xPosition||n.yPosition;if(s&&!s.firstChange&&this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;o instanceof TR&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(n){this._model.add(n)}_selectYear(n){this.yearSelected.emit(n)}_selectMonth(n){this.monthSelected.emit(n)}_viewChanged(n){this.viewChanged.emit(n)}registerInput(n){return this._inputStateChanges.unsubscribe(),this.datepickerInput=n,this._inputStateChanges=n.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(n){this._actionsPortal=n}removeActions(n){n===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=zm(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const s=this._componentRef.instance;s._startExitAnimation(),s._animationDone.pipe(un(1)).subscribe(()=>this._destroyOverlay())}const n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}_applyPendingSelection(){var n,s;null===(s=null===(n=this._componentRef)||void 0===n?void 0:n.instance)||void 0===s||s._applyPendingSelection()}_forwardContentValues(n){n.datepicker=this,n.color=this.color,n._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const n=this.touchUi,s=this.datepickerInput.getOverlayLabelId(),o=new Jm(w$,this._viewContainerRef),d=this._overlayRef=this._overlay.create(new Xm({positionStrategy:n?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[n?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:n?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(n?"dialog":"popup")})),f=d.overlayElement;f.setAttribute("role","dialog"),s&&f.setAttribute("aria-labelledby",s),n&&f.setAttribute("aria-modal","true"),this._getCloseStream(d).subscribe(_=>{_&&_.preventDefault(),this.close()}),this._componentRef=d.attach(o),this._forwardContentValues(this._componentRef.instance),n||this._ngZone.onStable.pipe(un(1)).subscribe(()=>d.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const n=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(n)}_setConnectedPositions(n){const s="end"===this.xPosition?"end":"start",o="start"===s?"end":"start",d="above"===this.yPosition?"bottom":"top",f="top"===d?"bottom":"top";return n.withPositions([{originX:s,originY:f,overlayX:s,overlayY:d},{originX:s,originY:d,overlayX:s,overlayY:f},{originX:o,originY:f,overlayX:o,overlayY:d},{originX:o,originY:d,overlayX:o,overlayY:f}])}_getCloseStream(n){return(0,Vn.T)(n.backdropClick(),n.detachments(),n.keydownEvents().pipe(qt(s=>27===s.keyCode&&!lr(s)||this.datepickerInput&&lr(s,"altKey")&&38===s.keyCode)))}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Cs),c.Y36(c.R0b),c.Y36(c.s_b),c.Y36(w2),c.Y36(fi,8),c.Y36(ne,8),c.Y36(q,8),c.Y36(_f))},r.\u0275dir=c.lG2({type:r,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[c.TTD]}),r})(),E2=(()=>{class r extends lg{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[c._Bn([m2,{provide:lg,useExisting:r}]),c.qOj],decls:0,vars:0,template:function(n,s){},encapsulation:2,changeDetection:0}),r})();class YI{constructor(i,n){this.target=i,this.targetElement=n,this.value=this.target.value}}let D2=(()=>{class r{constructor(n,s,o){this._elementRef=n,this._dateAdapter=s,this._dateFormats=o,this.dateChange=new c.vpe,this.dateInput=new c.vpe,this.stateChanges=new xe.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Rt.w.EMPTY,this._localeSubscription=Rt.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=d=>{const f=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value));return!f||this._matchesFilter(f)?null:{matDatepickerFilter:!0}},this._minValidator=d=>{const f=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),_=this._getMinDate();return!_||!f||this._dateAdapter.compareDate(_,f)<=0?null:{matDatepickerMin:{min:_,actual:f}}},this._maxValidator=d=>{const f=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(d.value)),_=this._getMaxDate();return!_||!f||this._dateAdapter.compareDate(_,f)>=0?null:{matDatepickerMax:{max:_,actual:f}}},this._lastValueValid=!1,this._localeSubscription=s.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(n){this._assignValueProgrammatically(n)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(n){const s=qe(n),o=this._elementRef.nativeElement;this._disabled!==s&&(this._disabled=s,this.stateChanges.next(void 0)),s&&this._isInitialized&&o.blur&&o.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(n){this._model=n,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(s=>{if(this._shouldHandleChangeEvent(s)){const o=this._getValueFromModel(s.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new YI(this,this._elementRef.nativeElement)),this.dateChange.emit(new YI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(n){(function(r,i){const n=Object.keys(r);for(let s of n){const{previousValue:o,currentValue:d}=r[s];if(!i.isDateInstance(o)||!i.isDateInstance(d))return!0;if(!i.sameDate(o,d))return!0}return!1})(n,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(n){this._validatorOnChange=n}validate(n){return this._validator?this._validator(n):null}writeValue(n){this._assignValueProgrammatically(n)}registerOnChange(n){this._cvaOnChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_onKeydown(n){n.altKey&&40===n.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),n.preventDefault())}_onInput(n){const s=this._lastValueValid;let o=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o),this._dateAdapter.sameDate(o,this.value)?(n&&!this.value&&this._cvaOnChange(o),s!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(o),this._cvaOnChange(o),this.dateInput.emit(new YI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new YI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(n){this._elementRef.nativeElement.value=n?this._dateAdapter.format(n,this._dateFormats.display.dateInput):""}_assignValue(n){this._model?(this._assignValueToModel(n),this._pendingValue=null):this._pendingValue=n}_isValidValue(n){return!n||this._dateAdapter.isValid(n)}_parentDisabled(){return!1}_assignValueProgrammatically(n){n=this._dateAdapter.deserialize(n),this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._assignValue(n),this._formatValue(n)}_matchesFilter(n){const s=this._getDateFilter();return!s||s(n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(fi,8),c.Y36(oc,8))},r.\u0275dir=c.lG2({type:r,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[c.TTD]}),r})();const E$={provide:Es,useExisting:(0,c.Gpc)(()=>qI),multi:!0},D$={provide:Li,useExisting:(0,c.Gpc)(()=>qI),multi:!0};let qI=(()=>{class r extends D2{constructor(n,s,o,d){super(n,s,o),this._formField=d,this._closedSubscription=Rt.w.EMPTY,this._validator=Ds.compose(super._getValidators())}set matDatepicker(n){n&&(this._datepicker=n,this._closedSubscription=n.closedStream.subscribe(()=>this._onTouched()),this._registerModel(n.registerInput(this)))}get min(){return this._min}set min(n){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(s,this._min)||(this._min=s,this._validatorOnChange())}get max(){return this._max}set max(n){const s=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(n));this._dateAdapter.sameDate(s,this._max)||(this._max=s,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(n){const s=this._matchesFilter(this.value);this._dateFilter=n,this._matchesFilter(this.value)!==s&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(n){return n}_assignValueToModel(n){this._model&&this._model.updateSelection(n,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(n){return n.source!==this}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(fi,8),c.Y36(oc,8),c.Y36(Rv,8))},r.\u0275dir=c.lG2({type:r,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,s){1&n&&c.NdJ("input",function(d){return s._onInput(d.target.value)})("change",function(){return s._onChange()})("blur",function(){return s._onBlur()})("keydown",function(d){return s._onKeydown(d)}),2&n&&(c.Ikx("disabled",s.disabled),c.uIk("aria-haspopup",s._datepicker?"dialog":null)("aria-owns",(null==s._datepicker?null:s._datepicker.opened)&&s._datepicker.id||null)("min",s.min?s._dateAdapter.toIso8601(s.min):null)("max",s.max?s._dateAdapter.toIso8601(s.max):null)("data-mat-calendar",s._datepicker?s._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[c._Bn([E$,D$,{provide:f2,useExisting:r}]),c.qOj]}),r})(),S$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","matDatepickerToggleIcon",""]]}),r})(),T2=(()=>{class r{constructor(n,s,o){this._intl=n,this._changeDetectorRef=s,this._stateChanges=Rt.w.EMPTY;const d=Number(o);this.tabIndex=d||0===d?d:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(n){this._disabled=qe(n)}ngOnChanges(n){n.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(n){this.datepicker&&!this.disabled&&(this.datepicker.open(),n.stopPropagation())}_watchStateChanges(){const n=this.datepicker?this.datepicker.stateChanges:(0,Ue.of)(),s=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ue.of)(),o=this.datepicker?(0,Vn.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ue.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Vn.T)(this._intl.changes,n,s,o).subscribe(()=>this._changeDetectorRef.markForCheck())}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(tD),c.Y36(c.sBO),c.$8M("tabindex"))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,s,o){if(1&n&&c.Suo(o,S$,5),2&n){let d;c.iGM(d=c.CRH())&&(s._customIcon=d.first)}},viewQuery:function(n,s){if(1&n&&c.Gf(e$,5),2&n){let o;c.iGM(o=c.CRH())&&(s._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,s){1&n&&c.NdJ("click",function(d){return s._open(d)}),2&n&&(c.uIk("tabindex",null)("data-mat-calendar",s.datepicker?s.datepicker.id:null),c.ekj("mat-datepicker-toggle-active",s.datepicker&&s.datepicker.opened)("mat-accent",s.datepicker&&"accent"===s.datepicker.color)("mat-warn",s.datepicker&&"warn"===s.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[c.TTD],ngContentSelectors:i$,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,s){1&n&&(c.F$t(n$),c.TgZ(0,"button",0,1),c.YNc(2,t$,2,0,"svg",2),c.Hsn(3),c.qZA()),2&n&&(c.Q6J("disabled",s.disabled)("disableRipple",s.disableRipple),c.uIk("aria-haspopup",s.datepicker?"dialog":null)("aria-label",s.ariaLabel||s._intl.openCalendarLabel)("tabindex",s.disabled?-1:s.tabIndex),c.xp6(2),c.Q6J("ngIf",!s._customIcon))},directives:[tl,oi],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),r})(),A$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[tD,b$],imports:[[pr,NI,bv,P,QM,Vt],Ou]}),r})();const k$=["panel"];function x$(r,i){if(1&r&&(c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA()),2&r){const n=i.id,s=c.oxw();c.Q6J("id",s.id)("ngClass",s._classList),c.uIk("aria-label",s.ariaLabel||null)("aria-labelledby",s._getPanelAriaLabelledby(n))}}const R$=["*"];let O$=0;class P${constructor(i,n){this.source=i,this.option=n}}const F$=yv(class{}),I2=new c.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let L$=(()=>{class r extends F${constructor(n,s,o,d){super(),this._changeDetectorRef=n,this._elementRef=s,this._activeOptionChanges=Rt.w.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new c.vpe,this.opened=new c.vpe,this.closed=new c.vpe,this.optionActivated=new c.vpe,this._classList={},this.id="mat-autocomplete-"+O$++,this.inertGroups=(null==d?void 0:d.SAFARI)||!1,this._autoActiveFirstOption=!!o.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(n){this._autoActiveFirstOption=qe(n)}set classList(n){this._classList=n&&n.length?uE(n).reduce((s,o)=>(s[o]=!0,s),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new NM(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(n=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[n]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(n){this.panel&&(this.panel.nativeElement.scrollTop=n)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(n){const s=new P$(this,n);this.optionSelected.emit(s)}_getPanelAriaLabelledby(n){return this.ariaLabel?null:this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_setVisibilityClasses(n){n[this._visibleClass]=this.showPanel,n[this._hiddenClass]=!this.showPanel}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(I2),c.Y36(Wt))},r.\u0275dir=c.lG2({type:r,viewQuery:function(n,s){if(1&n&&(c.Gf(c.Rgc,7),c.Gf(k$,5)),2&n){let o;c.iGM(o=c.CRH())&&(s.template=o.first),c.iGM(o=c.CRH())&&(s.panel=o.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[c.qOj]}),r})(),V$=(()=>{class r extends L${constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,zM,5),c.Suo(o,SE,5)),2&n){let d;c.iGM(d=c.CRH())&&(s.optionGroups=d),c.iGM(d=c.CRH())&&(s.options=d)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[c._Bn([{provide:GM,useExisting:r}]),c.qOj],ngContentSelectors:R$,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(n,s){1&n&&(c.F$t(),c.YNc(0,x$,3,4,"ng-template"))},directives:[fr],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),r})();const A2=new c.OlP("mat-autocomplete-scroll-strategy"),H$={provide:A2,deps:[Cs],useFactory:function(r){return()=>r.scrollStrategies.reposition()}},j$={provide:Es,useExisting:(0,c.Gpc)(()=>k2),multi:!0};let G$=(()=>{class r{constructor(n,s,o,d,f,_,C,T,I,x,L){this._element=n,this._overlay=s,this._viewContainerRef=o,this._zone=d,this._changeDetectorRef=f,this._dir=C,this._formField=T,this._document=I,this._viewportRuler=x,this._defaults=L,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Rt.w.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new xe.xQ,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=xE(()=>this.autocomplete&&this.autocomplete.options?(0,Vn.T)(...this.autocomplete.options.map(V=>V.onSelectionChange)):this._zone.onStable.pipe(un(1),Bn(()=>this.optionSelections))),this._scrollStrategy=_}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(n){this._autocompleteDisabled=qe(n)}ngAfterViewInit(){const n=this._getWindow();void 0!==n&&this._zone.runOutsideAngular(()=>n.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(n){n.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const n=this._getWindow();void 0!==n&&n.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,Vn.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(qt(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(qt(()=>this._overlayAttached)):(0,Ue.of)()).pipe((0,Je.U)(n=>n instanceof rF?n:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,Vn.T)(Ru(this._document,"click"),Ru(this._document,"auxclick"),Ru(this._document,"touchend")).pipe(qt(n=>{const s=js(n),o=this._formField?this._formField._elementRef.nativeElement:null,d=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&s!==this._element.nativeElement&&(!o||!o.contains(s))&&(!d||!d.contains(s))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(s)}))}writeValue(n){Promise.resolve(null).then(()=>this._setTriggerValue(n))}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._element.nativeElement.disabled=n}_handleKeydown(n){const s=n.keyCode;if(27===s&&!lr(n)&&n.preventDefault(),this.activeOption&&13===s&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),n.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,d=38===s||40===s;this.panelOpen||9===s?this.autocomplete._keyManager.onKeydown(n):d&&this._canOpen()&&this.openPanel(),(d||this.autocomplete._keyManager.activeItem!==o)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(n){let s=n.target,o=s.value;"number"===s.type&&(o=""==o?null:parseFloat(o)),this._previousValue!==o&&(this._previousValue=o,this._onChange(o),this._canOpen()&&this._document.activeElement===n.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(n=!1){this._formField&&"auto"===this._formField.floatLabel&&(n?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const n=this._zone.onStable.pipe(un(1)),s=this.autocomplete.options.changes.pipe((0,Ni.b)(()=>this._positionStrategy.reapplyLastPosition()),wR(0));return(0,Vn.T)(n,s).pipe(Bn(()=>{const o=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),o!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),un(1)).subscribe(o=>this._setValueAndClose(o))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(n){const s=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(n):n,o=null!=s?s:"";this._formField?this._formField._control.value=o:this._element.nativeElement.value=o,this._previousValue=o}_setValueAndClose(n){n&&n.source&&(this._clearPreviousSelectedOption(n.source),this._setTriggerValue(n.source.value),this._onChange(n.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(n.source)),this.closePanel()}_clearPreviousSelectedOption(n){this.autocomplete.options.forEach(s=>{s!==n&&s.selected&&s.deselect()})}_attachOverlay(){var n;let s=this._overlayRef;s?(this._positionStrategy.setOrigin(this._getConnectedElement()),s.updateSize({width:this._getPanelWidth()})):(this._portal=new Pu(this.autocomplete.template,this._viewContainerRef,{id:null===(n=this._formField)||void 0===n?void 0:n.getLabelId()}),s=this._overlay.create(this._getOverlayConfig()),this._overlayRef=s,s.keydownEvents().subscribe(d=>{(27===d.keyCode&&!lr(d)||38===d.keyCode&&lr(d,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),d.stopPropagation(),d.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&s&&s.updateSize({width:this._getPanelWidth()})})),s&&!s.hasAttached()&&(s.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const o=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&o!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var n;return new Xm({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(n=this._defaults)||void 0===n?void 0:n.overlayPanelClass})}_getOverlayPosition(){const n=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(n),this._positionStrategy=n,n}_setStrategyPositions(n){const s=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,d=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}];let f;f="above"===this.position?d:"below"===this.position?s:[...s,...d],n.withPositions(f)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const n=this.autocomplete;n.autoActiveFirstOption?n._keyManager.setFirstItemActive():n._keyManager.setActiveItem(-1)}_canOpen(){const n=this._element.nativeElement;return!n.readOnly&&!n.disabled&&!this._autocompleteDisabled}_getWindow(){var n;return(null===(n=this._document)||void 0===n?void 0:n.defaultView)||window}_scrollToOption(n){const s=this.autocomplete,o=mR(n,s.options,s.optionGroups);if(0===n&&1===o)s._setScrollTop(0);else if(s.panel){const d=s.options.toArray()[n];if(d){const f=d._getHostElement(),_=sF(f.offsetTop,f.offsetHeight,s._getScrollTop(),s.panel.nativeElement.offsetHeight);s._setScrollTop(_)}}}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(Cs),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(A2),c.Y36(ne,8),c.Y36(Rv,9),c.Y36(q,8),c.Y36(ac),c.Y36(I2,8))},r.\u0275dir=c.lG2({type:r,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[c.TTD]}),r})(),k2=(()=>{class r extends G${constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=c.n5z(r)))(s||r)}}(),r.\u0275dir=c.lG2({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(n,s){1&n&&c.NdJ("focusin",function(){return s._handleFocus()})("blur",function(){return s._onTouched()})("input",function(d){return s._handleInput(d)})("keydown",function(d){return s._handleKeydown(d)}),2&n&&c.uIk("autocomplete",s.autocompleteAttribute)("role",s.autocompleteDisabled?null:"combobox")("aria-autocomplete",s.autocompleteDisabled?null:"list")("aria-activedescendant",s.panelOpen&&s.activeOption?s.activeOption.id:null)("aria-expanded",s.autocompleteDisabled?null:s.panelOpen.toString())("aria-owns",s.autocompleteDisabled||!s.panelOpen||null==s.autocomplete?null:s.autocomplete.id)("aria-haspopup",!s.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[c._Bn([j$]),c.qOj]}),r})(),z$=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[H$],imports:[[bv,$M,Vt,pr],Ou,$M,Vt]}),r})();const $$=["*"],x2=new c.OlP("MatChipRemove"),R2=new c.OlP("MatChipAvatar"),O2=new c.OlP("MatChipTrailingIcon");class Y${constructor(i){this._elementRef=i}}const q$=fR(el(yv(Y$),"primary"),-1);let iD=(()=>{class r extends q${constructor(n,s,o,d,f,_,C,T){super(n),this._ngZone=s,this._changeDetectorRef=f,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new xe.xQ,this._onBlur=new xe.xQ,this.selectionChange=new c.vpe,this.destroyed=new c.vpe,this.removed=new c.vpe,this._addHostClassName(),this._chipRippleTarget=_.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new tF(this,s,this._chipRippleTarget,o),this._chipRipple.setupTriggerEvents(n),this.rippleConfig=d||{},this._animationsDisabled="NoopAnimations"===C,this.tabIndex=null!=T&&parseInt(T)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(n){const s=qe(n);s!==this._selected&&(this._selected=s,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(n){this._value=n}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(n){this._selectable=qe(n)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(n){this._disabled=qe(n)}get removable(){return this._removable}set removable(n){this._removable=qe(n)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const n="mat-basic-chip",s=this._elementRef.nativeElement;s.hasAttribute(n)||s.tagName.toLowerCase()===n?s.classList.add(n):s.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(n=!1){return this._selected=!this.selected,this._dispatchSelectionChange(n),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(n){this.disabled?n.preventDefault():n.stopPropagation()}_handleKeydown(n){if(!this.disabled)switch(n.keyCode){case 46:case 8:this.remove(),n.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),n.preventDefault()}}_blur(){this._ngZone.onStable.pipe(un(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(n=!1){this.selectionChange.emit({source:this,isUserInput:n,selected:this._selected})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Wt),c.Y36(nF,8),c.Y36(c.sBO),c.Y36(q),c.Y36(K,8),c.$8M("tabindex"))},r.\u0275dir=c.lG2({type:r,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(n,s,o){if(1&n&&(c.Suo(o,R2,5),c.Suo(o,O2,5),c.Suo(o,x2,5)),2&n){let d;c.iGM(d=c.CRH())&&(s.avatar=d.first),c.iGM(d=c.CRH())&&(s.trailingIcon=d.first),c.iGM(d=c.CRH())&&(s.removeIcon=d.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(n,s){1&n&&c.NdJ("click",function(d){return s._handleClick(d)})("keydown",function(d){return s._handleKeydown(d)})("focus",function(){return s.focus()})("blur",function(){return s._blur()}),2&n&&(c.uIk("tabindex",s.disabled?null:s.tabIndex)("disabled",s.disabled||null)("aria-disabled",s.disabled.toString())("aria-selected",s.ariaSelected),c.ekj("mat-chip-selected",s.selected)("mat-chip-with-avatar",s.avatar)("mat-chip-with-trailing-icon",s.trailingIcon||s.removeIcon)("mat-chip-disabled",s.disabled)("_mat-animation-noopable",s._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[c.qOj]}),r})();const P2=new c.OlP("mat-chips-default-options"),Q$=UM(class{constructor(r,i,n,s){this._defaultErrorStateMatcher=r,this._parentForm=i,this._parentFormGroup=n,this.ngControl=s}});let J$=0;class X${constructor(i,n){this.source=i,this.value=n}}let WO=(()=>{class r extends Q${constructor(n,s,o,d,f,_,C){super(_,d,f,C),this._elementRef=n,this._changeDetectorRef=s,this._dir=o,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new xe.xQ,this._uid="mat-chip-list-"+J$++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(T,I)=>T===I,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new c.vpe,this.valueChange=new c.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var n,s;return this.multiple?(null===(n=this._selectionModel)||void 0===n?void 0:n.selected)||[]:null===(s=this._selectionModel)||void 0===s?void 0:s.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(n){this._multiple=qe(n),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this.writeValue(n),this._value=n}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(n){this._required=qe(n),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(n){this._disabled=qe(n),this._syncChipsState()}get selectable(){return this._selectable}set selectable(n){this._selectable=qe(n),this.chips&&this.chips.forEach(s=>s.chipListSelectable=this._selectable)}set tabIndex(n){this._userTabIndex=n,this._tabIndex=n}get chipSelectionChanges(){return(0,Vn.T)(...this.chips.map(n=>n.selectionChange))}get chipFocusChanges(){return(0,Vn.T)(...this.chips.map(n=>n._onFocus))}get chipBlurChanges(){return(0,Vn.T)(...this.chips.map(n=>n._onBlur))}get chipRemoveChanges(){return(0,Vn.T)(...this.chips.map(n=>n.destroyed))}ngAfterContentInit(){this._keyManager=new aa(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Pt(this._destroyed)).subscribe(n=>this._keyManager.withHorizontalOrientation(n)),this._keyManager.tabOut.pipe(Pt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(Qt(null),Pt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new gF(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(n){this._chipInput=n,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",n.id)}setDescribedByIds(n){this._ariaDescribedby=n.join(" ")}writeValue(n){this.chips&&this._setSelectionByValue(n,!1)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this.stateChanges.next()}onContainerClick(n){this._originatesFromChip(n)||this.focus()}focus(n){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(n),this.stateChanges.next()))}_focusInput(n){this._chipInput&&this._chipInput.focus(n)}_keydown(n){const s=n.target;s&&s.classList.contains("mat-chip")&&(this._keyManager.onKeydown(n),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const n=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(n)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(n){return n>=0&&n<this.chips.length}_setSelectionByValue(n,s=!0){if(this._clearSelection(),this.chips.forEach(o=>o.deselect()),Array.isArray(n))n.forEach(o=>this._selectValue(o,s)),this._sortValues();else{const o=this._selectValue(n,s);o&&s&&this._keyManager.setActiveItem(o)}}_selectValue(n,s=!0){const o=this.chips.find(d=>null!=d.value&&this._compareWith(d.value,n));return o&&(s?o.selectViaInteraction():o.select(),this._selectionModel.select(o)),o}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(n){this._selectionModel.clear(),this.chips.forEach(s=>{s!==n&&s.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(n=>{n.selected&&this._selectionModel.select(n)}),this.stateChanges.next())}_propagateChanges(n){let s=null;s=Array.isArray(this.selected)?this.selected.map(o=>o.value):this.selected?this.selected.value:n,this._value=s,this.change.emit(new X$(this,s)),this.valueChange.emit(s),this._onChange(s),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(n=>{n.source.selected?this._selectionModel.select(n.source):this._selectionModel.deselect(n.source),this.multiple||this.chips.forEach(s=>{!this._selectionModel.isSelected(s)&&s.selected&&s.deselect()}),n.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(n=>{let s=this.chips.toArray().indexOf(n.chip);this._isValidIndex(s)&&this._keyManager.updateActiveItem(s),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(n=>{const s=n.chip,o=this.chips.toArray().indexOf(n.chip);this._isValidIndex(o)&&s._hasFocus&&(this._lastDestroyedChipIndex=o)})}_originatesFromChip(n){let s=n.target;for(;s&&s!==this._elementRef.nativeElement;){if(s.classList.contains("mat-chip"))return!0;s=s.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(n=>n._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(n=>{n._chipListDisabled=this._disabled,n._chipListMultiple=this.multiple})}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ne,8),c.Y36(Lu,8),c.Y36(ua,8),c.Y36(lf),c.Y36(ca,10))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-chip-list"]],contentQueries:function(n,s,o){if(1&n&&c.Suo(o,iD,5),2&n){let d;c.iGM(d=c.CRH())&&(s.chips=d)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(n,s){1&n&&c.NdJ("focus",function(){return s.focus()})("blur",function(){return s._blur()})("keydown",function(d){return s._keydown(d)}),2&n&&(c.Ikx("id",s._uid),c.uIk("tabindex",s.disabled?null:s._tabIndex)("aria-describedby",s._ariaDescribedby||null)("aria-required",s.role?s.required:null)("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-multiselectable",s.multiple)("role",s.role)("aria-orientation",s.ariaOrientation),c.ekj("mat-chip-list-disabled",s.disabled)("mat-chip-list-invalid",s.errorState)("mat-chip-list-required",s.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[c._Bn([{provide:xv,useExisting:r}]),c.qOj],ngContentSelectors:$$,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),r})();const nY={separatorKeyCodes:[13]};let iY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[lf,{provide:P2,useValue:nY}],imports:[[Vt]]}),r})();const rY=["input"],sY=function(r){return{enterDuration:r}},oY=["*"],aY=new c.OlP("mat-checkbox-default-options",{providedIn:"root",factory:F2});function F2(){return{color:"accent",clickAction:"check-indeterminate"}}let lY=0;const N2=F2(),cY={provide:Es,useExisting:(0,c.Gpc)(()=>L2),multi:!0};class uY{}const dY=fR(el(yv(ku(class{constructor(r){this._elementRef=r}}))));let L2=(()=>{class r extends dY{constructor(n,s,o,d,f,_,C){super(n),this._changeDetectorRef=s,this._focusMonitor=o,this._ngZone=d,this._animationMode=_,this._options=C,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++lY,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new c.vpe,this.indeterminateChange=new c.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||N2,this.color=this.defaultColor=this._options.color||N2.color,this.tabIndex=parseInt(f)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(n){this._required=qe(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){const s=qe(n);s!==this.disabled&&(this._disabled=s,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){const s=n!=this._indeterminate;this._indeterminate=qe(n),s&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(n){let s=this._currentCheckState,o=this._elementRef.nativeElement;if(s!==n&&(this._currentAnimationClass.length>0&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);const d=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(d)},1e3)})}}_emitChangeEvent(){const n=new uY;n.source=this,n.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(n),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked}_onInputClick(n){var s;const o=null===(s=this._options)||void 0===s?void 0:s.clickAction;n.stopPropagation(),this.disabled||"noop"===o?!this.disabled&&"noop"===o&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==o&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(n,s){n?this._focusMonitor.focusVia(this._inputElement,n,s):this._inputElement.nativeElement.focus(s)}_onInteractionEvent(n){n.stopPropagation()}_getAnimationClassForCheckStateTransition(n,s){if("NoopAnimations"===this._animationMode)return"";let o="";switch(n){case 0:if(1===s)o="unchecked-checked";else{if(3!=s)return"";o="unchecked-indeterminate"}break;case 2:o=1===s?"unchecked-checked":"unchecked-indeterminate";break;case 1:o=2===s?"checked-unchecked":"checked-indeterminate";break;case 3:o=1===s?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${o}`}_syncIndeterminate(n){const s=this._inputElement;s&&(s.nativeElement.indeterminate=n)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(b),c.Y36(c.R0b),c.$8M("tabindex"),c.Y36(K,8),c.Y36(aY,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-checkbox"]],viewQuery:function(n,s){if(1&n&&(c.Gf(rY,5),c.Gf(Wm,5)),2&n){let o;c.iGM(o=c.CRH())&&(s._inputElement=o.first),c.iGM(o=c.CRH())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(n,s){2&n&&(c.Ikx("id",s.id),c.uIk("tabindex",null),c.ekj("mat-checkbox-indeterminate",s.indeterminate)("mat-checkbox-checked",s.checked)("mat-checkbox-disabled",s.disabled)("mat-checkbox-label-before","before"==s.labelPosition)("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[c._Bn([cY]),c.qOj],ngContentSelectors:oY,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(n,s){if(1&n&&(c.F$t(),c.TgZ(0,"label",0,1),c.TgZ(2,"span",2),c.TgZ(3,"input",3,4),c.NdJ("change",function(d){return s._onInteractionEvent(d)})("click",function(d){return s._onInputClick(d)}),c.qZA(),c.TgZ(5,"span",5),c._UZ(6,"span",6),c.qZA(),c._UZ(7,"span",7),c.TgZ(8,"span",8),c.O4$(),c.TgZ(9,"svg",9),c._UZ(10,"path",10),c.qZA(),c.kcU(),c._UZ(11,"span",11),c.qZA(),c.qZA(),c.TgZ(12,"span",12,13),c.NdJ("cdkObserveContent",function(){return s._onLabelTextChange()}),c.TgZ(14,"span",14),c._uU(15,"\xa0"),c.qZA(),c.Hsn(16),c.qZA(),c.qZA()),2&n){const o=c.MAs(1),d=c.MAs(13);c.uIk("for",s.inputId),c.xp6(2),c.ekj("mat-checkbox-inner-container-no-side-margin",!d.textContent||!d.textContent.trim()),c.xp6(1),c.Q6J("id",s.inputId)("required",s.required)("checked",s.checked)("disabled",s.disabled)("tabIndex",s.tabIndex),c.uIk("value",s.value)("name",s.name)("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-checked",s._getAriaChecked())("aria-describedby",s.ariaDescribedby),c.xp6(2),c.Q6J("matRippleTrigger",o)("matRippleDisabled",s._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",c.VKq(19,sY,"NoopAnimations"===s._animationMode?0:150))}},directives:[Wm,pE],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),r})(),V2=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({}),r})(),pY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[jM,Vt,mE,V2],Vt,V2]}),r})();function mY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-chip",7),c.NdJ("click",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().removeChip(o)}),c._uU(1),c.TgZ(2,"mat-icon",8),c._uU(3,"cancel"),c.qZA(),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.xp6(1),c.hij(" ",n.item.name," ")}}function gY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-chip",7),c.NdJ("click",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().removeChip(o)}),c._uU(1),c.TgZ(2,"mat-icon",8),c._uU(3,"cancel"),c.qZA(),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.xp6(1),c.hij(" ",n.item.name," ")}}function _Y(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-chip",7),c.NdJ("click",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().removeChip(o)}),c._uU(1),c.TgZ(2,"mat-icon",8),c._uU(3,"cancel"),c.qZA(),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.xp6(1),c.hij(" ",n.item," ")}}function yY(r,i){if(1&r&&(c.ynx(0),c.YNc(1,mY,4,1,"mat-chip",6),c.YNc(2,gY,4,1,"mat-chip",6),c.YNc(3,_Y,4,1,"mat-chip",6),c.BQk()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("ngIf","users"===n.type),c.xp6(1),c.Q6J("ngIf","tags"===n.type),c.xp6(1),c.Q6J("ngIf","priority"===n.type)}}function vY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-checkbox",10),c.NdJ("change",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().toggleSelection(o)})("click",function(o){return o.stopPropagation()}),c._uU(1),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.Q6J("checked",n.selected),c.xp6(1),c.hij(" ",n.item.name," ")}}function bY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-checkbox",10),c.NdJ("change",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().toggleSelection(o)})("click",function(o){return o.stopPropagation()}),c._uU(1),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.Q6J("checked",n.selected),c.xp6(1),c.hij(" ",n.item.name," ")}}function CY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-checkbox",10),c.NdJ("change",function(){c.CHM(n);const o=c.oxw().$implicit;return c.oxw().toggleSelection(o)})("click",function(o){return o.stopPropagation()}),c._uU(1),c.qZA()}if(2&r){const n=c.oxw().$implicit;c.Q6J("checked",n.selected),c.xp6(1),c.hij(" ",n.item," ")}}function wY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-option"),c.TgZ(1,"div",7),c.NdJ("click",function(o){const f=c.CHM(n).$implicit;return c.oxw().optionClicked(o,f)}),c.YNc(2,vY,2,2,"mat-checkbox",9),c.YNc(3,bY,2,2,"mat-checkbox",9),c.YNc(4,CY,2,2,"mat-checkbox",9),c.qZA(),c.qZA()}if(2&r){const n=c.oxw();c.xp6(2),c.Q6J("ngIf","users"===n.type),c.xp6(1),c.Q6J("ngIf","tags"===n.type),c.xp6(1),c.Q6J("ngIf","priority"===n.type)}}let KO=(()=>{class r{constructor(){this.result=new c.vpe,this.placeholder="Select Data",this.data=[],this.type="users",this.selectControl=new og,this.rawData=[],this.selectedData=[],this.filterString=""}ngOnInit(){var n;(null===(n=this.assignedUsers)||void 0===n?void 0:n.length)>0&&this.assignedUsers.forEach(s=>this.selectedData.push({item:s,selected:!0}))}ngOnChanges(){this.clear&&(this.selectedData=[]),this.rawData=[],this.data.forEach("users"===this.type?n=>{var s;void 0!==(null===(s=this.assignedUsers)||void 0===s?void 0:s.find(o=>n.id===o.id))?this.rawData.push({item:n,selected:!0}):this.rawData.push({item:n,selected:!1})}:n=>this.rawData.push({item:n,selected:!1})),this.filteredData=this.selectControl.valueChanges.pipe(Qt(""),(0,Je.U)(n=>"string"==typeof n?n:this.filterString),(0,Je.U)(n=>this.filter(n)))}filter(n){return this.filterString=n,"users"===this.type?n.length>0?this.rawData.filter(s=>s.item.name.toLowerCase().includes(n.toLowerCase())):this.rawData:"tags"===this.type?n.length>0?this.rawData.filter(s=>s.item.name.toLowerCase().includes(n.toLowerCase())||s.item.category.toLowerCase().includes(n.toLowerCase())):this.rawData:n.length>0?this.rawData.filter(s=>s.item.toLowerCase().includes(n.toLowerCase())):this.rawData}displayFn(){return""}removeChip(n){this.toggleSelection(n)}optionClicked(n,s){n.stopPropagation(),this.toggleSelection(s)}toggleSelection(n){if(n.selected=!n.selected,!0===n.selected)this.selectedData.push(n);else if("priority"===this.type){const s=this.selectedData.findIndex(o=>o.item===n.item);this.selectedData.splice(s,1)}else{const s=this.selectedData.findIndex(o=>o.item.id===n.item.id);this.selectedData.splice(s,1)}this.selectControl.setValue(this.selectedData),this.emitData()}emitData(){const n=[];this.selectedData.forEach(s=>{n.push(s.item)}),this.result.emit({data:n})}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-multiselect-autocomplete"]],inputs:{placeholder:"placeholder",assignedUsers:"assignedUsers",data:"data",type:"type",clear:"clear"},outputs:{result:"result"},features:[c.TTD],decls:9,vars:8,consts:[[1,"full-width"],["matInput","","type","text",3,"placeholder","matAutocomplete","formControl"],[1,"chip-list-wrapper"],[4,"ngFor","ngForOf"],[3,"displayWith"],["auto","matAutocomplete"],[3,"click",4,"ngIf"],[3,"click"],[1,"mat-chip-remove"],[3,"checked","change","click",4,"ngIf"],[3,"checked","change","click"]],template:function(n,s){if(1&n&&(c.TgZ(0,"mat-form-field",0),c._UZ(1,"input",1),c.TgZ(2,"div",2),c.TgZ(3,"mat-chip-list"),c.YNc(4,yY,4,3,"ng-container",3),c.qZA(),c.qZA(),c.TgZ(5,"mat-autocomplete",4,5),c.YNc(7,wY,5,3,"mat-option",3),c.ALo(8,"async"),c.qZA(),c.qZA()),2&n){const o=c.MAs(6);c.xp6(1),c.Q6J("placeholder",s.placeholder)("matAutocomplete",o)("formControl",s.selectControl),c.xp6(3),c.Q6J("ngForOf",s.selectedData),c.xp6(1),c.Q6J("displayWith",s.displayFn),c.xp6(2),c.Q6J("ngForOf",c.lcZ(8,6,s.filteredData))}},directives:[VO,UO,k2,Iv,EI,CO,WO,Nt,V$,oi,iD,XE,SE,L2],pipes:[yc],styles:['@charset "UTF-8";.mat-chip.mat-standard-chip[_ngcontent-%COMP%]{background-color:#2433b9;color:#fff;font-family:"Josefin Sans",sans-serif}.full-width[_ngcontent-%COMP%]{width:100%}\\200b[_ngcontent-%COMP%]   .chip-list-wrapper[_ngcontent-%COMP%]{min-height:3em}mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-bottom:6px;caret-color:#fff}  .mat-checkbox-label{font-family:"Fira Sans",sans-serif;font-size:14px}  .mat-form-field-label span{font-family:"Josefin Sans",sans-serif}']}),r})();function EY(r,i){if(1&r&&(c.TgZ(0,"mat-option",15),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("value",n),c.xp6(1),c.Oqu(n)}}function DY(r,i){if(1&r&&(c.TgZ(0,"mat-option",15),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("value",n),c.xp6(1),c.Oqu(n)}}function SY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(n);const o=c.oxw().index;return c.oxw().onClickRemoveTag(o)}),c.TgZ(1,"mat-icon"),c._uU(2,"remove_circle_outline"),c.qZA(),c.qZA()}}function TY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",16),c.TgZ(2,"mat-form-field"),c.TgZ(3,"mat-label"),c._uU(4,"Tag"),c.qZA(),c._UZ(5,"input",17),c.qZA(),c.TgZ(6,"mat-form-field"),c.TgZ(7,"mat-label"),c._uU(8,"Category"),c.qZA(),c.TgZ(9,"mat-select",18),c.YNc(10,DY,2,2,"mat-option",3),c.qZA(),c.qZA(),c.TgZ(11,"div",19),c.TgZ(12,"button",20),c.NdJ("click",function(o){return c.CHM(n),c.oxw().onClickAddTag(o)}),c.TgZ(13,"mat-icon"),c._uU(14,"add_circle_outline"),c.qZA(),c.qZA(),c.YNc(15,SY,3,0,"button",21),c.qZA(),c.qZA(),c.qZA()}if(2&r){const n=i.index,s=c.oxw();c.xp6(1),c.Q6J("formGroupName",n),c.xp6(9),c.Q6J("ngForOf",s.tagCategories),c.xp6(5),c.Q6J("ngIf",n>0)}}const MY=function(r){return{enabled:r}};let IY=(()=>{class r{constructor(n,s,o,d,f,_){this.formBuilder=n,this.taskService=s,this.userService=o,this.tagService=d,this.snackBar=f,this.dialogRef=_,this.tasks=[],this.users=[],this.serverTags=[],this.taskPriorities=["Low","Medium","High"],this.tagCategories=["UX","UI","DEV","OTHER"],this.tasksSubscription=new Rt.w,this.usersSubsription=new Rt.w,this.tagsSubscription=new Rt.w,this.newTaskForm=this.formBuilder.group({createdOn:[],status:[],index:[],priority:[,Ds.required],description:[,Ds.required],dueDate:[,Ds.required],users:[,Ds.required],tags:this.formBuilder.array([this.initTagsForm()])})}get tags(){return this.newTaskForm.get("tags")}ngOnInit(){this.tasksSubscription=this.taskService.getTasks().subscribe(n=>this.tasks=n),this.usersSubsription=this.userService.getUsers().subscribe(n=>this.users=n),this.tagsSubscription=this.tagService.getTags().subscribe(n=>this.serverTags=n)}initTagsForm(){return this.formBuilder.group({name:[,Ds.required],category:[,Ds.required]})}receiveUserSelection(n){this.newTaskForm.controls.users.setValue(n.data)}getNewTaskIndex(){const n=this.tasks.filter(s=>"New"===s.status);return n.length>0?n[n.length-1].index:-1}onSubmitCreateTask(){const n=this.getNewTaskIndex();this.newTaskForm.patchValue({createdOn:new Date,status:"New",index:n+1}),this.taskService.createTask(this.newTaskForm.value,this.serverTags),this.dialogRef.close(),this.snackBar.open("Task created successfully! \u2728","Close")}onClickAddTag(n){n.preventDefault(),this.tags.push(this.initTagsForm())}onClickRemoveTag(n){this.tags.removeAt(n)}onClickCloseModal(){this.dialogRef.close()}ngOnDestroy(){this.tasksSubscription.unsubscribe(),this.usersSubsription.unsubscribe(),this.tagsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(TO),c.Y36(FI),c.Y36(WE),c.Y36(PI),c.Y36(AO),c.Y36(KE))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-new-task-form"]],decls:29,vars:10,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"close-button",3,"click"],["name","priority","formControlName","priority"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","dueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formArrayName","tags"],[4,"ngFor","ngForOf"],[1,"description"],["matInput","","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],[1,"multiselect"],["placeholder","Asignee(s)","type","users",3,"data","result"],["mat-raised-button","","type","submit",1,"submit-button",3,"ngClass","disabled"],[3,"value"],[3,"formGroupName"],["matInput","","type","text","formControlName","name"],["name","tagCategory","formControlName","category"],[1,"tag-buttons"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click",4,"ngIf"]],template:function(n,s){if(1&n&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return s.onSubmitCreateTask()}),c.TgZ(1,"mat-icon",1),c.NdJ("click",function(){return s.onClickCloseModal()}),c._uU(2,"close"),c.qZA(),c.TgZ(3,"mat-form-field"),c.TgZ(4,"mat-label"),c._uU(5,"Priority"),c.qZA(),c.TgZ(6,"mat-select",2),c.YNc(7,EY,2,2,"mat-option",3),c.qZA(),c.qZA(),c.TgZ(8,"mat-form-field"),c.TgZ(9,"mat-label"),c._uU(10,"Due date"),c.qZA(),c._UZ(11,"input",4),c._UZ(12,"mat-datepicker-toggle",5),c._UZ(13,"mat-datepicker",null,6),c.qZA(),c.TgZ(15,"div",7),c.YNc(16,TY,16,3,"div",8),c.qZA(),c.TgZ(17,"mat-form-field",9),c.TgZ(18,"mat-label"),c._uU(19,"Description"),c.qZA(),c.TgZ(20,"textarea",10,11),c._uU(22,"        "),c.qZA(),c.qZA(),c.TgZ(23,"div",12),c.TgZ(24,"app-multiselect-autocomplete",13),c.NdJ("result",function(d){return s.receiveUserSelection(d)}),c.qZA(),c.qZA(),c.TgZ(25,"button",14),c.TgZ(26,"mat-icon"),c._uU(27,"check"),c.qZA(),c._uU(28," Create Task "),c.qZA(),c.qZA()),2&n){const o=c.MAs(14);c.Q6J("formGroup",s.newTaskForm),c.xp6(7),c.Q6J("ngForOf",s.taskPriorities),c.xp6(4),c.Q6J("matDatepicker",o),c.xp6(1),c.Q6J("for",o),c.xp6(4),c.Q6J("ngForOf",s.tags.controls),c.xp6(8),c.Q6J("data",s.users),c.xp6(1),c.Q6J("ngClass",c.VKq(8,MY,s.newTaskForm.valid))("disabled",!s.newTaskForm.valid)}},directives:[RI,DI,ua,XE,VO,jI,c2,EI,OI,Nt,UO,Iv,qI,T2,e2,E2,ZE,BO,KO,tl,fr,SE,qE,oi],styles:['form[_ngcontent-%COMP%]{width:60vw;max-height:80vh;overflow:initial;position:relative}@media (min-width: 1200px){form[_ngcontent-%COMP%]{width:50vw}}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:10px}form[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:"Josefin Sans",sans-serif}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{caret-color:#fff}form[_ngcontent-%COMP%]   .tag-buttons[_ngcontent-%COMP%]{padding:10px;display:inline-block}form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:90%}form[_ngcontent-%COMP%]   .multiselect[_ngcontent-%COMP%]{padding:10px;width:90%}form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:14px;margin:10px 10px 50px}form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;vertical-align:sub}form[_ngcontent-%COMP%]   .submit-button.enabled[_ngcontent-%COMP%]{background-color:#5ee04dde}form[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;right:0px}form[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{cursor:pointer}  .mat-form-field.mat-focused .mat-form-field-label, .mat-option-text[_ngcontent-%COMP%]{color:#fff}  .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#fff}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#fff}  .mat-datepicker-toggle-active{color:#fff}  .mat-select-value-text,   .mat-option-text,   .mat-form-field-infix{font-family:"Fira Sans",sans-serif;font-size:14px}']}),r})(),AY=(()=>{class r{constructor(){this.loading$=new ys(!1)}show(){this.loading$.next(!0)}hide(){this.loading$.next(!1)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kY=(()=>{class r{constructor(n,s,o){this.formBuilder=n,this.userService=s,this.tagsService=o,this.filterForm=this.formBuilder.group({priorities:[""],users:[""],tags:[""]}),this.filters=new c.vpe,this.taskPriorities=["Low","Medium","High"],this.isCleared=!1,this.users=[],this.tags=[],this.usersSubscription=new Rt.w,this.tagsSubscription=new Rt.w}ngOnInit(){this.usersSubscription=this.userService.getUsers().subscribe(n=>this.users=n),this.tagsSubscription=this.tagsService.getTags().subscribe(n=>this.tags=n)}receivePrioritySelection(n){this.isCleared=!1,this.filterForm.controls.priorities.setValue(n.data)}receiveUserSelection(n){this.isCleared=!1,this.filterForm.controls.users.setValue(n.data)}receiveTagsSelection(n){this.isCleared=!1,this.filterForm.controls.tags.setValue(n.data)}onSubmitFilterForm(){this.filters.emit(this.filterForm.value)}onClickClearFilter(){this.isCleared=!0,this.filterForm.reset(),this.filters.emit(this.filterForm.value)}ngOnDestroy(){this.usersSubscription.unsubscribe(),this.tagsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(TO),c.Y36(WE),c.Y36(PI))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-filter-form"]],outputs:{filters:"filters"},decls:9,vars:7,consts:[["autocomplete","off",3,"formGroup"],["placeholder","Search by priority","type","priority",3,"data","clear","result"],["placeholder","Search by user(s)","type","users",3,"data","clear","result"],["placeholder","Search by tag(s)","type","tags",3,"data","clear","result"],[1,"buttons"],["mat-raised-button","",3,"click"]],template:function(n,s){1&n&&(c.TgZ(0,"form",0),c.TgZ(1,"app-multiselect-autocomplete",1),c.NdJ("result",function(d){return s.receivePrioritySelection(d)}),c.qZA(),c.TgZ(2,"app-multiselect-autocomplete",2),c.NdJ("result",function(d){return s.receiveUserSelection(d)}),c.qZA(),c.TgZ(3,"app-multiselect-autocomplete",3),c.NdJ("result",function(d){return s.receiveTagsSelection(d)}),c.qZA(),c.TgZ(4,"div",4),c.TgZ(5,"button",5),c.NdJ("click",function(){return s.onSubmitFilterForm()}),c._uU(6,"Filter"),c.qZA(),c.TgZ(7,"button",5),c.NdJ("click",function(){return s.onClickClearFilter()}),c._uU(8,"Clear filter"),c.qZA(),c.qZA(),c.qZA()),2&n&&(c.Q6J("formGroup",s.filterForm),c.xp6(1),c.Q6J("data",s.taskPriorities)("clear",s.isCleared),c.xp6(1),c.Q6J("data",s.users)("clear",s.isCleared),c.xp6(1),c.Q6J("data",s.tags)("clear",s.isCleared))},directives:[RI,DI,ua,KO,tl],styles:['form[_ngcontent-%COMP%]{padding:25px}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:14px}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{margin:10px 0;background-color:#5ee04dde}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#de1d3e}  .mat-form-field.mat-focused .mat-form-field-label, .mat-option-text[_ngcontent-%COMP%]{color:#fff}']}),r})();function xY(r,i){if(1&r&&(c.TgZ(0,"mat-option",15),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("value",n),c.xp6(1),c.Oqu(n)}}function RY(r,i){if(1&r&&(c.TgZ(0,"mat-option",15),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("value",n),c.xp6(1),c.Oqu(n)}}function OY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"button",20),c.NdJ("click",function(){c.CHM(n);const o=c.oxw().index;return c.oxw().onClickRemoveTag(o)}),c.TgZ(1,"mat-icon"),c._uU(2,"remove_circle_outline"),c.qZA(),c.qZA()}}function PY(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"div",16),c.TgZ(2,"mat-form-field"),c.TgZ(3,"mat-label"),c._uU(4,"Tag"),c.qZA(),c._UZ(5,"input",17),c.qZA(),c.TgZ(6,"mat-form-field"),c.TgZ(7,"mat-label"),c._uU(8,"Category"),c.qZA(),c.TgZ(9,"mat-select",18),c.YNc(10,RY,2,2,"mat-option",3),c.qZA(),c.qZA(),c.TgZ(11,"div",19),c.TgZ(12,"button",20),c.NdJ("click",function(o){return c.CHM(n),c.oxw().onClickAddTag(o)}),c.TgZ(13,"mat-icon"),c._uU(14,"add_circle_outline"),c.qZA(),c.qZA(),c.YNc(15,OY,3,0,"button",21),c.qZA(),c.qZA(),c.qZA()}if(2&r){const n=i.index,s=c.oxw();c.xp6(1),c.Q6J("formGroupName",n),c.xp6(9),c.Q6J("ngForOf",s.tagCategories),c.xp6(5),c.Q6J("ngIf",n>0)}}const FY=function(r){return{enabled:r}};let NY=(()=>{class r{constructor(n,s,o,d,f,_,C){this.formBuilder=n,this.taskService=s,this.userService=o,this.tagService=d,this.snackBar=f,this.dialogRef=_,this.availableUsers=[],this.serverTags=[],this.taskPriorities=["Low","Medium","High"],this.tagCategories=["UX","UI","DEV","OTHER"],this.usersSubscription=new Rt.w,this.tagsSubscription=new Rt.w,this.editTaskForm=this.formBuilder.group({id:[],createdOn:[],status:[],index:[],priority:[,Ds.required],description:[,Ds.required],dueDate:[,Ds.required],users:[,Ds.required],tags:this.formBuilder.array([])}),this.task=C.task,this.editTaskForm.patchValue(Object.assign(Object.assign({},this.task),{dueDate:this.task.dueDate.toDate(),createdOn:this.task.createdOn.toDate()}));for(let T=0;T<this.task.tags.length;T++)this.tags.push(this.initTagsForm()),this.tags.controls[T].patchValue({name:this.task.tags[T].name,category:this.task.tags[T].category})}get tags(){return this.editTaskForm.get("tags")}ngOnInit(){this.usersSubscription=this.userService.getUsers().subscribe(n=>this.availableUsers=n),this.tagsSubscription=this.tagService.getTags().subscribe(n=>this.serverTags=n)}initTagsForm(){return this.formBuilder.group({name:[,Ds.required],category:[,Ds.required]})}receiveUserSelection(n){this.editTaskForm.controls.users.setValue(n.data)}onSubmitEditTask(){this.taskService.updateTask(this.editTaskForm.value,this.serverTags),this.dialogRef.close(),this.snackBar.open("Task edited successfully! \u{1f389}","Close")}onClickAddTag(n){n.preventDefault(),this.tags.push(this.initTagsForm())}onClickRemoveTag(n){this.tags.removeAt(n)}onClickCloseModal(){this.dialogRef.close()}ngOnDestroy(){this.usersSubscription.unsubscribe(),this.tagsSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(TO),c.Y36(FI),c.Y36(WE),c.Y36(PI),c.Y36(AO),c.Y36(KE),c.Y36(AV))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-edit-task-form"]],decls:29,vars:11,consts:[["autocomplete","off",3,"formGroup","ngSubmit"],[1,"close-button",3,"click"],["name","priority","formControlName","priority"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","dueDate",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formArrayName","tags"],[4,"ngFor","ngForOf"],[1,"description"],["matInput","","formControlName","description","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["autosize","cdkTextareaAutosize"],[1,"multiselect"],["placeholder","Asignee(s)","type","users",3,"data","assignedUsers","result"],["mat-raised-button","","type","submit",1,"submit-button",3,"ngClass","disabled"],[3,"value"],[3,"formGroupName"],["matInput","","type","text","formControlName","name"],["name","tagCategory","formControlName","category"],[1,"tag-buttons"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click",4,"ngIf"]],template:function(n,s){if(1&n&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return s.onSubmitEditTask()}),c.TgZ(1,"mat-icon",1),c.NdJ("click",function(){return s.onClickCloseModal()}),c._uU(2,"close"),c.qZA(),c.TgZ(3,"mat-form-field"),c.TgZ(4,"mat-label"),c._uU(5,"Priority"),c.qZA(),c.TgZ(6,"mat-select",2),c.YNc(7,xY,2,2,"mat-option",3),c.qZA(),c.qZA(),c.TgZ(8,"mat-form-field"),c.TgZ(9,"mat-label"),c._uU(10,"Due date"),c.qZA(),c._UZ(11,"input",4),c._UZ(12,"mat-datepicker-toggle",5),c._UZ(13,"mat-datepicker",null,6),c.qZA(),c.TgZ(15,"div",7),c.YNc(16,PY,16,3,"div",8),c.qZA(),c.TgZ(17,"mat-form-field",9),c.TgZ(18,"mat-label"),c._uU(19,"Description"),c.qZA(),c.TgZ(20,"textarea",10,11),c._uU(22,"        "),c.qZA(),c.qZA(),c.TgZ(23,"div",12),c.TgZ(24,"app-multiselect-autocomplete",13),c.NdJ("result",function(d){return s.receiveUserSelection(d)}),c.qZA(),c.qZA(),c.TgZ(25,"button",14),c.TgZ(26,"mat-icon"),c._uU(27,"create"),c.qZA(),c._uU(28," Edit Task "),c.qZA(),c.qZA()),2&n){const o=c.MAs(14);c.Q6J("formGroup",s.editTaskForm),c.xp6(7),c.Q6J("ngForOf",s.taskPriorities),c.xp6(4),c.Q6J("matDatepicker",o),c.xp6(1),c.Q6J("for",o),c.xp6(4),c.Q6J("ngForOf",s.tags.controls),c.xp6(8),c.Q6J("data",s.availableUsers)("assignedUsers",s.task.users),c.xp6(1),c.Q6J("ngClass",c.VKq(9,FY,s.editTaskForm.valid))("disabled",!s.editTaskForm.valid)}},directives:[RI,DI,ua,XE,VO,jI,c2,EI,OI,Nt,UO,Iv,qI,T2,e2,E2,ZE,BO,KO,tl,fr,SE,qE,oi],styles:['form[_ngcontent-%COMP%]{width:60vw;max-height:80vh;overflow:initial;position:relative}@media (min-width: 1200px){form[_ngcontent-%COMP%]{width:50vw}}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:5px 10px}form[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-family:"Josefin Sans",sans-serif}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{caret-color:#fff}form[_ngcontent-%COMP%]   .tag-buttons[_ngcontent-%COMP%]{padding:10px;display:inline-block}form[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{width:90%}form[_ngcontent-%COMP%]   .multiselect[_ngcontent-%COMP%]{padding:10px;width:90%}form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:14px;margin:10px 10px 50px}form[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;vertical-align:sub}form[_ngcontent-%COMP%]   .submit-button.enabled[_ngcontent-%COMP%]{background-color:#5ee04dde}form[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;right:0px}form[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{cursor:pointer}  .mat-form-field.mat-focused .mat-form-field-label, .mat-option-text[_ngcontent-%COMP%]{color:#fff}  .mat-form-field.mat-focused .mat-form-field-ripple{background-color:#fff}  .mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#fff}  .mat-form-field.mat-focused.mat-primary .mat-select-arrow{color:#fff}  .mat-datepicker-toggle-active{color:#fff}  .mat-select-value-text,   .mat-option-text,   .mat-form-field-infix{font-family:"Fira Sans",sans-serif;font-size:14px}']}),r})();const LY=["*",[["mat-card-footer"]]],VY=["*","mat-card-footer"];let GY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),zY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=c.lG2({type:r,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),r})(),$Y=(()=>{class r{constructor(n){this._animationMode=n}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(K,8))},r.\u0275cmp=c.Xpm({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,s){2&n&&c.ekj("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:VY,decls:2,vars:0,template:function(n,s){1&n&&(c.F$t(LY),c.Hsn(0),c.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),r})(),YY=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[Vt],Vt]}),r})();const qY=function(r,i,n){return{low:r,medium:i,high:n}};function ZY(r,i){if(1&r&&(c.TgZ(0,"mat-chip",9),c._uU(1),c.qZA()),2&r){const n=c.oxw();c.Q6J("ngClass",c.kEZ(2,qY,"Low"===(null==n.task?null:n.task.priority),"Medium"===(null==n.task?null:n.task.priority),"High"===(null==n.task?null:n.task.priority))),c.xp6(1),c.hij(" ",null==n.task?null:n.task.priority," ")}}function WY(r,i){if(1&r&&(c.TgZ(0,"p"),c._uU(1),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.hij(" ",null==n.task?null:n.task.description," ")}}const KY=function(r,i,n,s){return{dev:r,ux:i,ui:n,other:s}};function QY(r,i){if(1&r&&(c.TgZ(0,"mat-chip",12),c._uU(1),c.qZA()),2&r){const n=i.$implicit;c.Q6J("ngClass",c.l5B(2,KY,"DEV"===n.category,"UX"===n.category,"UI"===n.category,"OTHER"===n.category)),c.xp6(1),c.hij(" ",n.name," ")}}function JY(r,i){if(1&r&&(c.TgZ(0,"mat-chip-list",10),c.YNc(1,QY,2,7,"mat-chip",11),c.qZA()),2&r){const n=c.oxw();c.Q6J("tabIndex",-1),c.xp6(1),c.Q6J("ngForOf",null==n.task?null:n.task.tags)}}function XY(r,i){if(1&r&&(c.TgZ(0,"p",13),c._uU(1," Created on: "),c.TgZ(2,"span"),c._uU(3),c.ALo(4,"date"),c.qZA(),c.qZA()),2&r){const n=c.oxw();c.xp6(3),c.Oqu(c.xi3(4,1,null==n.task||null==n.task.createdOn?null:n.task.createdOn.toDate(),"MM/dd/yyyy"))}}function eq(r,i){if(1&r&&(c.TgZ(0,"p",13),c._uU(1," Due date: "),c.TgZ(2,"span"),c._uU(3),c.ALo(4,"date"),c.qZA(),c.qZA()),2&r){const n=c.oxw();c.xp6(3),c.Oqu(c.xi3(4,1,null==n.task||null==n.task.dueDate?null:n.task.dueDate.toDate(),"MM/dd/yyyy"))}}function tq(r,i){if(1&r&&(c.ynx(0),c._UZ(1,"img",16),c.BQk()),2&r){const n=i.$implicit;c.xp6(1),c.Q6J("src",n.photoURL,c.LSH)}}function nq(r,i){if(1&r&&(c.TgZ(0,"div",14),c.YNc(1,tq,2,1,"ng-container",15),c.qZA()),2&r){const n=c.oxw();c.xp6(1),c.Q6J("ngForOf",null==n.task?null:n.task.users)}}function iq(r,i){1&r&&(c.TgZ(0,"div",17),c.TgZ(1,"mat-icon"),c._uU(2,"error_outline"),c.qZA(),c.TgZ(3,"span"),c._uU(4,"Delayed"),c.qZA(),c.qZA())}const rq=function(r){return{"task-delayed-card":r}},sq=["*"];let oq=(()=>{class r{constructor(n,s,o){this.taskService=n,this.dialog=s,this.snackBar=o,this.users=[],this.tags=[],this.isDelayed=!1}ngOnInit(){this.calculateIfTaskIsDelayed()}calculateIfTaskIsDelayed(){var n;new Date>(null===(n=this.task)||void 0===n?void 0:n.dueDate.toDate())&&(this.isDelayed=!0)}onClickEditTask(n){this.dialog.open(NY,{data:{task:n}})}onClickDeleteTask(n){this.taskService.deleteTask(n.id),this.snackBar.open("Task deleted successfully! \u{1f37a}","Close")}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(FI),c.Y36(QE),c.Y36(AO))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-task"]],inputs:{task:"task"},ngContentSelectors:sq,decls:16,vars:10,consts:[[3,"ngClass"],["selected","","disabled","true","class","priority",3,"ngClass",4,"ngIf"],["mat-icon-button","",1,"edit-task-button",3,"click"],["mat-icon-button","",1,"delete-task-button",3,"click"],[4,"ngIf"],[3,"tabIndex",4,"ngIf"],["class","date",4,"ngIf"],["class","avatars",4,"ngIf"],["class","task-delayed-icon",4,"ngIf"],["selected","","disabled","true",1,"priority",3,"ngClass"],[3,"tabIndex"],["disabled","true","class","tags",3,"ngClass",4,"ngFor","ngForOf"],["disabled","true",1,"tags",3,"ngClass"],[1,"date"],[1,"avatars"],[4,"ngFor","ngForOf"],["mat-card-avatar","",3,"src"],[1,"task-delayed-icon"]],template:function(n,s){1&n&&(c.F$t(),c.TgZ(0,"mat-card",0),c.Hsn(1),c.YNc(2,ZY,2,6,"mat-chip",1),c.TgZ(3,"button",2),c.NdJ("click",function(){return s.onClickEditTask(s.task)}),c.TgZ(4,"mat-icon"),c._uU(5,"edit"),c.qZA(),c.qZA(),c.TgZ(6,"button",3),c.NdJ("click",function(){return s.onClickDeleteTask(s.task)}),c.TgZ(7,"mat-icon"),c._uU(8,"delete"),c.qZA(),c.qZA(),c.TgZ(9,"mat-card-content"),c.YNc(10,WY,2,1,"p",4),c.YNc(11,JY,2,2,"mat-chip-list",5),c.YNc(12,XY,5,4,"p",6),c.YNc(13,eq,5,4,"p",6),c.YNc(14,nq,2,1,"div",7),c.YNc(15,iq,5,0,"div",8),c.qZA(),c.qZA()),2&n&&(c.Q6J("ngClass",c.VKq(8,rq,s.isDelayed)),c.xp6(2),c.Q6J("ngIf",null==s.task?null:s.task.priority),c.xp6(8),c.Q6J("ngIf",null==s.task?null:s.task.description),c.xp6(1),c.Q6J("ngIf",null==s.task?null:s.task.tags),c.xp6(1),c.Q6J("ngIf",null==s.task?null:s.task.createdOn),c.xp6(1),c.Q6J("ngIf",null==s.task?null:s.task.dueDate),c.xp6(1),c.Q6J("ngIf",null==s.task?null:s.task.users),c.xp6(1),c.Q6J("ngIf",s.isDelayed))},directives:[$Y,fr,oi,tl,XE,GY,iD,WO,Nt,zY],pipes:[Lv],styles:['mat-card[_ngcontent-%COMP%]{margin:0 auto 30px;background-color:#fff;color:#000}@media (min-width: 768px){mat-card[_ngcontent-%COMP%]{width:200px}}@media (min-width: 900px){mat-card[_ngcontent-%COMP%]{width:240px}}@media (min-width: 1024px){mat-card[_ngcontent-%COMP%]{width:280px}}@media (min-width: 1250px){mat-card[_ngcontent-%COMP%]{width:300px}}mat-card[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:14px;color:#000;font-family:"Josefin Sans",sans-serif}mat-card[_ngcontent-%COMP%]   .mat-chip.mat-standard-chip.mat-chip-disabled[_ngcontent-%COMP%]{opacity:1}mat-card[_ngcontent-%COMP%]   .priority.low[_ngcontent-%COMP%]{background-color:#56c944}mat-card[_ngcontent-%COMP%]   .priority.medium[_ngcontent-%COMP%]{background-color:#fca503}mat-card[_ngcontent-%COMP%]   .priority.high[_ngcontent-%COMP%]{background-color:#de1d3e;color:#fff}mat-card[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{background-color:transparent!important}mat-card[_ngcontent-%COMP%]   .tags.dev[_ngcontent-%COMP%]{border:1px solid #22a6b3;color:#22a6b3!important}mat-card[_ngcontent-%COMP%]   .tags.ux[_ngcontent-%COMP%]{border:1px solid #eb4d4b;color:#eb4d4b!important}mat-card[_ngcontent-%COMP%]   .tags.ui[_ngcontent-%COMP%]{border:1px solid #6ab04c;color:#6ab04c!important}mat-card[_ngcontent-%COMP%]   .tags.other[_ngcontent-%COMP%]{border:1px solid #6F1E51;color:#6f1e51!important}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:15px;margin-top:14px;font-weight:300}mat-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-style:normal;font-size:13px;margin-bottom:0}mat-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:"Josefin Sans",sans-serif;font-style:italic;color:#666}mat-card[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}mat-card[_ngcontent-%COMP%]   .avatars[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:35px;margin:0 3px;border:.5px solid #666666}mat-card[_ngcontent-%COMP%]   .task-delayed-icon[_ngcontent-%COMP%]{position:absolute;bottom:12px;color:#de1d3e}mat-card[_ngcontent-%COMP%]   .task-delayed-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:12px;font-weight:400;margin-left:5px;vertical-align:super}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}mat-card[_ngcontent-%COMP%]:hover   .edit-task-button[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]:hover   .delete-task-button[_ngcontent-%COMP%]{opacity:1}.edit-task-button[_ngcontent-%COMP%]{position:absolute;right:45px;top:12px;color:#555;opacity:0;transition:opacity .2s ease-in-out}.delete-task-button[_ngcontent-%COMP%]{position:absolute;right:12px;top:12px;color:#555;opacity:0;transition:opacity .2s ease-in-out}.edit-task-button[_ngcontent-%COMP%]:hover, .delete-task-button[_ngcontent-%COMP%]:hover{background-color:#eee}.task-delayed-card[_ngcontent-%COMP%]{border-left:3px solid #DE1D3E}']}),r})();const aq=["sidenav"];function lq(r,i){1&r&&c._UZ(0,"div",22)}function cq(r,i){if(1&r&&c._UZ(0,"img",23),2&r){const n=i.ngIf;c.oxw();const s=c.MAs(13);c.Q6J("src",n.photoURL,c.LSH)("matMenuTriggerFor",s)}}function uq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).onClickNewTask()}),c.TgZ(1,"mat-icon"),c._uU(2,"create"),c.qZA(),c._uU(3," New Task "),c.qZA()}}function dq(r,i){if(1&r&&(c.ynx(0),c.TgZ(1,"mat-grid-tile"),c.TgZ(2,"h2"),c._uU(3),c.qZA(),c.YNc(4,uq,4,0,"button",24),c.qZA(),c.BQk()),2&r){const n=i.$implicit,s=c.oxw(2);c.xp6(3),c.Oqu(n),c.xp6(1),c.Q6J("ngIf","New"===n&&s.newTasks.length>0)}}function hq(r,i){if(1&r&&(c.TgZ(0,"div",28),c.TgZ(1,"app-task",29),c.TgZ(2,"mat-icon",30),c._uU(3,"drag_indicator"),c.qZA(),c.qZA(),c.qZA()),2&r){const n=i.$implicit;c.Q6J("cdkDragData",n),c.xp6(1),c.Q6J("task",n)}}function fq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",26),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c.YNc(1,hq,4,2,"div",27),c.qZA()}if(2&r){const n=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",n.newTasks)}}function pq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",31),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c._UZ(1,"img",32),c.TgZ(2,"button",25),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).onClickNewTask()}),c.TgZ(3,"mat-icon"),c._uU(4,"create"),c.qZA(),c._uU(5," New Task "),c.qZA(),c.qZA()}}function mq(r,i){if(1&r&&(c.TgZ(0,"div",28),c.TgZ(1,"app-task",29),c.TgZ(2,"mat-icon",30),c._uU(3,"drag_indicator"),c.qZA(),c.qZA(),c.qZA()),2&r){const n=i.$implicit;c.Q6J("cdkDragData",n),c.xp6(1),c.Q6J("task",n)}}function gq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",33),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c.YNc(1,mq,4,2,"div",27),c.qZA()}if(2&r){const n=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",n.inProgressTasks)}}function _q(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",34),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c.qZA()}}function yq(r,i){if(1&r&&(c.TgZ(0,"div",28),c.TgZ(1,"app-task",29),c.TgZ(2,"mat-icon",30),c._uU(3,"drag_indicator"),c.qZA(),c.qZA(),c.qZA()),2&r){const n=i.$implicit;c.Q6J("cdkDragData",n),c.xp6(1),c.Q6J("task",n)}}function vq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",35),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c.YNc(1,yq,4,2,"div",27),c.qZA()}if(2&r){const n=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",n.finishedTasks)}}function bq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"div",36),c.NdJ("cdkDropListDropped",function(o){return c.CHM(n),c.oxw(2).dropped(o)}),c.qZA()}}function Cq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"mat-sidenav-container",2),c.TgZ(1,"mat-sidenav",3,4),c.TgZ(3,"app-filter-form",5),c.NdJ("filters",function(o){return c.CHM(n),c.oxw().receiveFilters(o)}),c.qZA(),c.qZA(),c.TgZ(4,"mat-sidenav-content"),c.TgZ(5,"button",6),c.NdJ("click",function(){return c.CHM(n),c.MAs(2).toggle()}),c.TgZ(6,"mat-icon"),c._uU(7,"filter_list"),c.qZA(),c.YNc(8,lq,1,0,"div",7),c.qZA(),c.TgZ(9,"div",8),c.YNc(10,cq,1,2,"img",9),c.ALo(11,"async"),c.TgZ(12,"mat-menu",null,10),c.TgZ(14,"button",11),c.NdJ("click",function(){return c.CHM(n),c.oxw().afAuth.signOut()}),c.TgZ(15,"span"),c._uU(16,"Sign Out"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"section",12),c.TgZ(18,"mat-grid-list",13),c.YNc(19,dq,5,2,"ng-container",14),c.qZA(),c.TgZ(20,"mat-grid-list",15),c.TgZ(21,"mat-grid-tile"),c.YNc(22,fq,2,1,"div",16),c.YNc(23,pq,6,0,"div",17),c.qZA(),c.TgZ(24,"mat-grid-tile"),c.YNc(25,gq,2,1,"div",18),c.YNc(26,_q,1,0,"div",19),c.qZA(),c.TgZ(27,"mat-grid-tile"),c.YNc(28,vq,2,1,"div",20),c.YNc(29,bq,1,0,"div",21),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&r){const n=c.oxw();c.xp6(8),c.Q6J("ngIf",n.filtersApplied),c.xp6(2),c.Q6J("ngIf",c.lcZ(11,9,n.afAuth.authState)),c.xp6(9),c.Q6J("ngForOf",n.titleCols),c.xp6(3),c.Q6J("ngIf",n.newTasks.length>0),c.xp6(1),c.Q6J("ngIf",0===n.newTasks.length),c.xp6(2),c.Q6J("ngIf",n.inProgressTasks.length>0),c.xp6(1),c.Q6J("ngIf",0===n.inProgressTasks.length),c.xp6(2),c.Q6J("ngIf",n.finishedTasks.length>0),c.xp6(1),c.Q6J("ngIf",0===n.finishedTasks.length)}}function wq(r,i){1&r&&(c.TgZ(0,"section",37),c.TgZ(1,"p"),c._uU(2,"Starting app..."),c.qZA(),c._UZ(3,"mat-spinner"),c.qZA())}let Eq=(()=>{class r{constructor(n,s,o,d){this.taskService=n,this.dialog=s,this.loadingService=o,this.afAuth=d,this.titleCols=["New","In Progress","Finished"],this.filtersApplied=!1,this.newTasks=[],this.inProgressTasks=[],this.finishedTasks=[],this.tasksSubscription=new Rt.w}ngOnInit(){this.loadingService.show(),this.tasksSubscription=this.taskService.getTasks().subscribe(n=>{this.orderTasks(n),this.loadingService.hide()})}orderTasks(n){this.newTasks=n.filter(s=>"New"===s.status),this.inProgressTasks=n.filter(s=>"In Progress"===s.status),this.finishedTasks=n.filter(s=>"Finished"===s.status)}receiveFilters(n){this.tasksSubscription=this.taskService.getTasks().subscribe(s=>this.orderTasks(this.filterTasks(n,s))),this.sidenav.close()}filterTasks(n,s){let o=[];const{tags:d,users:f,priorities:_}=n;return d||f||_?((null==d?void 0:d.length)>0&&d.forEach(C=>{s.forEach(T=>{T.tags.forEach(I=>{I.name===C.name&&o.push(T)})})}),(null==f?void 0:f.length)>0&&f.forEach(C=>{s.forEach(T=>{T.users.forEach(I=>{I.id===C.id&&o.push(T)})})}),(null==_?void 0:_.length)>0&&_.forEach(C=>{s.forEach(T=>{T.priority===C&&o.push(T)})}),this.filtersApplied=!0,[...new Map(o.map(C=>[C.id,C])).values()]):(this.filtersApplied=!1,o=s)}onClickNewTask(){this.dialog.open(IY)}dropped(n){if(n.previousContainer===n.container)switch(n.container.id){case"new":iI(this.newTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.newTasks);break;case"inProgress":iI(this.inProgressTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.inProgressTasks);break;case"finished":iI(this.finishedTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.finishedTasks)}else"new"===n.previousContainer.id&&"inProgress"===n.container.id||"new"===n.previousContainer.id&&"inProgress-empty"===n.container.id?(wv(this.newTasks,this.inProgressTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.inProgressTasks,"In Progress")):"inProgress"===n.previousContainer.id&&"new"===n.container.id||"inProgress"===n.previousContainer.id&&"new-empty"===n.container.id?(wv(this.inProgressTasks,this.newTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.newTasks,"New")):"inProgress"===n.previousContainer.id&&"finished"===n.container.id||"inProgress"===n.previousContainer.id&&"finished-empty"===n.container.id?(wv(this.inProgressTasks,this.finishedTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.finishedTasks,"Finished")):"finished"===n.previousContainer.id&&"inProgress"===n.container.id||"finished"===n.previousContainer.id&&"inProgress-empty"===n.container.id?(wv(this.finishedTasks,this.inProgressTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.inProgressTasks,"In Progress")):"new"===n.previousContainer.id&&"finished"===n.container.id||"new"===n.previousContainer.id&&"finished-empty"===n.container.id?(wv(this.newTasks,this.finishedTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.finishedTasks,"Finished")):("finished"===n.previousContainer.id&&"new"===n.container.id||"finished"===n.previousContainer.id&&"new-empty"===n.container.id)&&(wv(this.finishedTasks,this.newTasks,n.previousIndex,n.currentIndex),this.taskService.sortTasks(this.newTasks,"New"))}ngOnDestroy(){this.tasksSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(FI),c.Y36(QE),c.Y36(AY),c.Y36(ia))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-home-page"]],viewQuery:function(n,s){if(1&n&&c.Gf(aq,5),2&n){let o;c.iGM(o=c.CRH())&&(s.sidenav=o.first)}},decls:4,vars:4,consts:[["class","container",4,"ngIf","ngIfElse"],["loading",""],[1,"container"],["mode","over","autoFocus","false",1,"sidenav-filter"],["sidenav",""],[3,"filters"],["mat-icon-button","",1,"filter-button",3,"click"],["class","filters-applied-noti",4,"ngIf"],[1,"profile-button"],["mat-card-avatar","",3,"src","matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"kanban"],["cols","3","rowHeight","100px",1,"title-grid"],[4,"ngFor","ngForOf"],["cols","3","rowHeight","100%","cdkDropListGroup","",1,"task-grid"],["cdkDropList","","id","new",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","new-empty","class","empty-tile",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","inProgress",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","inProgress-empty","class","empty-tile",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","finished",3,"cdkDropListDropped",4,"ngIf"],["cdkDropList","","id","finished-empty","class","empty-tile",3,"cdkDropListDropped",4,"ngIf"],[1,"filters-applied-noti"],["mat-card-avatar","",3,"src","matMenuTriggerFor"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["cdkDropList","","id","new",3,"cdkDropListDropped"],["cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf"],["cdkDrag","",3,"cdkDragData"],[3,"task"],["cdkDragHandle","",1,"drag-handler"],["cdkDropList","","id","new-empty",1,"empty-tile",3,"cdkDropListDropped"],["src","assets/party.png","alt","confetti"],["cdkDropList","","id","inProgress",3,"cdkDropListDropped"],["cdkDropList","","id","inProgress-empty",1,"empty-tile",3,"cdkDropListDropped"],["cdkDropList","","id","finished",3,"cdkDropListDropped"],["cdkDropList","","id","finished-empty",1,"empty-tile",3,"cdkDropListDropped"],[1,"loading"]],template:function(n,s){if(1&n&&(c.YNc(0,Cq,30,11,"mat-sidenav-container",0),c.ALo(1,"async"),c.YNc(2,wq,4,0,"ng-template",null,1,c.W1O)),2&n){const o=c.MAs(3);c.Q6J("ngIf",!c.lcZ(1,2,s.loadingService.loading$))("ngIfElse",o)}},directives:[oi,MF,TF,kY,CR,tl,XE,y3,XM,GB,Nt,O3,cF,w3,N3,B3,oq,L3,XB],pipes:[yc],styles:['.container[_ngcontent-%COMP%]{position:absolute;top:0px;bottom:0px;left:0px;right:0px;background-color:#f9f9f9;color:#000}.filter-button[_ngcontent-%COMP%]{position:absolute;left:2vw;top:0px;margin-top:28px;color:#555;z-index:1}@media (min-width: 1440px){.filter-button[_ngcontent-%COMP%]{left:5vw}}.filter-button[_ngcontent-%COMP%]   .filters-applied-noti[_ngcontent-%COMP%]{background-color:#de1d3e;width:10px;height:10px;border-radius:50%;position:absolute;top:20px;right:4px}.filter-button[_ngcontent-%COMP%]:hover{background-color:#eee}.profile-button[_ngcontent-%COMP%]{position:absolute;right:2vw;top:0px;margin-top:28px;z-index:1}@media (min-width: 1440px){.profile-button[_ngcontent-%COMP%]{right:5vw}}.profile-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:.5px solid #666666;transition:box-shadow .3s ease-in-out}.profile-button[_ngcontent-%COMP%]:hover{cursor:pointer}.profile-button[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;transition:box-shadow .2s ease-in-out}.sidenav-filter[_ngcontent-%COMP%]{width:30%}.kanban[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0px}@media (min-width: 1440px){.kanban[_ngcontent-%COMP%]{width:80%;left:10%}}@media (min-width: 1900px){.kanban[_ngcontent-%COMP%]{width:60%;left:20%}}.title-grid[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:"Josefin Sans",sans-serif;font-weight:300;font-size:24px}.title-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:"Fira Sans",sans-serif;font-size:14px;margin-left:20px;padding-left:5px;padding-right:10px}.title-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;vertical-align:text-top}.title-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.task-grid[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]{overflow:scroll}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content{position:initial;height:auto;margin:0 20px}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content>div{margin-bottom:175px}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content .empty-tile{width:100%;height:80vh;border:1px dashed #bbb9b9;margin-bottom:0;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content .empty-tile img{width:100px;margin-bottom:20px;margin-left:18px}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content .empty-tile button{font-family:"Fira Sans",sans-serif}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content .empty-tile button mat-icon{font-size:18px;vertical-align:text-top}[_nghost-%COMP%]     .task-grid mat-grid-tile .mat-grid-tile-content .empty-tile button:hover{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:"Josefin Sans",sans-serif;font-weight:600;font-size:24px}.drag-handler[_ngcontent-%COMP%]{margin-right:10px;margin-left:-8px;vertical-align:middle}.drag-handler[_ngcontent-%COMP%]:hover{cursor:move}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .2s ease}']}),r})(),Dq=(()=>{class r{constructor(n){this.afAuth=n}onclick(){this.afAuth.signInWithPopup(new eE.Z.auth.GoogleAuthProvider)}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(ia))},r.\u0275dir=c.lG2({type:r,selectors:[["","appGoogleSignin",""]],hostBindings:function(n,s){1&n&&c.NdJ("click",function(){return s.onclick()})}}),r})();function Sq(r,i){if(1&r){const n=c.EpF();c.TgZ(0,"section"),c._UZ(1,"img",1),c.TgZ(2,"h1"),c._uU(3,"K from Kanban"),c.qZA(),c.TgZ(4,"p"),c._uU(5,"A minimal Kanban app made with \u{1f49e} by Antxon Eguiguren"),c.qZA(),c.TgZ(6,"button",2),c.NdJ("click",function(){return c.CHM(n),c.oxw().onClickGoogleSignIn()}),c._uU(7," Sign In with Google "),c.qZA(),c.qZA()}}const Tq=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",component:Eq,canActivate:[(()=>{class r{constructor(n,s){this.userService=n,this.router=s}canActivate(){return this.subscription=this.userService.isLoggedIn().subscribe(n=>{null===n&&this.router.navigate(["/sign-in"])}),!0}ngOnDestroy(){this.subscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.LFG(WE),c.LFG(Wr))},r.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()]},{path:"sign-in",component:(()=>{class r{constructor(n,s,o){this.userService=n,this.router=s,this.afAuth=o}ngOnInit(){this.loggedInSubscription=this.userService.isLoggedIn().subscribe(n=>{n&&this.router.navigate(["/home"])})}onClickGoogleSignIn(){this.loggedInSubscription=this.userService.isLoggedIn().subscribe(n=>{if(n){let{displayName:s,email:o,photoURL:d,uid:f}=n.multiFactor.user;""===d&&(d="https://avatars.githubusercontent.com/u/39241600?v=4");const _={id:f,name:s,email:o,photoURL:d};this.usersSubscription=this.userService.getUsers().subscribe(C=>{this.checkIfUserExists(_,C)||this.userService.createUser(_),this.router.navigate(["/home"])})}})}checkIfUserExists(n,s){return void 0!==s.find(d=>d.email===n.email)}ngOnDestroy(){this.loggedInSubscription&&this.loggedInSubscription.unsubscribe(),this.usersSubscription&&this.usersSubscription.unsubscribe()}}return r.\u0275fac=function(n){return new(n||r)(c.Y36(WE),c.Y36(Wr),c.Y36(ia))},r.\u0275cmp=c.Xpm({type:r,selectors:[["app-sign-in-page"]],decls:2,vars:3,consts:[[4,"ngIf"],["src","../../../assets/favicon/favicon.svg","alt","k-from-kanban-logo"],["mat-raised-button","","appGoogleSignin","",3,"click"]],template:function(n,s){1&n&&(c.YNc(0,Sq,8,0,"section",0),c.ALo(1,"async")),2&n&&c.Q6J("ngIf",!c.lcZ(1,1,s.afAuth.authState))},directives:[oi,tl,Dq],pipes:[yc],styles:['section[_ngcontent-%COMP%]{width:40%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-family:"Josefin Sans",sans-serif}section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-family:"Fira Sans",sans-serif}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;display:block;margin:0 auto}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;margin:60px auto 0;font-family:"Fira Sans",sans-serif}section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;transition:box-shadow .2s ease-in-out}']}),r})()},{path:"**",pathMatch:"full",redirectTo:"home"}];let Mq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({imports:[[vL.forRoot(Tq)],vL]}),r})(),Iq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r}),r.\u0275inj=c.cJS({providers:[{provide:IO,useValue:{duration:5e3,panelClass:"snackbar"}}],imports:[[YY,iY,GI,NI,SG,Vz,WV,jz,A$,CB,z$,pY,IV,Xj,vV,pr],WV,NI]}),r})();const B2_firebaseConfig={apiKey:"AIzaSyBP7uu6o9GgOduSRA1_5ql1u-dKioGY0zk",authDomain:"k-from-kanban.firebaseapp.com",projectId:"k-from-kanban",storageBucket:"k-from-kanban.appspot.com",messagingSenderId:"818004341627",appId:"1:818004341627:web:1fd4cfab6e0964fd9883de"};let Aq=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=c.oAB({type:r,bootstrap:[lj]}),r.\u0275inj=c.cJS({providers:[],imports:[[jf,ft,Mq,Iq,nn.hO.initializeApp(B2_firebaseConfig),_s,Cx,zB,eU,BU,E3,U3]]}),r})();(0,c.G48)(),Mc().bootstrapModule(Aq).catch(r=>console.error(r))},4762:(He,Ce,N)=>{"use strict";function me(ae,ue){var ye={};for(var de in ae)Object.prototype.hasOwnProperty.call(ae,de)&&ue.indexOf(de)<0&&(ye[de]=ae[de]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(de=Object.getOwnPropertySymbols(ae);he<de.length;he++)ue.indexOf(de[he])<0&&Object.prototype.propertyIsEnumerable.call(ae,de[he])&&(ye[de[he]]=ae[de[he]])}return ye}function W(ae,ue,ye,de){return new(ye||(ye=Promise))(function(ee,Oe){function Ze(tt){try{it(de.next(tt))}catch(dt){Oe(dt)}}function St(tt){try{it(de.throw(tt))}catch(dt){Oe(dt)}}function it(tt){tt.done?ee(tt.value):function(ee){return ee instanceof ye?ee:new ye(function(Oe){Oe(ee)})}(tt.value).then(Ze,St)}it((de=de.apply(ae,ue||[])).next())})}function z(ae,ue){var de,he,ee,Oe,ye={label:0,sent:function(){if(1&ee[0])throw ee[1];return ee[1]},trys:[],ops:[]};return Oe={next:Ze(0),throw:Ze(1),return:Ze(2)},"function"==typeof Symbol&&(Oe[Symbol.iterator]=function(){return this}),Oe;function Ze(it){return function(tt){return function(it){if(de)throw new TypeError("Generator is already executing.");for(;ye;)try{if(de=1,he&&(ee=2&it[0]?he.return:it[0]?he.throw||((ee=he.return)&&ee.call(he),0):he.next)&&!(ee=ee.call(he,it[1])).done)return ee;switch(he=0,ee&&(it=[2&it[0],ee.value]),it[0]){case 0:case 1:ee=it;break;case 4:return ye.label++,{value:it[1],done:!1};case 5:ye.label++,he=it[1],it=[0];continue;case 7:it=ye.ops.pop(),ye.trys.pop();continue;default:if(!(ee=(ee=ye.trys).length>0&&ee[ee.length-1])&&(6===it[0]||2===it[0])){ye=0;continue}if(3===it[0]&&(!ee||it[1]>ee[0]&&it[1]<ee[3])){ye.label=it[1];break}if(6===it[0]&&ye.label<ee[1]){ye.label=ee[1],ee=it;break}if(ee&&ye.label<ee[2]){ye.label=ee[2],ye.ops.push(it);break}ee[2]&&ye.ops.pop(),ye.trys.pop();continue}it=ue.call(ae,ye)}catch(tt){it=[6,tt],he=0}finally{de=ee=0}if(5&it[0])throw it[1];return{value:it[0]?it[1]:void 0,done:!0}}([it,tt])}}}function j(ae){var ue="function"==typeof Symbol&&Symbol.iterator,ye=ue&&ae[ue],de=0;if(ye)return ye.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&de>=ae.length&&(ae=void 0),{value:ae&&ae[de++],done:!ae}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(ae,ue){var ye="function"==typeof Symbol&&ae[Symbol.iterator];if(!ye)return ae;var he,Oe,de=ye.call(ae),ee=[];try{for(;(void 0===ue||ue-- >0)&&!(he=de.next()).done;)ee.push(he.value)}catch(Ze){Oe={error:Ze}}finally{try{he&&!he.done&&(ye=de.return)&&ye.call(de)}finally{if(Oe)throw Oe.error}}return ee}function ce(ae,ue,ye){if(ye||2===arguments.length)for(var ee,de=0,he=ue.length;de<he;de++)(ee||!(de in ue))&&(ee||(ee=Array.prototype.slice.call(ue,0,de)),ee[de]=ue[de]);return ae.concat(ee||Array.prototype.slice.call(ue))}N.d(Ce,{_T:()=>me,mG:()=>W,Jh:()=>z,XA:()=>j,CR:()=>re,ev:()=>ce})},8239:(He,Ce,N)=>{"use strict";function c(H,me,oe,J,q,W,z){try{var F=H[W](z),B=F.value}catch(j){return void oe(j)}F.done?me(B):Promise.resolve(B).then(J,q)}function X(H){return function(){var me=this,oe=arguments;return new Promise(function(J,q){var W=H.apply(me,oe);function z(B){c(W,J,q,z,F,"next",B)}function F(B){c(W,J,q,z,F,"throw",B)}z(void 0)})}}N.d(Ce,{Z:()=>X})}},He=>{He(He.s=1835)}]);